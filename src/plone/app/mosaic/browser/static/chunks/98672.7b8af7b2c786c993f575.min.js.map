{"version":3,"file":"chunks/98672.7b8af7b2c786c993f575.min.js","mappings":"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","sources":["webpack://plone-mosaic/./node_modules/tinymce/plugins/quickbars/index.js","webpack://plone-mosaic/./node_modules/tinymce/plugins/quickbars/plugin.js"],"sourcesContent":["// Exports the \"quickbars\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/quickbars')\n//   ES2015:\n//     import 'tinymce/plugins/quickbars'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var unique = 0;\n    var generate = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var createTableHtml = function (cols, rows) {\n      var html = '<table data-mce-id=\"mce\" style=\"width: 100%\">';\n      html += '<tbody>';\n      for (var y = 0; y < rows; y++) {\n        html += '<tr>';\n        for (var x = 0; x < cols; x++) {\n          html += '<td><br></td>';\n        }\n        html += '</tr>';\n      }\n      html += '</tbody>';\n      html += '</table>';\n      return html;\n    };\n    var getInsertedElement = function (editor) {\n      var elms = editor.dom.select('*[data-mce-id]');\n      return elms[0];\n    };\n    var insertTableHtml = function (editor, cols, rows) {\n      editor.undoManager.transact(function () {\n        editor.insertContent(createTableHtml(cols, rows));\n        var tableElm = getInsertedElement(editor);\n        tableElm.removeAttribute('data-mce-id');\n        var cellElm = editor.dom.select('td,th', tableElm);\n        editor.selection.setCursorLocation(cellElm[0], 0);\n      });\n    };\n    var insertTable = function (editor, cols, rows) {\n      editor.plugins.table ? editor.plugins.table.insertTable(cols, rows) : insertTableHtml(editor, cols, rows);\n    };\n    var insertBlob = function (editor, base64, blob) {\n      var blobCache = editor.editorUpload.blobCache;\n      var blobInfo = blobCache.create(generate('mceu'), blob, base64);\n      blobCache.add(blobInfo);\n      editor.insertContent(editor.dom.createHTML('img', { src: blobInfo.blobUri() }));\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var blobToBase64 = function (blob) {\n      return new global$2(function (resolve) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result.split(',')[1]);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var pickFile = function (editor) {\n      return new global$2(function (resolve) {\n        var fileInput = document.createElement('input');\n        fileInput.type = 'file';\n        fileInput.accept = 'image/*';\n        fileInput.style.position = 'fixed';\n        fileInput.style.left = '0';\n        fileInput.style.top = '0';\n        fileInput.style.opacity = '0.001';\n        document.body.appendChild(fileInput);\n        var changeHandler = function (e) {\n          resolve(Array.prototype.slice.call(e.target.files));\n        };\n        fileInput.addEventListener('change', changeHandler);\n        var cancelHandler = function (e) {\n          var cleanup = function () {\n            resolve([]);\n            fileInput.parentNode.removeChild(fileInput);\n          };\n          if (global$1.os.isAndroid() && e.type !== 'remove') {\n            global.setEditorTimeout(editor, cleanup, 0);\n          } else {\n            cleanup();\n          }\n          editor.off('focusin remove', cancelHandler);\n        };\n        editor.on('focusin remove', cancelHandler);\n        fileInput.click();\n      });\n    };\n\n    var setupButtons = function (editor) {\n      editor.ui.registry.addButton('quickimage', {\n        icon: 'image',\n        tooltip: 'Insert image',\n        onAction: function () {\n          pickFile(editor).then(function (files) {\n            if (files.length > 0) {\n              var blob_1 = files[0];\n              blobToBase64(blob_1).then(function (base64) {\n                insertBlob(editor, base64, blob_1);\n              });\n            }\n          });\n        }\n      });\n      editor.ui.registry.addButton('quicktable', {\n        icon: 'table',\n        tooltip: 'Insert table',\n        onAction: function () {\n          insertTable(editor, 2, 2);\n        }\n      });\n    };\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var eq = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isString = isType('string');\n    var isObject = isType('object');\n    var isArray = isType('array');\n    var isBoolean = isSimpleType('boolean');\n    var isUndefined = eq(undefined);\n    var isFunction = isSimpleType('function');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    }\n\n    var ELEMENT = 1;\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var is = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var name = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n\n    var ancestor$1 = function (scope, predicate, isRoot) {\n      var element = scope.dom;\n      var stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$1 = function (scope, predicate, isRoot) {\n      var is = function (s, test) {\n        return test(s);\n      };\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n\n    var ancestor = function (scope, selector, isRoot) {\n      return ancestor$1(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n    var closest = function (scope, selector, isRoot) {\n      var is$1 = function (element, selector) {\n        return is(element, selector);\n      };\n      return ClosestOrAncestor(is$1, ancestor, scope, selector, isRoot);\n    };\n\n    var validDefaultOrDie = function (value, predicate) {\n      if (predicate(value)) {\n        return true;\n      }\n      throw new Error('Default value doesn\\'t match requested type.');\n    };\n    var items = function (value, defaultValue) {\n      if (isArray(value) || isObject(value)) {\n        throw new Error('expected a string but found: ' + value);\n      }\n      if (isUndefined(value)) {\n        return defaultValue;\n      }\n      if (isBoolean(value)) {\n        return value === false ? '' : defaultValue;\n      }\n      return value;\n    };\n    var getToolbarItemsOr_ = function (predicate) {\n      return function (editor, name, defaultValue) {\n        validDefaultOrDie(defaultValue, predicate);\n        var value = editor.getParam(name, defaultValue);\n        return items(value, defaultValue);\n      };\n    };\n    var getToolbarItemsOr = getToolbarItemsOr_(isString);\n\n    var getTextSelectionToolbarItems = function (editor) {\n      return getToolbarItemsOr(editor, 'quickbars_selection_toolbar', 'bold italic | quicklink h2 h3 blockquote');\n    };\n    var getInsertToolbarItems = function (editor) {\n      return getToolbarItemsOr(editor, 'quickbars_insert_toolbar', 'quickimage quicktable');\n    };\n    var getImageToolbarItems = function (editor) {\n      return getToolbarItemsOr(editor, 'quickbars_image_toolbar', 'alignleft aligncenter alignright');\n    };\n\n    var addToEditor$1 = function (editor) {\n      var insertToolbarItems = getInsertToolbarItems(editor);\n      if (insertToolbarItems.trim().length > 0) {\n        editor.ui.registry.addContextToolbar('quickblock', {\n          predicate: function (node) {\n            var sugarNode = SugarElement.fromDom(node);\n            var textBlockElementsMap = editor.schema.getTextBlockElements();\n            var isRoot = function (elem) {\n              return elem.dom === editor.getBody();\n            };\n            return closest(sugarNode, 'table', isRoot).fold(function () {\n              return closest$1(sugarNode, function (elem) {\n                return name(elem) in textBlockElementsMap && editor.dom.isEmpty(elem.dom);\n              }, isRoot).isSome();\n            }, never);\n          },\n          items: insertToolbarItems,\n          position: 'line',\n          scope: 'editor'\n        });\n      }\n    };\n\n    var addToEditor = function (editor) {\n      var isEditable = function (node) {\n        return editor.dom.getContentEditableParent(node) !== 'false';\n      };\n      var isImage = function (node) {\n        return node.nodeName === 'IMG' || node.nodeName === 'FIGURE' && /image/i.test(node.className);\n      };\n      var imageToolbarItems = getImageToolbarItems(editor);\n      if (imageToolbarItems.trim().length > 0) {\n        editor.ui.registry.addContextToolbar('imageselection', {\n          predicate: isImage,\n          items: imageToolbarItems,\n          position: 'node'\n        });\n      }\n      var textToolbarItems = getTextSelectionToolbarItems(editor);\n      if (textToolbarItems.trim().length > 0) {\n        editor.ui.registry.addContextToolbar('textselection', {\n          predicate: function (node) {\n            return !isImage(node) && !editor.selection.isCollapsed() && isEditable(node);\n          },\n          items: textToolbarItems,\n          position: 'selection',\n          scope: 'editor'\n        });\n      }\n    };\n\n    function Plugin () {\n      global$3.add('quickbars', function (editor) {\n        setupButtons(editor);\n        addToEditor$1(editor);\n        addToEditor(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n"],"names":["t","call","id","global$3","tinymce","util","Tools","resolve","unique","insertBlob","editor","base64","blob","prefix","time","blobCache","editorUpload","blobInfo","create","Date","getTime","Math","floor","random","String","add","insertContent","dom","createHTML","src","blobUri","global$2","global$1","global","setupButtons","ui","registry","addButton","icon","tooltip","onAction","fileInput","document","createElement","type","accept","style","position","left","top","opacity","body","appendChild","addEventListener","e","Array","prototype","slice","target","files","cancelHandler","cleanup","parentNode","removeChild","os","isAndroid","setEditorTimeout","off","on","click","pickFile","then","length","blob_1","reader","FileReader","onloadend","result","split","readAsDataURL","cols","rows","plugins","table","insertTable","undoManager","transact","html","y","x","createTableHtml","tableElm","select","getInsertedElement","removeAttribute","cellElm","selection","setCursorLocation","insertTableHtml","isType","value","isPrototypeOf","constructor","name","isSimpleType","isString","isObject","isArray","isBoolean","isUndefined","undefined","a","isFunction","noop","constant","identity","never","always","none","NONE","fold","n","_s","isSome","isNone","getOr","getOrThunk","thunk","getOrDie","msg","Error","getOrNull","getOrUndefined","or","orThunk","map","each","bind","exists","forall","filter","toArray","toString","some","constant_a","self","me","f","s","Optional","from","ClosestOrAncestor","is","ancestor","scope","isRoot","fromDom","node","SugarElement","fromHtml","div","innerHTML","hasChildNodes","childNodes","console","error","fromTag","tag","fromText","text","createTextNode","fromPoint","docElm","elementFromPoint","element","selector","nodeType","elem","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","window","Function","predicate","ancestor$1","stop","el","getToolbarItemsOr","defaultValue","validDefaultOrDie","items","getParam","addToEditor$1","insertToolbarItems","getInsertToolbarItems","trim","addContextToolbar","sugarNode","textBlockElementsMap","schema","getTextBlockElements","getBody","closest","test","closest$1","nodeName","toLowerCase","isEmpty","addToEditor","isImage","className","imageToolbarItems","getImageToolbarItems","textToolbarItems","getTextSelectionToolbarItems","isCollapsed","getContentEditableParent","isEditable"],"sourceRoot":""}