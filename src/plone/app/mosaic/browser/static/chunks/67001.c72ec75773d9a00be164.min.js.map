{"version":3,"file":"chunks/67001.c72ec75773d9a00be164.min.js","mappings":"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","sources":["webpack://plone-mosaic/../mockup/src/core/i18n-wrapper.js","webpack://plone-mosaic/../mockup/src/pat/tinymce/tinymce.js"],"sourcesContent":["/* i18n integration.\n *\n * This is a singleton.\n * Configuration is done on the body tag data-i18ncatalogurl attribute\n *     <body data-i18ncatalogurl=\"/plonejsi18n\">\n *\n *  Or, it'll default to \"/plonejsi18n\"\n */\n\nimport I18N from \"./i18n\";\n\n// we're creating a singleton here so we can potentially\n// delay the initialization of the translate catalog\n// until after the dom is available\nlet _translation_domains = {\n    plone: null,\n    widgets: null,\n};\n\nconst translate = function (domain, msgid, keywords) {\n    if (_translation_domains[domain] === null) {\n        var i18n = new I18N();\n        i18n.loadCatalog(domain);\n        _translation_domains[domain] = i18n.MessageFactory(domain);\n    }\n    return _translation_domains[domain](msgid, keywords);\n};\n\nconst translate_widgets = function (msgid, keywords) {\n    return translate(\"widgets\", msgid, keywords);\n};\n\nconst translate_plone = function (msgid, keywords) {\n    return translate(\"plone\", msgid, keywords);\n};\n\n// backwards compatibilty: \"widgets\" domain is default factory\nexport default translate_widgets;\n\n// explicit export of translation domain factories\nexport { translate_widgets, translate_plone };\n","import Base from \"@patternslib/patternslib/src/core/base\";\nimport I18n from \"../../core/i18n\";\nimport _t from \"../../core/i18n-wrapper\";\n\nexport default Base.extend({\n    name: \"tinymce\",\n    trigger: \".pat-tinymce\",\n    parser: \"mockup\",\n    defaults: {\n        upload: {\n            uploadMultiple: false,\n            maxFiles: 1,\n            showTitle: false,\n        },\n        relatedItems: {\n            // UID attribute is required here since we're working with related items\n            attributes: [\n                \"UID\",\n                \"Title\",\n                \"portal_type\",\n                \"path\",\n                \"getURL\",\n                \"getIcon\",\n                \"is_folderish\",\n                \"review_state\",\n            ],\n            batchSize: 20,\n            basePath: \"/\",\n            vocabularyUrl: null,\n            width: 500,\n            maximumSelectionSize: 1,\n            placeholder: _t(\"Search for item on site...\"),\n        },\n        text: {\n            insertBtn: _t(\"Insert\"), // so this can be configurable for different languages\n            cancelBtn: _t(\"Cancel\"),\n            insertHeading: _t(\"Insert link\"),\n            title: _t(\"Title\"),\n            internal: _t(\"Internal\"),\n            external: _t(\"External\"),\n            externalText: _t(\"External URL (can be relative within this site or absolute if it starts with http:// or https://)\"), // prettier-ignore\n            email: _t(\"Email Address\"),\n            anchor: _t(\"Anchor\"),\n            anchorLabel: _t(\"Select an anchor\"),\n            target: _t(\"Target\"),\n            subject: _t(\"Email Subject (optional)\"),\n            image: _t(\"Image\"),\n            imageAlign: _t(\"Align\"),\n            enableImageZoom: _t(\"Enable image zoom\"),\n            scale: _t(\"Size\"),\n            alt: _t(\"Alternative Text\"),\n            insertImageHelp: _t(\"Specify an image. It can be on this site already (Internal Image), an image you upload (Upload), or from an external site (External Image).\"), // prettier-ignore\n            internalImage: _t(\"Internal Image\"),\n            externalImage: _t(\"External Image\"),\n            externalImageText: _t(\"External Image URL (can be relative within this site or absolute if it starts with http:// or https://)\"), // prettier-ignore\n            upload: _t(\"Upload\"),\n            insertLinkHelp: _t(\"Specify the object to link to. It can be on this site already (Internal), an object you upload (Upload), from an external site (External), an email address (Email), or an anchor on this page (Anchor).\"), // prettier-ignore\n            captionFromDescription: _t(\"Show Image Caption from Image Description\"),\n            caption: _t(\"Image Caption\"),\n        },\n        // URL generation options\n        loadingBaseUrl: \"++plone++static/tinybase\",\n        prependToUrl: \"\",\n        appendToUrl: \"\",\n        linkAttribute: \"path\", // attribute to get link value from data\n        prependToScalePart: \"/imagescale/\",\n        appendToScalePart: \"\",\n        appendToOriginalScalePart: \"\",\n        // defaultScale: \"large\",\n        defaultSrcset: \"medium\",\n        imageCaptioningEnabled: true,\n        imageClasses: {\n            \"image-inline\": _t(\"Inline\"),\n            \"image-right\": _t(\"Right\"),\n            \"image-left\": _t(\"Left\"),\n        },\n        targetList: [\n            { text: _t(\"Open in this window / frame\"), value: \"\" },\n            { text: _t(\"Open in new window\"), value: \"_blank\" },\n            { text: _t(\"Open in parent window / frame\"), value: \"_parent\" },\n            {\n                text: _t(\"Open in top frame (replaces all frames)\"),\n                value: \"_top\",\n            },\n        ],\n        imageTypes: [\"Image\"],\n        folderTypes: [\"Folder\", \"Plone Site\"],\n        tiny: {\n            //content_css:\n            //    \"/base/node_modules/tinymce-builded/js/tinymce/skins/lightgray/content.min.css\",\n            theme: \"silver\",\n            plugins: [\n                \"advlist\",\n                \"autolink\",\n                \"lists\",\n                \"charmap\",\n                \"print\",\n                \"preview\",\n                \"anchor\",\n                \"searchreplace\",\n                \"visualblocks\",\n                \"code\",\n                \"fullscreen\",\n                \"insertdatetime\",\n                \"media\",\n                \"table\",\n                \"contextmenu\",\n                \"paste\",\n                \"plonelink\",\n                \"ploneimage\",\n            ],\n            menubar: \"edit table format tools view insert\",\n            toolbar:\n                \"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | unlink plonelink ploneimage\",\n            //'autoresize_max_height': 900,\n            height: 400,\n            language: \"en\",\n        },\n        inline: false,\n    },\n    init: async function () {\n        const implementation = (await import(\"./tinymce--implementation\")).default;\n        var i18n = new I18n();\n        var lang = i18n.currentLanguage;\n        this.options.tiny.language = lang;\n        this.instance = new implementation(this.el, this.options);\n        await this.instance.init();\n    },\n    destroy: function () {\n        this.instance.destroy();\n    },\n});\n"],"names":["_translation_domains","plone","widgets","translate","domain","msgid","keywords","i18n","I18N","loadCatalog","MessageFactory","Base","name","trigger","parser","defaults","upload","uploadMultiple","maxFiles","showTitle","relatedItems","attributes","batchSize","basePath","vocabularyUrl","width","maximumSelectionSize","placeholder","_t","text","insertBtn","cancelBtn","insertHeading","title","internal","external","externalText","email","anchor","anchorLabel","target","subject","image","imageAlign","enableImageZoom","scale","alt","insertImageHelp","internalImage","externalImage","externalImageText","insertLinkHelp","captionFromDescription","caption","loadingBaseUrl","prependToUrl","appendToUrl","linkAttribute","prependToScalePart","appendToScalePart","appendToOriginalScalePart","defaultSrcset","imageCaptioningEnabled","imageClasses","targetList","value","imageTypes","folderTypes","tiny","theme","plugins","menubar","toolbar","height","language","inline","init","async","implementation","default","lang","I18n","currentLanguage","this","options","instance","el","destroy"],"sourceRoot":""}