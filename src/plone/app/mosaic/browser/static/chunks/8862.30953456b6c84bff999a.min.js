(self.webpackChunkplone_mosaic=self.webpackChunkplone_mosaic||[]).push([[8862],{8862:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});n(35666);var i=n(65311),r=n.n(i),s=n(90365),a=n(47874),o=n(84109);function l(e,t,n,i,r,s,a){try{var o=e[s](a),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(i,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function a(e){l(s,i,r,a,o,"next",e)}function o(e){l(s,i,r,a,o,"throw",e)}a(void 0)}))}}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=null,d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=r()(t),this.options=n}var t,i,l,d,h;return t=e,i=[{key:"addLinkClicked",value:function(){var e=this;if(null===e.linkModal){var t=r()("<div/>").insertAfter(e.$el),n=["internal","upload","external","email","anchor"];e.options.upload||n.splice(1,1),e.linkModal=new u(t,r().extend(!0,{},e.options,{tinypattern:e,linkTypes:n})),e.linkModal.show()}else e.linkModal.reinitialize(),e.linkModal.show()}},{key:"addImageClicked",value:function(){var e=this;if(null===e.imageModal){var t=["image","uploadImage","externalImage"];e.options.upload||t.splice(1,1);var n=r().extend(!0,{},e.options,{tinypattern:e,linkTypes:t,initialLinkType:"image",text:{insertHeading:(0,a.Z)("Insert Image")},relatedItems:{selectableTypes:e.options.imageTypes}}),i=r()("<div/>").insertAfter(e.$el);e.imageModal=new u(i,n),e.imageModal.show()}else e.imageModal.reinitialize(),e.imageModal.show()}},{key:"generateUrl",value:function(e){var t=this,n=e[t.options.linkAttribute];return t.options.prependToUrl+n+t.options.appendToUrl}},{key:"generateImageUrl",value:function(e,t){var n=this,i=n.generateUrl(e);return t?i=i+n.options.prependToScalePart+t+n.options.appendToScalePart:i+=n.options.appendToOriginalScalePart,i}},{key:"stripGeneratedUrl",value:function(e){var t=this;if(e=e.split(t.options.prependToScalePart,2)[0],t.options.prependToUrl){var n=e.split(t.options.prependToUrl,2);2===n.length&&(e=n[1])}return t.options.appendToUrl&&(e=e.split(t.options.appendToUrl)[0]),e}},{key:"getScaleFromUrl",value:function(e){var t=this,n=e.split(t.options.prependToScalePart);return 2!==n.length?null:(-1!==(e=t.options.appendToScalePart?n[1].split(t.options.appendToScalePart)[0]:n[1]).indexOf("/image_")&&(e=e.split("/image_")[1]),e)}},{key:"initLanguage",value:(h=c(regeneratorRuntime.mark((function e(t){var i,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this,r=new s.Z,"en"===(a=r.currentLanguage)||"en"===i.options.tiny.language){e.next=23;break}return e.prev=4,e.next=7,n(38531)("./".concat(a));case 7:e.next=20;break;case 9:return e.prev=9,e.t0=e.catch(4),e.prev=11,a=a.split("_")>1?a.split("_")[0]:a.split("-")>1?a.split("-")[0]:a+"_"+a.toUpperCase(),e.next=15,n(38531)("./".concat(a));case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(11),console.log("Could not load TinyMCE language:",a);case 20:t(),e.next=24;break;case 23:t();case 24:case"end":return e.stop()}}),e,this,[[4,9],[11,17]])}))),function(e){return h.apply(this,arguments)})},{key:"init",value:(d=c(regeneratorRuntime.mark((function e(){var t,i,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.e(38155).then(n.bind(n,38155)),Promise.all([n.e(68285),n.e(81271)]).then(n.bind(n,77741)),Promise.all([n.e(68285),n.e(30413)]).then(n.bind(n,59731)),e.next=5,Promise.resolve().then(n.t.bind(n,47575,23));case 5:return t=e.sent.default,e.next=8,n.e(68285).then(n.t.bind(n,14400,23));case 8:return e.next=10,n.e(68285).then(n.t.bind(n,82929,23));case 10:return e.next=12,n.e(68285).then(n.t.bind(n,66884,23));case 12:return e.next=14,n.e(68285).then(n.t.bind(n,15209,23));case 14:return e.next=16,n.e(68285).then(n.t.bind(n,61665,23));case 16:return e.next=18,n.e(68285).then(n.t.bind(n,54189,23));case 18:return e.next=20,n.e(68285).then(n.t.bind(n,39719,23));case 20:return e.next=22,n.e(68285).then(n.t.bind(n,88190,23));case 22:return e.next=24,n.e(68285).then(n.t.bind(n,23054,23));case 24:return e.next=26,n.e(68285).then(n.t.bind(n,31893,23));case 26:return e.next=28,n.e(68285).then(n.t.bind(n,17259,23));case 28:return e.next=30,n.e(68285).then(n.t.bind(n,79835,23));case 30:return e.next=32,n.e(68285).then(n.t.bind(n,1080,23));case 32:return e.next=34,n.e(68285).then(n.t.bind(n,54926,23));case 34:return e.next=36,n.e(68285).then(n.t.bind(n,72170,23));case 36:return e.next=38,n.e(68285).then(n.t.bind(n,77562,23));case 38:return e.next=40,n.e(68285).then(n.t.bind(n,53286,23));case 40:return e.next=42,n.e(68285).then(n.t.bind(n,20962,23));case 42:return e.next=44,n.e(68285).then(n.t.bind(n,72682,23));case 44:return e.next=46,n.e(68285).then(n.t.bind(n,1236,23));case 46:return e.next=48,n.e(68285).then(n.t.bind(n,42540,23));case 48:return e.next=50,n.e(68285).then(n.t.bind(n,31528,23));case 50:return e.next=52,n.e(68285).then(n.t.bind(n,45031,23));case 52:return e.next=54,n.e(68285).then(n.t.bind(n,78843,23));case 54:return e.next=56,n.e(68285).then(n.t.bind(n,22875,23));case 56:return e.next=58,n.e(68285).then(n.t.bind(n,44446,23));case 58:return e.next=60,n.e(68285).then(n.t.bind(n,69497,23));case 60:return e.next=62,n.e(68285).then(n.t.bind(n,88907,23));case 62:return e.next=64,n.e(68285).then(n.t.bind(n,31295,23));case 64:return e.next=66,n.e(68285).then(n.t.bind(n,27555,23));case 66:return e.next=68,n.e(68285).then(n.t.bind(n,41505,23));case 68:return e.next=70,n.e(68285).then(n.t.bind(n,38619,23));case 70:return e.next=72,n.e(68285).then(n.t.bind(n,21449,23));case 72:return e.next=74,n.e(68285).then(n.t.bind(n,45319,23));case 74:return e.next=76,n.e(68285).then(n.t.bind(n,50397,23));case 76:return e.next=78,n.e(68285).then(n.t.bind(n,644,23));case 78:return e.next=80,n.e(68285).then(n.t.bind(n,73106,23));case 80:return e.next=82,n.e(68285).then(n.t.bind(n,43356,23));case 82:return e.next=84,n.e(68285).then(n.t.bind(n,38860,23));case 84:return e.next=86,n.e(68285).then(n.t.bind(n,6890,23));case 86:return e.next=88,n.e(8363).then(n.bind(n,8363));case 88:u=e.sent.default,(i=this).linkModal=i.imageModal=i.uploadModal=i.pasteModal=null,r=o.Z.setId(i.$el),i.options.imageScales&&"string"==typeof i.options.imageScales&&(i.options.imageScales=JSON.parse(i.options.imageScales)),s=i.options.tiny,!0===i.options.inline&&(i.options.tiny.inline=!0),i.tinyId=i.options.inline?r+"-editable":r,s.selector="#"+i.tinyId,s.addLinkClicked=function(){i.addLinkClicked.apply(i,[])},s.addImageClicked=function(e){i.addImageClicked.apply(i,[e])},s.skin=!1,s.init_instance_callback=function(e){void 0!==i.tiny&&null!==i.tiny||(i.tiny=e)},i.initLanguage((function(){if("string"==typeof i.options.folderTypes&&(i.options.folderTypes=i.options.folderTypes.split(",")),"string"==typeof i.options.imageTypes&&(i.options.imageTypes=i.options.imageTypes.split(",")),!0===i.options.inline&&(i.$el.after('<div id="'+i.tinyId+'">'+i.$el.val()+"</div>"),i.$el.hide()),s.importcss_file_filter&&"function"==typeof s.importcss_file_filter.indexOf&&-1!==s.importcss_file_filter.indexOf(",")){var e=s.importcss_file_filter.split(",");s.importcss_file_filter=function(t){for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1}}if(s.importcss_selector_filter&&s.importcss_selector_filter.length&&(s.importcss_selector_filter=new RegExp(s.importcss_selector_filter)),s.importcss_groups&&s.importcss_groups.length)for(var n=0;n<s.importcss_groups.length;n++)s.importcss_groups[n].filter&&s.importcss_groups[n].filter.length&&(s.importcss_groups[n].filter=new RegExp(s.importcss_groups[n].filter));var r=i.$el.parents(".plone-modal-dialog");if(r.length>0){var a=Math.random().toString(36).substring(2,15);r.attr("id","tiny-ui-container-"+a),s.ui_container="#tiny-ui-container-"+a}t.init(s),i.tiny=t.get(i.tinyId),i.$el.parents("form").on("submit",(function(){!0===i.options.inline?i.$el.val(i.tiny.getContent()):i.tiny.save()}))}));case 102:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"destroy",value:function(){this.tiny&&(!0===this.options.inline&&(this.$el.val(this.tiny.getContent()),r()("#"+this.tinyId).remove(),this.$el.show()),this.tiny.destroy(),this.tiny=void 0)}}],i&&p(t.prototype,i),l&&p(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}()},38531:function(e,t,n){var i={"./ar":[62542,68285],"./ar.js":[62542,68285],"./bg_BG":[95219,68285],"./bg_BG.js":[95219,68285],"./bn_BD":[35041,68285],"./bn_BD.js":[35041,68285],"./ca":[37582,68285],"./ca.js":[37582,68285],"./cs":[33240,68285],"./cs.js":[33240,68285],"./cy":[1124,68285],"./cy.js":[1124,68285],"./da":[29298,68285],"./da.js":[29298,68285],"./de":[57322,68285],"./de.js":[57322,68285],"./el":[2298,68285],"./el.js":[2298,68285],"./eo":[79749,68285],"./eo.js":[79749,68285],"./es":[17431,68285],"./es.js":[17431,68285],"./es_ES":[36321,68285],"./es_ES.js":[36321,68285],"./es_MX":[74774,68285],"./es_MX.js":[74774,68285],"./et":[34998,68285],"./et.js":[34998,68285],"./eu":[14612,68285],"./eu.js":[14612,68285],"./fa":[58489,68285],"./fa.js":[58489,68285],"./fa_IR":[80875,68285],"./fa_IR.js":[80875,68285],"./fi":[75211,68285],"./fi.js":[75211,68285],"./fr_FR":[9933,68285],"./fr_FR.js":[9933,68285],"./gl":[96999,68285],"./gl.js":[96999,68285],"./he_IL":[63635,68285],"./he_IL.js":[63635,68285],"./hr":[79219,68285],"./hr.js":[79219,68285],"./hu_HU":[45723,68285],"./hu_HU.js":[45723,68285],"./hy":[18279,68285],"./hy.js":[18279,68285],"./id":[10119,68285],"./id.js":[10119,68285],"./it":[77018,68285],"./it.js":[77018,68285],"./it_IT":[17648,68285],"./it_IT.js":[17648,68285],"./ja":[92901,68285],"./ja.js":[92901,68285],"./kab":[67061,68285],"./kab.js":[67061,68285],"./kk":[22331,68285],"./kk.js":[22331,68285],"./ko_KR":[57798,68285],"./ko_KR.js":[57798,68285],"./ku":[2125,68285],"./ku.js":[2125,68285],"./lt":[31472,68285],"./lt.js":[31472,68285],"./nb_NO":[15016,68285],"./nb_NO.js":[15016,68285],"./nl":[59170,68285],"./nl.js":[59170,68285],"./pl":[92178,68285],"./pl.js":[92178,68285],"./pt_BR":[75867,68285],"./pt_BR.js":[75867,68285],"./pt_PT":[63746,68285],"./pt_PT.js":[63746,68285],"./ro":[4026,68285],"./ro.js":[4026,68285],"./ro_RO":[97674,68285],"./ro_RO.js":[97674,68285],"./ru":[45002,68285],"./ru.js":[45002,68285],"./sk":[87242,68285],"./sk.js":[87242,68285],"./sl":[85e3,68285],"./sl.js":[85e3,68285],"./sl_SI":[1379,68285],"./sl_SI.js":[1379,68285],"./sv_SE":[88616,68285],"./sv_SE.js":[88616,68285],"./ta":[74719,68285],"./ta.js":[74719,68285],"./ta_IN":[67569,68285],"./ta_IN.js":[67569,68285],"./th_TH":[87753,68285],"./th_TH.js":[87753,68285],"./tr":[57035,68285],"./tr.js":[57035,68285],"./tr_TR":[17666,68285],"./tr_TR.js":[17666,68285],"./uk":[4697,68285],"./uk.js":[4697,68285],"./vi":[62312,68285],"./vi.js":[62312,68285],"./zh_CN":[24577,68285],"./zh_CN.js":[24577,68285],"./zh_TW":[62222,68285],"./zh_TW.js":[62222,68285]};function r(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,23)}))}r.keys=function(){return Object.keys(i)},r.id=38531,e.exports=r}}]);
//# sourceMappingURL=8862.30953456b6c84bff999a.min.js.map