{"version":3,"file":"chunks/38492.fb8d13ebfff4afdbc9c2.min.js","mappings":"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","sources":["webpack://plone-mosaic/./node_modules/tinymce/plugins/directionality/plugin.js"],"sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType$1('string');\n    var isBoolean = isSimpleType('boolean');\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var is = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var name = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement = isType(ELEMENT);\n    var isText = isType(TEXT);\n    var isDocument = isType(DOCUMENT);\n    var isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    var isTag = function (tag) {\n      return function (e) {\n        return isElement(e) && name(e) === tag;\n      };\n    };\n\n    var owner = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument(dos) ? dos : owner(dos);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var children$2 = function (element) {\n      return map(element.dom.childNodes, SugarElement.fromDom);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var remove = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n\n    var inBody = function (element) {\n      var dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n\n    var ancestor$1 = function (scope, predicate, isRoot) {\n      var element = scope.dom;\n      var stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n\n    var ancestor = function (scope, selector, isRoot) {\n      return ancestor$1(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var get = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n\n    var getDirection = function (element) {\n      return get(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n    };\n\n    var children$1 = function (scope, predicate) {\n      return filter(children$2(scope), predicate);\n    };\n\n    var children = function (scope, selector) {\n      return children$1(scope, function (e) {\n        return is(e, selector);\n      });\n    };\n\n    var getParentElement = function (element) {\n      return parent(element).filter(isElement);\n    };\n    var getNormalizedBlock = function (element, isListItem) {\n      var normalizedElement = isListItem ? ancestor(element, 'ol,ul') : Optional.some(element);\n      return normalizedElement.getOr(element);\n    };\n    var isListItem = isTag('li');\n    var setDir = function (editor, dir) {\n      var selectedBlocks = editor.selection.getSelectedBlocks();\n      if (selectedBlocks.length > 0) {\n        each(selectedBlocks, function (block) {\n          var blockElement = SugarElement.fromDom(block);\n          var isBlockElementListItem = isListItem(blockElement);\n          var normalizedBlock = getNormalizedBlock(blockElement, isBlockElementListItem);\n          var normalizedBlockParent = getParentElement(normalizedBlock);\n          normalizedBlockParent.each(function (parent) {\n            var parentDirection = getDirection(parent);\n            if (parentDirection !== dir) {\n              set(normalizedBlock, 'dir', dir);\n            } else if (getDirection(normalizedBlock) !== dir) {\n              remove(normalizedBlock, 'dir');\n            }\n            if (isBlockElementListItem) {\n              var listItems = children(normalizedBlock, 'li[dir]');\n              each(listItems, function (listItem) {\n                return remove(listItem, 'dir');\n              });\n            }\n          });\n        });\n        editor.nodeChanged();\n      }\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mceDirectionLTR', function () {\n        setDir(editor, 'ltr');\n      });\n      editor.addCommand('mceDirectionRTL', function () {\n        setDir(editor, 'rtl');\n      });\n    };\n\n    var getNodeChangeHandler = function (editor, dir) {\n      return function (api) {\n        var nodeChangeHandler = function (e) {\n          var element = SugarElement.fromDom(e.element);\n          api.setActive(getDirection(element) === dir);\n        };\n        editor.on('NodeChange', nodeChangeHandler);\n        return function () {\n          return editor.off('NodeChange', nodeChangeHandler);\n        };\n      };\n    };\n    var register = function (editor) {\n      editor.ui.registry.addToggleButton('ltr', {\n        tooltip: 'Left to right',\n        icon: 'ltr',\n        onAction: function () {\n          return editor.execCommand('mceDirectionLTR');\n        },\n        onSetup: getNodeChangeHandler(editor, 'ltr')\n      });\n      editor.ui.registry.addToggleButton('rtl', {\n        tooltip: 'Right to left',\n        icon: 'rtl',\n        onAction: function () {\n          return editor.execCommand('mceDirectionRTL');\n        },\n        onSetup: getNodeChangeHandler(editor, 'rtl')\n      });\n    };\n\n    function Plugin () {\n      global.add('directionality', function (editor) {\n        register$1(editor);\n        register(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n"],"names":["call","id","global","tinymce","util","Tools","resolve","isSimpleType","type","value","isString","t","x","Array","prototype","isPrototypeOf","constructor","name","String","isType$1","isBoolean","isFunction","isNumber","noop","constant","identity","never","always","none","NONE","fold","n","_s","isSome","isNone","getOr","getOrThunk","thunk","getOrDie","msg","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","toArray","toString","some","a","constant_a","self","me","f","s","Optional","from","xs","i","len","length","fromDom","node","dom","SugarElement","fromHtml","html","scope","div","document","createElement","innerHTML","hasChildNodes","childNodes","console","error","fromTag","tag","fromText","text","createTextNode","fromPoint","docElm","y","elementFromPoint","is","element","selector","nodeType","elem","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","window","Function","isType","isElement","isText","isDocument","isDocumentFragment","children$2","r","set","key","setAttribute","rawSet","remove","removeAttribute","getRootNode","Element","attachShadow","Node","e","dos","ownerDocument","getShadowRoot","host","getShadowHost","inBody","parentNode","fbc","fab","doc","body","contains","ancestor","isRoot","predicate","stop","el","ancestor$1","getUnsafeProperty","property","style","getPropertyValue","isSupported","getDirection","getComputedStyle","get","children","pred","push","children$1","getParentElement","parent","isListItem","nodeName","toLowerCase","setDir","editor","dir","selectedBlocks","selection","getSelectedBlocks","block","blockElement","isBlockElementListItem","normalizedBlock","getNormalizedBlock","listItems","listItem","nodeChanged","getNodeChangeHandler","api","nodeChangeHandler","setActive","on","off","add","addCommand","register$1","ui","registry","addToggleButton","tooltip","icon","onAction","execCommand","onSetup","register"],"sourceRoot":""}