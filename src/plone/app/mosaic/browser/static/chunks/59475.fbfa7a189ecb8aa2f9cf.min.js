"use strict";(self.webpackChunkplone_mosaic=self.webpackChunkplone_mosaic||[]).push([[59475],{59475:function(n,t,e){e.r(t),e.d(t,{default:function(){return c}});var i=e(10878),r=e.n(i),o=e(79875);function a(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var c=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.el=t,this.SKIP_OVERLAY_ACTIONS=["plone.actions.Delete"]}var t,e,i;return t=n,(e=[{key:"init",value:function(){var n=this;r()("#configure-conditions .rule-element input, #configure-actions .rule-element input").unbind("click").click((function(){var n=r()(this).attr("name");if("form.button.EditCondition"==n||"form.button.EditAction"==n)return!0;r()("#spinner").show();var t=r()(this).parents("form").first(),e=t.parents("fieldset").first(),i=t.serialize()+"&"+n+"=1",o=t.attr("action");return r().post(o,i,(function(n){var t=r()(n).find("#"+e.attr("id"));e.replaceWith(t),initforms(),r()("#spinner").hide()})),!1})),r()('input[name="form.button.AddCondition"],input[name="form.button.AddAction"]').unbind("click").click((function(t){for(var e=r()(this).parent().parent(),i=e.serialize(),a=0;a<n.SKIP_OVERLAY_ACTIONS.length;a++)if(-1!==i.indexOf(n.SKIP_OVERLAY_ACTIONS[a]))return;t.preventDefault();var c=e.attr("action")+"?"+i,u=r()('<a href="'+c+'" />').css("display","none");u.insertAfter(this),new o.Z(u,{actionOptions:{isForm:!0,redirectOnResponse:!0,redirectToUrl:function(){return window.location.href}}}),u.trigger("click")}))}}])&&a(t.prototype,e),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),n}()}}]);