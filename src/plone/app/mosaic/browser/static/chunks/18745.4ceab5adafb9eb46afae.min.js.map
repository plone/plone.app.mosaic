{"version":3,"file":"chunks/18745.4ceab5adafb9eb46afae.min.js","mappings":"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","sources":["webpack://plone-mosaic/./node_modules/tinymce/plugins/template/plugin.js"],"sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType('string');\n    var isFunction = isSimpleType('function');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var never = constant(false);\n    var always = constant(true);\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.XHR');\n\n    var getCreationDateClasses = function (editor) {\n      return editor.getParam('template_cdate_classes', 'cdate');\n    };\n    var getModificationDateClasses = function (editor) {\n      return editor.getParam('template_mdate_classes', 'mdate');\n    };\n    var getSelectedContentClasses = function (editor) {\n      return editor.getParam('template_selected_content_classes', 'selcontent');\n    };\n    var getPreviewReplaceValues = function (editor) {\n      return editor.getParam('template_preview_replace_values');\n    };\n    var getContentStyle = function (editor) {\n      return editor.getParam('content_style', '', 'string');\n    };\n    var shouldUseContentCssCors = function (editor) {\n      return editor.getParam('content_css_cors', false, 'boolean');\n    };\n    var getTemplateReplaceValues = function (editor) {\n      return editor.getParam('template_replace_values');\n    };\n    var getTemplates = function (editor) {\n      return editor.getParam('templates');\n    };\n    var getCdateFormat = function (editor) {\n      return editor.getParam('template_cdate_format', editor.translate('%Y-%m-%d'));\n    };\n    var getMdateFormat = function (editor) {\n      return editor.getParam('template_mdate_format', editor.translate('%Y-%m-%d'));\n    };\n    var getBodyClassFromHash = function (editor) {\n      var bodyClass = editor.getParam('body_class', '', 'hash');\n      return bodyClass[editor.id] || '';\n    };\n    var getBodyClass = function (editor) {\n      var bodyClass = editor.getParam('body_class', '', 'string');\n      if (bodyClass.indexOf('=') === -1) {\n        return bodyClass;\n      } else {\n        return getBodyClassFromHash(editor);\n      }\n    };\n\n    var addZeros = function (value, len) {\n      value = '' + value;\n      if (value.length < len) {\n        for (var i = 0; i < len - value.length; i++) {\n          value = '0' + value;\n        }\n      }\n      return value;\n    };\n    var getDateTime = function (editor, fmt, date) {\n      if (date === void 0) {\n        date = new Date();\n      }\n      var daysShort = 'Sun Mon Tue Wed Thu Fri Sat Sun'.split(' ');\n      var daysLong = 'Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday'.split(' ');\n      var monthsShort = 'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec'.split(' ');\n      var monthsLong = 'January February March April May June July August September October November December'.split(' ');\n      fmt = fmt.replace('%D', '%m/%d/%Y');\n      fmt = fmt.replace('%r', '%I:%M:%S %p');\n      fmt = fmt.replace('%Y', '' + date.getFullYear());\n      fmt = fmt.replace('%y', '' + date.getYear());\n      fmt = fmt.replace('%m', addZeros(date.getMonth() + 1, 2));\n      fmt = fmt.replace('%d', addZeros(date.getDate(), 2));\n      fmt = fmt.replace('%H', '' + addZeros(date.getHours(), 2));\n      fmt = fmt.replace('%M', '' + addZeros(date.getMinutes(), 2));\n      fmt = fmt.replace('%S', '' + addZeros(date.getSeconds(), 2));\n      fmt = fmt.replace('%I', '' + ((date.getHours() + 11) % 12 + 1));\n      fmt = fmt.replace('%p', '' + (date.getHours() < 12 ? 'AM' : 'PM'));\n      fmt = fmt.replace('%B', '' + editor.translate(monthsLong[date.getMonth()]));\n      fmt = fmt.replace('%b', '' + editor.translate(monthsShort[date.getMonth()]));\n      fmt = fmt.replace('%A', '' + editor.translate(daysLong[date.getDay()]));\n      fmt = fmt.replace('%a', '' + editor.translate(daysShort[date.getDay()]));\n      fmt = fmt.replace('%%', '%');\n      return fmt;\n    };\n\n    var createTemplateList = function (editor, callback) {\n      return function () {\n        var templateList = getTemplates(editor);\n        if (isFunction(templateList)) {\n          templateList(callback);\n        } else if (isString(templateList)) {\n          global$2.send({\n            url: templateList,\n            success: function (text) {\n              callback(JSON.parse(text));\n            }\n          });\n        } else {\n          callback(templateList);\n        }\n      };\n    };\n    var replaceTemplateValues = function (html, templateValues) {\n      global$3.each(templateValues, function (v, k) {\n        if (isFunction(v)) {\n          v = v(k);\n        }\n        html = html.replace(new RegExp('\\\\{\\\\$' + k + '\\\\}', 'g'), v);\n      });\n      return html;\n    };\n    var replaceVals = function (editor, scope) {\n      var dom = editor.dom, vl = getTemplateReplaceValues(editor);\n      global$3.each(dom.select('*', scope), function (e) {\n        global$3.each(vl, function (v, k) {\n          if (dom.hasClass(e, k)) {\n            if (isFunction(v)) {\n              v(e);\n            }\n          }\n        });\n      });\n    };\n    var hasClass = function (n, c) {\n      return new RegExp('\\\\b' + c + '\\\\b', 'g').test(n.className);\n    };\n    var insertTemplate = function (editor, _ui, html) {\n      var dom = editor.dom;\n      var sel = editor.selection.getContent();\n      html = replaceTemplateValues(html, getTemplateReplaceValues(editor));\n      var el = dom.create('div', null, html);\n      var n = dom.select('.mceTmpl', el);\n      if (n && n.length > 0) {\n        el = dom.create('div', null);\n        el.appendChild(n[0].cloneNode(true));\n      }\n      global$3.each(dom.select('*', el), function (n) {\n        if (hasClass(n, getCreationDateClasses(editor).replace(/\\s+/g, '|'))) {\n          n.innerHTML = getDateTime(editor, getCdateFormat(editor));\n        }\n        if (hasClass(n, getModificationDateClasses(editor).replace(/\\s+/g, '|'))) {\n          n.innerHTML = getDateTime(editor, getMdateFormat(editor));\n        }\n        if (hasClass(n, getSelectedContentClasses(editor).replace(/\\s+/g, '|'))) {\n          n.innerHTML = sel;\n        }\n      });\n      replaceVals(editor, el);\n      editor.execCommand('mceInsertContent', false, el.innerHTML);\n      editor.addVisual();\n    };\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var hasOwnProperty = Object.hasOwnProperty;\n    var get = function (obj, key) {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    var entitiesAttr = {\n      '\"': '&quot;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '&': '&amp;',\n      '\\'': '&#039;'\n    };\n    var htmlEscape = function (html) {\n      return html.replace(/[\"'<>&]/g, function (match) {\n        return get(entitiesAttr, match).getOr(match);\n      });\n    };\n\n    var getPreviewContent = function (editor, html) {\n      if (html.indexOf('<html>') === -1) {\n        var contentCssEntries_1 = '';\n        var contentStyle = getContentStyle(editor);\n        var cors_1 = shouldUseContentCssCors(editor) ? ' crossorigin=\"anonymous\"' : '';\n        global$3.each(editor.contentCSS, function (url) {\n          contentCssEntries_1 += '<link type=\"text/css\" rel=\"stylesheet\" href=\"' + editor.documentBaseURI.toAbsolute(url) + '\"' + cors_1 + '>';\n        });\n        if (contentStyle) {\n          contentCssEntries_1 += '<style type=\"text/css\">' + contentStyle + '</style>';\n        }\n        var bodyClass = getBodyClass(editor);\n        var encode = editor.dom.encode;\n        var isMetaKeyPressed = global$1.mac ? 'e.metaKey' : 'e.ctrlKey && !e.altKey';\n        var preventClicksOnLinksScript = '<script>' + 'document.addEventListener && document.addEventListener(\"click\", function(e) {' + 'for (var elm = e.target; elm; elm = elm.parentNode) {' + 'if (elm.nodeName === \"A\" && !(' + isMetaKeyPressed + ')) {' + 'e.preventDefault();' + '}' + '}' + '}, false);' + '</script> ';\n        var directionality = editor.getBody().dir;\n        var dirAttr = directionality ? ' dir=\"' + encode(directionality) + '\"' : '';\n        html = '<!DOCTYPE html>' + '<html>' + '<head>' + '<base href=\"' + encode(editor.documentBaseURI.getURI()) + '\">' + contentCssEntries_1 + preventClicksOnLinksScript + '</head>' + '<body class=\"' + encode(bodyClass) + '\"' + dirAttr + '>' + html + '</body>' + '</html>';\n      }\n      return replaceTemplateValues(html, getPreviewReplaceValues(editor));\n    };\n    var open = function (editor, templateList) {\n      var createTemplates = function () {\n        if (!templateList || templateList.length === 0) {\n          var message = editor.translate('No templates defined.');\n          editor.notificationManager.open({\n            text: message,\n            type: 'info'\n          });\n          return Optional.none();\n        }\n        return Optional.from(global$3.map(templateList, function (template, index) {\n          var isUrlTemplate = function (t) {\n            return t.url !== undefined;\n          };\n          return {\n            selected: index === 0,\n            text: template.title,\n            value: {\n              url: isUrlTemplate(template) ? Optional.from(template.url) : Optional.none(),\n              content: !isUrlTemplate(template) ? Optional.from(template.content) : Optional.none(),\n              description: template.description\n            }\n          };\n        }));\n      };\n      var createSelectBoxItems = function (templates) {\n        return map(templates, function (t) {\n          return {\n            text: t.text,\n            value: t.text\n          };\n        });\n      };\n      var findTemplate = function (templates, templateTitle) {\n        return find(templates, function (t) {\n          return t.text === templateTitle;\n        });\n      };\n      var loadFailedAlert = function (api) {\n        editor.windowManager.alert('Could not load the specified template.', function () {\n          return api.focus('template');\n        });\n      };\n      var getTemplateContent = function (t) {\n        return new global(function (resolve, reject) {\n          t.value.url.fold(function () {\n            return resolve(t.value.content.getOr(''));\n          }, function (url) {\n            return global$2.send({\n              url: url,\n              success: function (html) {\n                resolve(html);\n              },\n              error: function (e) {\n                reject(e);\n              }\n            });\n          });\n        });\n      };\n      var onChange = function (templates, updateDialog) {\n        return function (api, change) {\n          if (change.name === 'template') {\n            var newTemplateTitle = api.getData().template;\n            findTemplate(templates, newTemplateTitle).each(function (t) {\n              api.block('Loading...');\n              getTemplateContent(t).then(function (previewHtml) {\n                updateDialog(api, t, previewHtml);\n              }).catch(function () {\n                updateDialog(api, t, '');\n                api.disable('save');\n                loadFailedAlert(api);\n              });\n            });\n          }\n        };\n      };\n      var onSubmit = function (templates) {\n        return function (api) {\n          var data = api.getData();\n          findTemplate(templates, data.template).each(function (t) {\n            getTemplateContent(t).then(function (previewHtml) {\n              editor.execCommand('mceInsertTemplate', false, previewHtml);\n              api.close();\n            }).catch(function () {\n              api.disable('save');\n              loadFailedAlert(api);\n            });\n          });\n        };\n      };\n      var openDialog = function (templates) {\n        var selectBoxItems = createSelectBoxItems(templates);\n        var buildDialogSpec = function (bodyItems, initialData) {\n          return {\n            title: 'Insert Template',\n            size: 'large',\n            body: {\n              type: 'panel',\n              items: bodyItems\n            },\n            initialData: initialData,\n            buttons: [\n              {\n                type: 'cancel',\n                name: 'cancel',\n                text: 'Cancel'\n              },\n              {\n                type: 'submit',\n                name: 'save',\n                text: 'Save',\n                primary: true\n              }\n            ],\n            onSubmit: onSubmit(templates),\n            onChange: onChange(templates, updateDialog)\n          };\n        };\n        var updateDialog = function (dialogApi, template, previewHtml) {\n          var content = getPreviewContent(editor, previewHtml);\n          var bodyItems = [\n            {\n              type: 'selectbox',\n              name: 'template',\n              label: 'Templates',\n              items: selectBoxItems\n            },\n            {\n              type: 'htmlpanel',\n              html: '<p aria-live=\"polite\">' + htmlEscape(template.value.description) + '</p>'\n            },\n            {\n              label: 'Preview',\n              type: 'iframe',\n              name: 'preview',\n              sandboxed: false\n            }\n          ];\n          var initialData = {\n            template: template.text,\n            preview: content\n          };\n          dialogApi.unblock();\n          dialogApi.redial(buildDialogSpec(bodyItems, initialData));\n          dialogApi.focus('template');\n        };\n        var dialogApi = editor.windowManager.open(buildDialogSpec([], {\n          template: '',\n          preview: ''\n        }));\n        dialogApi.block('Loading...');\n        getTemplateContent(templates[0]).then(function (previewHtml) {\n          updateDialog(dialogApi, templates[0], previewHtml);\n        }).catch(function () {\n          updateDialog(dialogApi, templates[0], '');\n          dialogApi.disable('save');\n          loadFailedAlert(dialogApi);\n        });\n      };\n      var optTemplates = createTemplates();\n      optTemplates.each(openDialog);\n    };\n\n    var showDialog = function (editor) {\n      return function (templates) {\n        open(editor, templates);\n      };\n    };\n    var register$1 = function (editor) {\n      editor.addCommand('mceInsertTemplate', curry(insertTemplate, editor));\n      editor.addCommand('mceTemplate', createTemplateList(editor, showDialog(editor)));\n    };\n\n    var setup = function (editor) {\n      editor.on('PreProcess', function (o) {\n        var dom = editor.dom, dateFormat = getMdateFormat(editor);\n        global$3.each(dom.select('div', o.node), function (e) {\n          if (dom.hasClass(e, 'mceTmpl')) {\n            global$3.each(dom.select('*', e), function (e) {\n              if (dom.hasClass(e, getModificationDateClasses(editor).replace(/\\s+/g, '|'))) {\n                e.innerHTML = getDateTime(editor, dateFormat);\n              }\n            });\n            replaceVals(editor, e);\n          }\n        });\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mceTemplate');\n      };\n      editor.ui.registry.addButton('template', {\n        icon: 'template',\n        tooltip: 'Insert template',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('template', {\n        icon: 'template',\n        text: 'Insert template...',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global$4.add('template', function (editor) {\n        register(editor);\n        register$1(editor);\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n"],"names":["type","global$4","tinymce","util","Tools","resolve","isString","value","t","x","Array","prototype","isPrototypeOf","constructor","name","String","isFunction","isSimpleType","noop","constant","identity","call","id","never","always","global$3","global$2","getModificationDateClasses","editor","getParam","getTemplateReplaceValues","getMdateFormat","translate","addZeros","len","length","i","getDateTime","fmt","date","Date","daysShort","split","daysLong","monthsShort","monthsLong","replace","getFullYear","getYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDay","replaceTemplateValues","html","templateValues","each","v","k","RegExp","replaceVals","scope","dom","vl","select","e","hasClass","n","c","test","className","insertTemplate","_ui","sel","selection","getContent","el","create","appendChild","cloneNode","getCreationDateClasses","innerHTML","getCdateFormat","getSelectedContentClasses","execCommand","addVisual","none","NONE","fold","_s","isSome","isNone","getOr","getOrThunk","thunk","getOrDie","msg","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","bind","exists","forall","filter","toArray","toString","some","a","constant_a","self","me","f","s","Optional","from","find","xs","pred","until","findUntil","global$1","global","hasOwnProperty","Object","has","obj","key","entitiesAttr","htmlEscape","match","open","templateList","createSelectBoxItems","templates","r","text","findTemplate","templateTitle","loadFailedAlert","api","windowManager","alert","focus","getTemplateContent","reject","url","content","send","success","error","onChange","updateDialog","change","newTemplateTitle","getData","template","block","then","previewHtml","catch","disable","onSubmit","data","close","message","notificationManager","index","isUrlTemplate","selected","title","description","createTemplates","selectBoxItems","buildDialogSpec","bodyItems","initialData","size","body","items","buttons","primary","dialogApi","indexOf","contentCssEntries_1","contentStyle","getContentStyle","cors_1","shouldUseContentCssCors","contentCSS","documentBaseURI","toAbsolute","bodyClass","getBodyClassFromHash","getBodyClass","encode","preventClicksOnLinksScript","mac","directionality","getBody","dir","dirAttr","getURI","getPreviewReplaceValues","getPreviewContent","label","sandboxed","preview","unblock","redial","register$1","addCommand","fn","initialArgs","_i","arguments","restArgs","all","concat","apply","curry","callback","getTemplates","JSON","parse","createTemplateList","showDialog","add","onAction","ui","registry","addButton","icon","tooltip","addMenuItem","register","on","o","dateFormat","node","setup"],"sourceRoot":""}