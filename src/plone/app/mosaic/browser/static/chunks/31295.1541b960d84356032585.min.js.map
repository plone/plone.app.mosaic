{"version":3,"file":"chunks/31295.1541b960d84356032585.min.js","mappings":"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","sources":["webpack://plone-mosaic/./node_modules/tinymce/plugins/searchreplace/index.js","webpack://plone-mosaic/./node_modules/tinymce/plugins/searchreplace/plugin.js"],"sourcesContent":["// Exports the \"searchreplace\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/searchreplace')\n//   ES2015:\n//     import 'tinymce/plugins/searchreplace'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.5 (2022-05-25)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType$1('string');\n    var isArray = isType$1('array');\n    var isBoolean = isSimpleType('boolean');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var punctuationStr = '[!-#%-*,-\\\\/:;?@\\\\[-\\\\]_{}\\xA1\\xAB\\xB7\\xBB\\xBF;\\xB7\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1361-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u3008\\u3009\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30\\u2E31\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uff3f\\uFF5B\\uFF5D\\uFF5F-\\uFF65]';\n\n    var punctuation$1 = constant(punctuationStr);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var punctuation = punctuation$1;\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var nativeSlice = Array.prototype.slice;\n    var nativePush = Array.prototype.push;\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var groupBy = function (xs, f) {\n      if (xs.length === 0) {\n        return [];\n      } else {\n        var wasType = f(xs[0]);\n        var r = [];\n        var group = [];\n        for (var i = 0, len = xs.length; i < len; i++) {\n          var x = xs[i];\n          var type = f(x);\n          if (type !== wasType) {\n            r.push(group);\n            group = [];\n          }\n          wasType = type;\n          group.push(x);\n        }\n        if (group.length !== 0) {\n          r.push(group);\n        }\n        return r;\n      }\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      return flatten(map(xs, f));\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n\n    var hasOwnProperty = Object.hasOwnProperty;\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isText$1 = isType(TEXT);\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionPreceding = function (a, b) {\n      return compareDocumentPosition(a, b, Node.DOCUMENT_POSITION_PRECEDING);\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var children = function (element) {\n      return map(element.dom.childNodes, SugarElement.fromDom);\n    };\n    var spot = function (element, offset) {\n      return {\n        element: element,\n        offset: offset\n      };\n    };\n    var leaf = function (element, offset) {\n      var cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    var before = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    var append = function (parent, element) {\n      parent.dom.appendChild(element.dom);\n    };\n    var wrap = function (element, wrapper) {\n      before(element, wrapper);\n      append(wrapper, element);\n    };\n\n    var NodeValue = function (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    };\n\n    var api = NodeValue(isText$1, 'text');\n    var get$1 = function (element) {\n      return api.get(element);\n    };\n\n    var descendants = function (scope, selector) {\n      return all(selector, scope);\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var isSimpleBoundary = function (dom, node) {\n      return dom.isBlock(node) || has(dom.schema.getShortEndedElements(), node.nodeName);\n    };\n    var isContentEditableFalse = function (dom, node) {\n      return dom.getContentEditable(node) === 'false';\n    };\n    var isContentEditableTrueInCef = function (dom, node) {\n      return dom.getContentEditable(node) === 'true' && dom.getContentEditableParent(node.parentNode) === 'false';\n    };\n    var isHidden = function (dom, node) {\n      return !dom.isBlock(node) && has(dom.schema.getWhiteSpaceElements(), node.nodeName);\n    };\n    var isBoundary = function (dom, node) {\n      return isSimpleBoundary(dom, node) || isContentEditableFalse(dom, node) || isHidden(dom, node) || isContentEditableTrueInCef(dom, node);\n    };\n    var isText = function (node) {\n      return node.nodeType === 3;\n    };\n    var nuSection = function () {\n      return {\n        sOffset: 0,\n        fOffset: 0,\n        elements: []\n      };\n    };\n    var toLeaf = function (node, offset) {\n      return leaf(SugarElement.fromDom(node), offset);\n    };\n    var walk = function (dom, walkerFn, startNode, callbacks, endNode, skipStart) {\n      if (skipStart === void 0) {\n        skipStart = true;\n      }\n      var next = skipStart ? walkerFn(false) : startNode;\n      while (next) {\n        var isCefNode = isContentEditableFalse(dom, next);\n        if (isCefNode || isHidden(dom, next)) {\n          var stopWalking = isCefNode ? callbacks.cef(next) : callbacks.boundary(next);\n          if (stopWalking) {\n            break;\n          } else {\n            next = walkerFn(true);\n            continue;\n          }\n        } else if (isSimpleBoundary(dom, next)) {\n          if (callbacks.boundary(next)) {\n            break;\n          }\n        } else if (isText(next)) {\n          callbacks.text(next);\n        }\n        if (next === endNode) {\n          break;\n        } else {\n          next = walkerFn(false);\n        }\n      }\n    };\n    var collectTextToBoundary = function (dom, section, node, rootNode, forwards) {\n      if (isBoundary(dom, node)) {\n        return;\n      }\n      var rootBlock = dom.getParent(rootNode, dom.isBlock);\n      var walker = new global(node, rootBlock);\n      var walkerFn = forwards ? walker.next.bind(walker) : walker.prev.bind(walker);\n      walk(dom, walkerFn, node, {\n        boundary: always,\n        cef: always,\n        text: function (next) {\n          if (forwards) {\n            section.fOffset += next.length;\n          } else {\n            section.sOffset += next.length;\n          }\n          section.elements.push(SugarElement.fromDom(next));\n        }\n      });\n    };\n    var collect = function (dom, rootNode, startNode, endNode, callbacks, skipStart) {\n      if (skipStart === void 0) {\n        skipStart = true;\n      }\n      var walker = new global(startNode, rootNode);\n      var sections = [];\n      var current = nuSection();\n      collectTextToBoundary(dom, current, startNode, rootNode, false);\n      var finishSection = function () {\n        if (current.elements.length > 0) {\n          sections.push(current);\n          current = nuSection();\n        }\n        return false;\n      };\n      walk(dom, walker.next.bind(walker), startNode, {\n        boundary: finishSection,\n        cef: function (node) {\n          finishSection();\n          if (callbacks) {\n            sections.push.apply(sections, callbacks.cef(node));\n          }\n          return false;\n        },\n        text: function (next) {\n          current.elements.push(SugarElement.fromDom(next));\n          if (callbacks) {\n            callbacks.text(next, current);\n          }\n        }\n      }, endNode, skipStart);\n      if (endNode) {\n        collectTextToBoundary(dom, current, endNode, rootNode, true);\n      }\n      finishSection();\n      return sections;\n    };\n    var collectRangeSections = function (dom, rng) {\n      var start = toLeaf(rng.startContainer, rng.startOffset);\n      var startNode = start.element.dom;\n      var end = toLeaf(rng.endContainer, rng.endOffset);\n      var endNode = end.element.dom;\n      return collect(dom, rng.commonAncestorContainer, startNode, endNode, {\n        text: function (node, section) {\n          if (node === endNode) {\n            section.fOffset += node.length - end.offset;\n          } else if (node === startNode) {\n            section.sOffset += start.offset;\n          }\n        },\n        cef: function (node) {\n          var sections = bind(descendants(SugarElement.fromDom(node), '*[contenteditable=true]'), function (e) {\n            var ceTrueNode = e.dom;\n            return collect(dom, ceTrueNode, ceTrueNode);\n          });\n          return sort(sections, function (a, b) {\n            return documentPositionPreceding(a.elements[0].dom, b.elements[0].dom) ? 1 : -1;\n          });\n        }\n      }, false);\n    };\n    var fromRng = function (dom, rng) {\n      return rng.collapsed ? [] : collectRangeSections(dom, rng);\n    };\n    var fromNode = function (dom, node) {\n      var rng = dom.createRng();\n      rng.selectNode(node);\n      return fromRng(dom, rng);\n    };\n    var fromNodes = function (dom, nodes) {\n      return bind(nodes, function (node) {\n        return fromNode(dom, node);\n      });\n    };\n\n    var find$2 = function (text, pattern, start, finish) {\n      if (start === void 0) {\n        start = 0;\n      }\n      if (finish === void 0) {\n        finish = text.length;\n      }\n      var regex = pattern.regex;\n      regex.lastIndex = start;\n      var results = [];\n      var match;\n      while (match = regex.exec(text)) {\n        var matchedText = match[pattern.matchIndex];\n        var matchStart = match.index + match[0].indexOf(matchedText);\n        var matchFinish = matchStart + matchedText.length;\n        if (matchFinish > finish) {\n          break;\n        }\n        results.push({\n          start: matchStart,\n          finish: matchFinish\n        });\n        regex.lastIndex = matchFinish;\n      }\n      return results;\n    };\n    var extract = function (elements, matches) {\n      var nodePositions = foldl(elements, function (acc, element) {\n        var content = get$1(element);\n        var start = acc.last;\n        var finish = start + content.length;\n        var positions = bind(matches, function (match, matchIdx) {\n          if (match.start < finish && match.finish > start) {\n            return [{\n                element: element,\n                start: Math.max(start, match.start) - start,\n                finish: Math.min(finish, match.finish) - start,\n                matchId: matchIdx\n              }];\n          } else {\n            return [];\n          }\n        });\n        return {\n          results: acc.results.concat(positions),\n          last: finish\n        };\n      }, {\n        results: [],\n        last: 0\n      }).results;\n      return groupBy(nodePositions, function (position) {\n        return position.matchId;\n      });\n    };\n\n    var find$1 = function (pattern, sections) {\n      return bind(sections, function (section) {\n        var elements = section.elements;\n        var content = map(elements, get$1).join('');\n        var positions = find$2(content, pattern, section.sOffset, content.length - section.fOffset);\n        return extract(elements, positions);\n      });\n    };\n    var mark = function (matches, replacementNode) {\n      eachr(matches, function (match, idx) {\n        eachr(match, function (pos) {\n          var wrapper = SugarElement.fromDom(replacementNode.cloneNode(false));\n          set(wrapper, 'data-mce-index', idx);\n          var textNode = pos.element.dom;\n          if (textNode.length === pos.finish && pos.start === 0) {\n            wrap(pos.element, wrapper);\n          } else {\n            if (textNode.length !== pos.finish) {\n              textNode.splitText(pos.finish);\n            }\n            var matchNode = textNode.splitText(pos.start);\n            wrap(SugarElement.fromDom(matchNode), wrapper);\n          }\n        });\n      });\n    };\n    var findAndMark = function (dom, pattern, node, replacementNode) {\n      var textSections = fromNode(dom, node);\n      var matches = find$1(pattern, textSections);\n      mark(matches, replacementNode);\n      return matches.length;\n    };\n    var findAndMarkInSelection = function (dom, pattern, selection, replacementNode) {\n      var bookmark = selection.getBookmark();\n      var nodes = dom.select('td[data-mce-selected],th[data-mce-selected]');\n      var textSections = nodes.length > 0 ? fromNodes(dom, nodes) : fromRng(dom, selection.getRng());\n      var matches = find$1(pattern, textSections);\n      mark(matches, replacementNode);\n      selection.moveToBookmark(bookmark);\n      return matches.length;\n    };\n\n    var getElmIndex = function (elm) {\n      var value = elm.getAttribute('data-mce-index');\n      if (typeof value === 'number') {\n        return '' + value;\n      }\n      return value;\n    };\n    var markAllMatches = function (editor, currentSearchState, pattern, inSelection) {\n      var marker = editor.dom.create('span', { 'data-mce-bogus': 1 });\n      marker.className = 'mce-match-marker';\n      var node = editor.getBody();\n      done(editor, currentSearchState, false);\n      if (inSelection) {\n        return findAndMarkInSelection(editor.dom, pattern, editor.selection, marker);\n      } else {\n        return findAndMark(editor.dom, pattern, node, marker);\n      }\n    };\n    var unwrap = function (node) {\n      var parentNode = node.parentNode;\n      if (node.firstChild) {\n        parentNode.insertBefore(node.firstChild, node);\n      }\n      node.parentNode.removeChild(node);\n    };\n    var findSpansByIndex = function (editor, index) {\n      var spans = [];\n      var nodes = global$1.toArray(editor.getBody().getElementsByTagName('span'));\n      if (nodes.length) {\n        for (var i = 0; i < nodes.length; i++) {\n          var nodeIndex = getElmIndex(nodes[i]);\n          if (nodeIndex === null || !nodeIndex.length) {\n            continue;\n          }\n          if (nodeIndex === index.toString()) {\n            spans.push(nodes[i]);\n          }\n        }\n      }\n      return spans;\n    };\n    var moveSelection = function (editor, currentSearchState, forward) {\n      var searchState = currentSearchState.get();\n      var testIndex = searchState.index;\n      var dom = editor.dom;\n      forward = forward !== false;\n      if (forward) {\n        if (testIndex + 1 === searchState.count) {\n          testIndex = 0;\n        } else {\n          testIndex++;\n        }\n      } else {\n        if (testIndex - 1 === -1) {\n          testIndex = searchState.count - 1;\n        } else {\n          testIndex--;\n        }\n      }\n      dom.removeClass(findSpansByIndex(editor, searchState.index), 'mce-match-marker-selected');\n      var spans = findSpansByIndex(editor, testIndex);\n      if (spans.length) {\n        dom.addClass(findSpansByIndex(editor, testIndex), 'mce-match-marker-selected');\n        editor.selection.scrollIntoView(spans[0]);\n        return testIndex;\n      }\n      return -1;\n    };\n    var removeNode = function (dom, node) {\n      var parent = node.parentNode;\n      dom.remove(node);\n      if (dom.isEmpty(parent)) {\n        dom.remove(parent);\n      }\n    };\n    var escapeSearchText = function (text, wholeWord) {\n      var escapedText = text.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&').replace(/\\s/g, '[^\\\\S\\\\r\\\\n\\\\uFEFF]');\n      var wordRegex = '(' + escapedText + ')';\n      return wholeWord ? '(?:^|\\\\s|' + punctuation() + ')' + wordRegex + ('(?=$|\\\\s|' + punctuation() + ')') : wordRegex;\n    };\n    var find = function (editor, currentSearchState, text, matchCase, wholeWord, inSelection) {\n      var selection = editor.selection;\n      var escapedText = escapeSearchText(text, wholeWord);\n      var isForwardSelection = selection.isForward();\n      var pattern = {\n        regex: new RegExp(escapedText, matchCase ? 'g' : 'gi'),\n        matchIndex: 1\n      };\n      var count = markAllMatches(editor, currentSearchState, pattern, inSelection);\n      if (global$2.browser.isSafari()) {\n        selection.setRng(selection.getRng(), isForwardSelection);\n      }\n      if (count) {\n        var newIndex = moveSelection(editor, currentSearchState, true);\n        currentSearchState.set({\n          index: newIndex,\n          count: count,\n          text: text,\n          matchCase: matchCase,\n          wholeWord: wholeWord,\n          inSelection: inSelection\n        });\n      }\n      return count;\n    };\n    var next = function (editor, currentSearchState) {\n      var index = moveSelection(editor, currentSearchState, true);\n      currentSearchState.set(__assign(__assign({}, currentSearchState.get()), { index: index }));\n    };\n    var prev = function (editor, currentSearchState) {\n      var index = moveSelection(editor, currentSearchState, false);\n      currentSearchState.set(__assign(__assign({}, currentSearchState.get()), { index: index }));\n    };\n    var isMatchSpan = function (node) {\n      var matchIndex = getElmIndex(node);\n      return matchIndex !== null && matchIndex.length > 0;\n    };\n    var replace = function (editor, currentSearchState, text, forward, all) {\n      var searchState = currentSearchState.get();\n      var currentIndex = searchState.index;\n      var currentMatchIndex, nextIndex = currentIndex;\n      forward = forward !== false;\n      var node = editor.getBody();\n      var nodes = global$1.grep(global$1.toArray(node.getElementsByTagName('span')), isMatchSpan);\n      for (var i = 0; i < nodes.length; i++) {\n        var nodeIndex = getElmIndex(nodes[i]);\n        var matchIndex = currentMatchIndex = parseInt(nodeIndex, 10);\n        if (all || matchIndex === searchState.index) {\n          if (text.length) {\n            nodes[i].firstChild.nodeValue = text;\n            unwrap(nodes[i]);\n          } else {\n            removeNode(editor.dom, nodes[i]);\n          }\n          while (nodes[++i]) {\n            matchIndex = parseInt(getElmIndex(nodes[i]), 10);\n            if (matchIndex === currentMatchIndex) {\n              removeNode(editor.dom, nodes[i]);\n            } else {\n              i--;\n              break;\n            }\n          }\n          if (forward) {\n            nextIndex--;\n          }\n        } else if (currentMatchIndex > currentIndex) {\n          nodes[i].setAttribute('data-mce-index', String(currentMatchIndex - 1));\n        }\n      }\n      currentSearchState.set(__assign(__assign({}, searchState), {\n        count: all ? 0 : searchState.count - 1,\n        index: nextIndex\n      }));\n      if (forward) {\n        next(editor, currentSearchState);\n      } else {\n        prev(editor, currentSearchState);\n      }\n      return !all && currentSearchState.get().count > 0;\n    };\n    var done = function (editor, currentSearchState, keepEditorSelection) {\n      var startContainer, endContainer;\n      var searchState = currentSearchState.get();\n      var nodes = global$1.toArray(editor.getBody().getElementsByTagName('span'));\n      for (var i = 0; i < nodes.length; i++) {\n        var nodeIndex = getElmIndex(nodes[i]);\n        if (nodeIndex !== null && nodeIndex.length) {\n          if (nodeIndex === searchState.index.toString()) {\n            if (!startContainer) {\n              startContainer = nodes[i].firstChild;\n            }\n            endContainer = nodes[i].firstChild;\n          }\n          unwrap(nodes[i]);\n        }\n      }\n      currentSearchState.set(__assign(__assign({}, searchState), {\n        index: -1,\n        count: 0,\n        text: ''\n      }));\n      if (startContainer && endContainer) {\n        var rng = editor.dom.createRng();\n        rng.setStart(startContainer, 0);\n        rng.setEnd(endContainer, endContainer.data.length);\n        if (keepEditorSelection !== false) {\n          editor.selection.setRng(rng);\n        }\n        return rng;\n      }\n    };\n    var hasNext = function (editor, currentSearchState) {\n      return currentSearchState.get().count > 1;\n    };\n    var hasPrev = function (editor, currentSearchState) {\n      return currentSearchState.get().count > 1;\n    };\n\n    var get = function (editor, currentState) {\n      var done$1 = function (keepEditorSelection) {\n        return done(editor, currentState, keepEditorSelection);\n      };\n      var find$1 = function (text, matchCase, wholeWord, inSelection) {\n        if (inSelection === void 0) {\n          inSelection = false;\n        }\n        return find(editor, currentState, text, matchCase, wholeWord, inSelection);\n      };\n      var next$1 = function () {\n        return next(editor, currentState);\n      };\n      var prev$1 = function () {\n        return prev(editor, currentState);\n      };\n      var replace$1 = function (text, forward, all) {\n        return replace(editor, currentState, text, forward, all);\n      };\n      return {\n        done: done$1,\n        find: find$1,\n        next: next$1,\n        prev: prev$1,\n        replace: replace$1\n      };\n    };\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var value = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var open = function (editor, currentSearchState) {\n      var dialogApi = value();\n      editor.undoManager.add();\n      var selectedText = global$1.trim(editor.selection.getContent({ format: 'text' }));\n      var updateButtonStates = function (api) {\n        var updateNext = hasNext(editor, currentSearchState) ? api.enable : api.disable;\n        updateNext('next');\n        var updatePrev = hasPrev(editor, currentSearchState) ? api.enable : api.disable;\n        updatePrev('prev');\n      };\n      var updateSearchState = function (api) {\n        var data = api.getData();\n        var current = currentSearchState.get();\n        currentSearchState.set(__assign(__assign({}, current), {\n          matchCase: data.matchcase,\n          wholeWord: data.wholewords,\n          inSelection: data.inselection\n        }));\n      };\n      var disableAll = function (api, disable) {\n        var buttons = [\n          'replace',\n          'replaceall',\n          'prev',\n          'next'\n        ];\n        var toggle = disable ? api.disable : api.enable;\n        each(buttons, toggle);\n      };\n      var notFoundAlert = function (api) {\n        editor.windowManager.alert('Could not find the specified string.', function () {\n          api.focus('findtext');\n        });\n      };\n      var focusButtonIfRequired = function (api, name) {\n        if (global$2.browser.isSafari() && global$2.deviceType.isTouch() && (name === 'find' || name === 'replace' || name === 'replaceall')) {\n          api.focus(name);\n        }\n      };\n      var reset = function (api) {\n        done(editor, currentSearchState, false);\n        disableAll(api, true);\n        updateButtonStates(api);\n      };\n      var doFind = function (api) {\n        var data = api.getData();\n        var last = currentSearchState.get();\n        if (!data.findtext.length) {\n          reset(api);\n          return;\n        }\n        if (last.text === data.findtext && last.matchCase === data.matchcase && last.wholeWord === data.wholewords) {\n          next(editor, currentSearchState);\n        } else {\n          var count = find(editor, currentSearchState, data.findtext, data.matchcase, data.wholewords, data.inselection);\n          if (count <= 0) {\n            notFoundAlert(api);\n          }\n          disableAll(api, count === 0);\n        }\n        updateButtonStates(api);\n      };\n      var initialState = currentSearchState.get();\n      var initialData = {\n        findtext: selectedText,\n        replacetext: '',\n        wholewords: initialState.wholeWord,\n        matchcase: initialState.matchCase,\n        inselection: initialState.inSelection\n      };\n      var spec = {\n        title: 'Find and Replace',\n        size: 'normal',\n        body: {\n          type: 'panel',\n          items: [\n            {\n              type: 'bar',\n              items: [\n                {\n                  type: 'input',\n                  name: 'findtext',\n                  placeholder: 'Find',\n                  maximized: true,\n                  inputMode: 'search'\n                },\n                {\n                  type: 'button',\n                  name: 'prev',\n                  text: 'Previous',\n                  icon: 'action-prev',\n                  disabled: true,\n                  borderless: true\n                },\n                {\n                  type: 'button',\n                  name: 'next',\n                  text: 'Next',\n                  icon: 'action-next',\n                  disabled: true,\n                  borderless: true\n                }\n              ]\n            },\n            {\n              type: 'input',\n              name: 'replacetext',\n              placeholder: 'Replace with',\n              inputMode: 'search'\n            }\n          ]\n        },\n        buttons: [\n          {\n            type: 'menu',\n            name: 'options',\n            icon: 'preferences',\n            tooltip: 'Preferences',\n            align: 'start',\n            items: [\n              {\n                type: 'togglemenuitem',\n                name: 'matchcase',\n                text: 'Match case'\n              },\n              {\n                type: 'togglemenuitem',\n                name: 'wholewords',\n                text: 'Find whole words only'\n              },\n              {\n                type: 'togglemenuitem',\n                name: 'inselection',\n                text: 'Find in selection'\n              }\n            ]\n          },\n          {\n            type: 'custom',\n            name: 'find',\n            text: 'Find',\n            primary: true\n          },\n          {\n            type: 'custom',\n            name: 'replace',\n            text: 'Replace',\n            disabled: true\n          },\n          {\n            type: 'custom',\n            name: 'replaceall',\n            text: 'Replace all',\n            disabled: true\n          }\n        ],\n        initialData: initialData,\n        onChange: function (api, details) {\n          if (details.name === 'findtext' && currentSearchState.get().count > 0) {\n            reset(api);\n          }\n        },\n        onAction: function (api, details) {\n          var data = api.getData();\n          switch (details.name) {\n          case 'find':\n            doFind(api);\n            break;\n          case 'replace':\n            if (!replace(editor, currentSearchState, data.replacetext)) {\n              reset(api);\n            } else {\n              updateButtonStates(api);\n            }\n            break;\n          case 'replaceall':\n            replace(editor, currentSearchState, data.replacetext, true, true);\n            reset(api);\n            break;\n          case 'prev':\n            prev(editor, currentSearchState);\n            updateButtonStates(api);\n            break;\n          case 'next':\n            next(editor, currentSearchState);\n            updateButtonStates(api);\n            break;\n          case 'matchcase':\n          case 'wholewords':\n          case 'inselection':\n            updateSearchState(api);\n            reset(api);\n            break;\n          }\n          focusButtonIfRequired(api, details.name);\n        },\n        onSubmit: function (api) {\n          doFind(api);\n          focusButtonIfRequired(api, 'find');\n        },\n        onClose: function () {\n          editor.focus();\n          done(editor, currentSearchState);\n          editor.undoManager.add();\n        }\n      };\n      dialogApi.set(editor.windowManager.open(spec, { inline: 'toolbar' }));\n    };\n\n    var register$1 = function (editor, currentSearchState) {\n      editor.addCommand('SearchReplace', function () {\n        open(editor, currentSearchState);\n      });\n    };\n\n    var showDialog = function (editor, currentSearchState) {\n      return function () {\n        open(editor, currentSearchState);\n      };\n    };\n    var register = function (editor, currentSearchState) {\n      editor.ui.registry.addMenuItem('searchreplace', {\n        text: 'Find and replace...',\n        shortcut: 'Meta+F',\n        onAction: showDialog(editor, currentSearchState),\n        icon: 'search'\n      });\n      editor.ui.registry.addButton('searchreplace', {\n        tooltip: 'Find and replace',\n        onAction: showDialog(editor, currentSearchState),\n        icon: 'search'\n      });\n      editor.shortcuts.add('Meta+F', '', showDialog(editor, currentSearchState));\n    };\n\n    function Plugin () {\n      global$3.add('searchreplace', function (editor) {\n        var currentSearchState = Cell({\n          index: -1,\n          count: 0,\n          text: '',\n          matchCase: false,\n          wholeWord: false,\n          inSelection: false\n        });\n        register$1(editor, currentSearchState);\n        register(editor, currentSearchState);\n        return get(editor, currentSearchState);\n      });\n    }\n\n    Plugin();\n\n}());\n"],"names":["call","id","Cell","initial","value","get","set","v","global$3","tinymce","util","Tools","resolve","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","apply","this","isType$1","type","x","Array","isPrototypeOf","constructor","name","String","isSimpleType","isString","isArray","isBoolean","isNumber","noop","constant","identity","never","always","punctuation$1","none","NONE","fold","_s","isSome","isNone","getOr","getOrThunk","thunk","getOrDie","msg","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","toArray","toString","some","a","constant_a","self","me","f","Optional","from","punctuation","global$2","global$1","nativeSlice","slice","nativePush","push","xs","len","r","eachr","flatten","has","obj","key","window","Function","is","getOption","isText$1","element","dom","nodeType","console","error","setAttribute","rawSet","fromDom","node","SugarElement","fromHtml","html","scope","div","document","createElement","innerHTML","hasChildNodes","childNodes","fromTag","tag","fromText","text","createTextNode","fromPoint","docElm","y","elementFromPoint","spot","offset","leaf","cs","children","before","marker","parent$1","parentNode","parent","insertBefore","wrap","wrapper","appendChild","append","api","nodeValue","get$1","descendants","selector","base","childElementCount","querySelectorAll","all","global","isSimpleBoundary","isBlock","schema","getShortEndedElements","nodeName","isContentEditableFalse","getContentEditable","isHidden","getWhiteSpaceElements","toLeaf","walk","walkerFn","startNode","callbacks","endNode","skipStart","next","isCefNode","cef","boundary","collectTextToBoundary","section","rootNode","forwards","getContentEditableParent","isContentEditableTrueInCef","isBoundary","rootBlock","getParent","walker","prev","fOffset","sOffset","elements","collect","sections","current","finishSection","collectRangeSections","rng","start","startContainer","startOffset","end","endContainer","endOffset","commonAncestorContainer","comparator","copy","e","ceTrueNode","b","match","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","documentPositionPreceding","sort","fromRng","collapsed","fromNode","createRng","selectNode","extract","matches","acc","nodePositions","content","last","finish","positions","matchIdx","Math","max","min","matchId","results","concat","wasType","group","groupBy","position","find$1","pattern","join","regex","lastIndex","exec","matchedText","matchIndex","matchStart","index","indexOf","matchFinish","find$2","mark","replacementNode","idx","pos","cloneNode","textNode","splitText","matchNode","findAndMarkInSelection","selection","bookmark","getBookmark","nodes","select","textSections","fromNodes","getRng","moveToBookmark","getElmIndex","elm","getAttribute","markAllMatches","editor","currentSearchState","inSelection","create","className","getBody","done","findAndMark","unwrap","firstChild","removeChild","findSpansByIndex","spans","getElementsByTagName","nodeIndex","moveSelection","forward","searchState","testIndex","count","removeClass","addClass","scrollIntoView","removeNode","remove","isEmpty","find","matchCase","wholeWord","escapedText","wordRegex","replace","escapeSearchText","isForwardSelection","isForward","RegExp","browser","isSafari","setRng","newIndex","isMatchSpan","currentMatchIndex","currentIndex","nextIndex","grep","parseInt","keepEditorSelection","setStart","setEnd","data","subject","doRevoke","revoke","clear","isSet","singleton","on","open","dialogApi","undoManager","add","selectedText","trim","getContent","format","updateButtonStates","updateNext","hasNext","enable","disable","updatePrev","hasPrev","disableAll","toggle","focusButtonIfRequired","deviceType","isTouch","focus","reset","doFind","getData","findtext","matchcase","wholewords","inselection","windowManager","alert","notFoundAlert","initialState","spec","title","size","body","items","placeholder","maximized","inputMode","icon","disabled","borderless","buttons","tooltip","align","primary","initialData","replacetext","onChange","details","onAction","updateSearchState","onSubmit","onClose","inline","showDialog","addCommand","register$1","ui","registry","addMenuItem","shortcut","addButton","shortcuts","register","currentState"],"sourceRoot":""}