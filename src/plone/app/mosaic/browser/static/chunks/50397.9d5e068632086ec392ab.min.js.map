{"version":3,"file":"chunks/50397.9d5e068632086ec392ab.min.js","mappings":"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","sources":["webpack://plone-mosaic/./node_modules/tinymce/plugins/textpattern/index.js","webpack://plone-mosaic/./node_modules/tinymce/plugins/textpattern/plugin.js"],"sourcesContent":["// Exports the \"textpattern\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/textpattern')\n//   ES2015:\n//     import 'tinymce/plugins/textpattern'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.5 (2022-05-25)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n          if (ar || !(i in from)) {\n            if (!ar)\n              ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n          }\n        }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isString = isType('string');\n    var isObject = isType('object');\n    var isArray = isType('array');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var contains = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var get$1 = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$1(xs, 0);\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty = Object.hasOwnProperty;\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    var generate$1 = function (cases) {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          var argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              var foldArgs = [];\n              for (var _i = 0; _i < arguments.length; _i++) {\n                foldArgs[_i] = arguments[_i];\n              }\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              var target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate$1 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    var partition = function (results) {\n      var errors = [];\n      var values = [];\n      each(results, function (result) {\n        result.fold(function (err) {\n          errors.push(err);\n        }, function (value) {\n          values.push(value);\n        });\n      });\n      return {\n        errors: errors,\n        values: values\n      };\n    };\n\n    var value = function (o) {\n      var or = function (_opt) {\n        return value(o);\n      };\n      var orThunk = function (_f) {\n        return value(o);\n      };\n      var map = function (f) {\n        return value(f(o));\n      };\n      var mapError = function (_f) {\n        return value(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOptional = function () {\n        return Optional.some(o);\n      };\n      return {\n        isValue: always,\n        isError: never,\n        getOr: constant(o),\n        getOrThunk: constant(o),\n        getOrDie: constant(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOptional: toOptional\n      };\n    };\n    var error$1 = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = identity;\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (_f) {\n        return error$1(message);\n      };\n      var mapError = function (f) {\n        return error$1(f(message));\n      };\n      var bind = function (_f) {\n        return error$1(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        isValue: never,\n        isError: always,\n        getOr: identity,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOptional: Optional.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error$1(err);\n      }, value);\n    };\n    var Result = {\n      value: value,\n      error: error$1,\n      fromOption: fromOption\n    };\n\n    var isInlinePattern = function (pattern) {\n      return pattern.type === 'inline-command' || pattern.type === 'inline-format';\n    };\n    var isBlockPattern = function (pattern) {\n      return pattern.type === 'block-command' || pattern.type === 'block-format';\n    };\n    var sortPatterns = function (patterns) {\n      return sort(patterns, function (a, b) {\n        if (a.start.length === b.start.length) {\n          return 0;\n        }\n        return a.start.length > b.start.length ? -1 : 1;\n      });\n    };\n    var normalizePattern = function (pattern) {\n      var err = function (message) {\n        return Result.error({\n          message: message,\n          pattern: pattern\n        });\n      };\n      var formatOrCmd = function (name, onFormat, onCommand) {\n        if (pattern.format !== undefined) {\n          var formats = void 0;\n          if (isArray(pattern.format)) {\n            if (!forall(pattern.format, isString)) {\n              return err(name + ' pattern has non-string items in the `format` array');\n            }\n            formats = pattern.format;\n          } else if (isString(pattern.format)) {\n            formats = [pattern.format];\n          } else {\n            return err(name + ' pattern has non-string `format` parameter');\n          }\n          return Result.value(onFormat(formats));\n        } else if (pattern.cmd !== undefined) {\n          if (!isString(pattern.cmd)) {\n            return err(name + ' pattern has non-string `cmd` parameter');\n          }\n          return Result.value(onCommand(pattern.cmd, pattern.value));\n        } else {\n          return err(name + ' pattern is missing both `format` and `cmd` parameters');\n        }\n      };\n      if (!isObject(pattern)) {\n        return err('Raw pattern is not an object');\n      }\n      if (!isString(pattern.start)) {\n        return err('Raw pattern is missing `start` parameter');\n      }\n      if (pattern.end !== undefined) {\n        if (!isString(pattern.end)) {\n          return err('Inline pattern has non-string `end` parameter');\n        }\n        if (pattern.start.length === 0 && pattern.end.length === 0) {\n          return err('Inline pattern has empty `start` and `end` parameters');\n        }\n        var start_1 = pattern.start;\n        var end_1 = pattern.end;\n        if (end_1.length === 0) {\n          end_1 = start_1;\n          start_1 = '';\n        }\n        return formatOrCmd('Inline', function (format) {\n          return {\n            type: 'inline-format',\n            start: start_1,\n            end: end_1,\n            format: format\n          };\n        }, function (cmd, value) {\n          return {\n            type: 'inline-command',\n            start: start_1,\n            end: end_1,\n            cmd: cmd,\n            value: value\n          };\n        });\n      } else if (pattern.replacement !== undefined) {\n        if (!isString(pattern.replacement)) {\n          return err('Replacement pattern has non-string `replacement` parameter');\n        }\n        if (pattern.start.length === 0) {\n          return err('Replacement pattern has empty `start` parameter');\n        }\n        return Result.value({\n          type: 'inline-command',\n          start: '',\n          end: pattern.start,\n          cmd: 'mceInsertContent',\n          value: pattern.replacement\n        });\n      } else {\n        if (pattern.start.length === 0) {\n          return err('Block pattern has empty `start` parameter');\n        }\n        return formatOrCmd('Block', function (formats) {\n          return {\n            type: 'block-format',\n            start: pattern.start,\n            format: formats[0]\n          };\n        }, function (command, commandValue) {\n          return {\n            type: 'block-command',\n            start: pattern.start,\n            cmd: command,\n            value: commandValue\n          };\n        });\n      }\n    };\n    var denormalizePattern = function (pattern) {\n      if (pattern.type === 'block-command') {\n        return {\n          start: pattern.start,\n          cmd: pattern.cmd,\n          value: pattern.value\n        };\n      } else if (pattern.type === 'block-format') {\n        return {\n          start: pattern.start,\n          format: pattern.format\n        };\n      } else if (pattern.type === 'inline-command') {\n        if (pattern.cmd === 'mceInsertContent' && pattern.start === '') {\n          return {\n            start: pattern.end,\n            replacement: pattern.value\n          };\n        } else {\n          return {\n            start: pattern.start,\n            end: pattern.end,\n            cmd: pattern.cmd,\n            value: pattern.value\n          };\n        }\n      } else if (pattern.type === 'inline-format') {\n        return {\n          start: pattern.start,\n          end: pattern.end,\n          format: pattern.format.length === 1 ? pattern.format[0] : pattern.format\n        };\n      }\n    };\n    var createPatternSet = function (patterns) {\n      return {\n        inlinePatterns: filter(patterns, isInlinePattern),\n        blockPatterns: sortPatterns(filter(patterns, isBlockPattern))\n      };\n    };\n\n    var get = function (patternsState) {\n      var setPatterns = function (newPatterns) {\n        var normalized = partition(map(newPatterns, normalizePattern));\n        if (normalized.errors.length > 0) {\n          var firstError = normalized.errors[0];\n          throw new Error(firstError.message + ':\\n' + JSON.stringify(firstError.pattern, null, 2));\n        }\n        patternsState.set(createPatternSet(normalized.values));\n      };\n      var getPatterns = function () {\n        return __spreadArray(__spreadArray([], map(patternsState.get().inlinePatterns, denormalizePattern), true), map(patternsState.get().blockPatterns, denormalizePattern), true);\n      };\n      return {\n        setPatterns: setPatterns,\n        getPatterns: getPatterns\n      };\n    };\n\n    var Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var error = function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      var console = Global.console;\n      if (console) {\n        if (console.error) {\n          console.error.apply(console, args);\n        } else {\n          console.log.apply(console, args);\n        }\n      }\n    };\n    var defaultPatterns = [\n      {\n        start: '*',\n        end: '*',\n        format: 'italic'\n      },\n      {\n        start: '**',\n        end: '**',\n        format: 'bold'\n      },\n      {\n        start: '#',\n        format: 'h1'\n      },\n      {\n        start: '##',\n        format: 'h2'\n      },\n      {\n        start: '###',\n        format: 'h3'\n      },\n      {\n        start: '####',\n        format: 'h4'\n      },\n      {\n        start: '#####',\n        format: 'h5'\n      },\n      {\n        start: '######',\n        format: 'h6'\n      },\n      {\n        start: '1. ',\n        cmd: 'InsertOrderedList'\n      },\n      {\n        start: '* ',\n        cmd: 'InsertUnorderedList'\n      },\n      {\n        start: '- ',\n        cmd: 'InsertUnorderedList'\n      }\n    ];\n    var getPatternSet = function (editor) {\n      var patterns = editor.getParam('textpattern_patterns', defaultPatterns, 'array');\n      if (!isArray(patterns)) {\n        error('The setting textpattern_patterns should be an array');\n        return {\n          inlinePatterns: [],\n          blockPatterns: []\n        };\n      }\n      var normalized = partition(map(patterns, normalizePattern));\n      each(normalized.errors, function (err) {\n        return error(err.message, err.pattern);\n      });\n      return createPatternSet(normalized.values);\n    };\n    var getForcedRootBlock = function (editor) {\n      var block = editor.getParam('forced_root_block', 'p');\n      if (block === false) {\n        return '';\n      } else if (block === true) {\n        return 'p';\n      } else {\n        return block;\n      }\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var zeroWidth = '\\uFEFF';\n    var nbsp = '\\xA0';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global = tinymce.util.Tools.resolve('tinymce.dom.TextSeeker');\n\n    var point = function (container, offset) {\n      return {\n        container: container,\n        offset: offset\n      };\n    };\n\n    var isText = function (node) {\n      return node.nodeType === Node.TEXT_NODE;\n    };\n    var cleanEmptyNodes = function (dom, node, isRoot) {\n      if (node && dom.isEmpty(node) && !isRoot(node)) {\n        var parent_1 = node.parentNode;\n        dom.remove(node);\n        cleanEmptyNodes(dom, parent_1, isRoot);\n      }\n    };\n    var deleteRng = function (dom, rng, isRoot, clean) {\n      if (clean === void 0) {\n        clean = true;\n      }\n      var startParent = rng.startContainer.parentNode;\n      var endParent = rng.endContainer.parentNode;\n      rng.deleteContents();\n      if (clean && !isRoot(rng.startContainer)) {\n        if (isText(rng.startContainer) && rng.startContainer.data.length === 0) {\n          dom.remove(rng.startContainer);\n        }\n        if (isText(rng.endContainer) && rng.endContainer.data.length === 0) {\n          dom.remove(rng.endContainer);\n        }\n        cleanEmptyNodes(dom, startParent, isRoot);\n        if (startParent !== endParent) {\n          cleanEmptyNodes(dom, endParent, isRoot);\n        }\n      }\n    };\n    var isBlockFormatName = function (name, formatter) {\n      var formatSet = formatter.get(name);\n      return isArray(formatSet) && head(formatSet).exists(function (format) {\n        return has(format, 'block');\n      });\n    };\n    var isReplacementPattern = function (pattern) {\n      return pattern.start.length === 0;\n    };\n    var getParentBlock = function (editor, rng) {\n      var parentBlockOpt = Optional.from(editor.dom.getParent(rng.startContainer, editor.dom.isBlock));\n      if (getForcedRootBlock(editor) === '') {\n        return parentBlockOpt.orThunk(function () {\n          return Optional.some(editor.getBody());\n        });\n      } else {\n        return parentBlockOpt;\n      }\n    };\n\n    var DOM = global$1.DOM;\n    var alwaysNext = function (startNode) {\n      return function (node) {\n        return startNode === node ? -1 : 0;\n      };\n    };\n    var isBoundary = function (dom) {\n      return function (node) {\n        return dom.isBlock(node) || contains([\n          'BR',\n          'IMG',\n          'HR',\n          'INPUT'\n        ], node.nodeName) || dom.getContentEditable(node) === 'false';\n      };\n    };\n    var textBefore = function (node, offset, rootNode) {\n      if (isText(node) && offset >= 0) {\n        return Optional.some(point(node, offset));\n      } else {\n        var textSeeker = global(DOM);\n        return Optional.from(textSeeker.backwards(node, offset, alwaysNext(node), rootNode)).map(function (prev) {\n          return point(prev.container, prev.container.data.length);\n        });\n      }\n    };\n    var textAfter = function (node, offset, rootNode) {\n      if (isText(node) && offset >= node.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        var textSeeker = global(DOM);\n        return Optional.from(textSeeker.forwards(node, offset, alwaysNext(node), rootNode)).map(function (prev) {\n          return point(prev.container, 0);\n        });\n      }\n    };\n    var scanLeft = function (node, offset, rootNode) {\n      if (!isText(node)) {\n        return Optional.none();\n      }\n      var text = node.textContent;\n      if (offset >= 0 && offset <= text.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        var textSeeker = global(DOM);\n        return Optional.from(textSeeker.backwards(node, offset, alwaysNext(node), rootNode)).bind(function (prev) {\n          var prevText = prev.container.data;\n          return scanLeft(prev.container, offset + prevText.length, rootNode);\n        });\n      }\n    };\n    var scanRight = function (node, offset, rootNode) {\n      if (!isText(node)) {\n        return Optional.none();\n      }\n      var text = node.textContent;\n      if (offset <= text.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        var textSeeker = global(DOM);\n        return Optional.from(textSeeker.forwards(node, offset, alwaysNext(node), rootNode)).bind(function (next) {\n          return scanRight(next.container, offset - text.length, rootNode);\n        });\n      }\n    };\n    var repeatLeft = function (dom, node, offset, process, rootNode) {\n      var search = global(dom, isBoundary(dom));\n      return Optional.from(search.backwards(node, offset, process, rootNode));\n    };\n\n    var generatePath = function (root, node, offset) {\n      if (isText(node) && (offset < 0 || offset > node.data.length)) {\n        return [];\n      }\n      var p = [offset];\n      var current = node;\n      while (current !== root && current.parentNode) {\n        var parent_1 = current.parentNode;\n        for (var i = 0; i < parent_1.childNodes.length; i++) {\n          if (parent_1.childNodes[i] === current) {\n            p.push(i);\n            break;\n          }\n        }\n        current = parent_1;\n      }\n      return current === root ? p.reverse() : [];\n    };\n    var generatePathRange = function (root, startNode, startOffset, endNode, endOffset) {\n      var start = generatePath(root, startNode, startOffset);\n      var end = generatePath(root, endNode, endOffset);\n      return {\n        start: start,\n        end: end\n      };\n    };\n    var resolvePath = function (root, path) {\n      var nodePath = path.slice();\n      var offset = nodePath.pop();\n      var resolvedNode = foldl(nodePath, function (optNode, index) {\n        return optNode.bind(function (node) {\n          return Optional.from(node.childNodes[index]);\n        });\n      }, Optional.some(root));\n      return resolvedNode.bind(function (node) {\n        if (isText(node) && (offset < 0 || offset > node.data.length)) {\n          return Optional.none();\n        } else {\n          return Optional.some({\n            node: node,\n            offset: offset\n          });\n        }\n      });\n    };\n    var resolvePathRange = function (root, range) {\n      return resolvePath(root, range.start).bind(function (_a) {\n        var startNode = _a.node, startOffset = _a.offset;\n        return resolvePath(root, range.end).map(function (_a) {\n          var endNode = _a.node, endOffset = _a.offset;\n          var rng = document.createRange();\n          rng.setStart(startNode, startOffset);\n          rng.setEnd(endNode, endOffset);\n          return rng;\n        });\n      });\n    };\n    var generatePathRangeFromRange = function (root, range) {\n      return generatePathRange(root, range.startContainer, range.startOffset, range.endContainer, range.endOffset);\n    };\n\n    var stripPattern = function (dom, block, pattern) {\n      var firstTextNode = textAfter(block, 0, block);\n      firstTextNode.each(function (spot) {\n        var node = spot.container;\n        scanRight(node, pattern.start.length, block).each(function (end) {\n          var rng = dom.createRng();\n          rng.setStart(node, 0);\n          rng.setEnd(end.container, end.offset);\n          deleteRng(dom, rng, function (e) {\n            return e === block;\n          });\n        });\n      });\n    };\n    var applyPattern$1 = function (editor, match) {\n      var dom = editor.dom;\n      var pattern = match.pattern;\n      var rng = resolvePathRange(dom.getRoot(), match.range).getOrDie('Unable to resolve path range');\n      getParentBlock(editor, rng).each(function (block) {\n        if (pattern.type === 'block-format') {\n          if (isBlockFormatName(pattern.format, editor.formatter)) {\n            editor.undoManager.transact(function () {\n              stripPattern(editor.dom, block, pattern);\n              editor.formatter.apply(pattern.format);\n            });\n          }\n        } else if (pattern.type === 'block-command') {\n          editor.undoManager.transact(function () {\n            stripPattern(editor.dom, block, pattern);\n            editor.execCommand(pattern.cmd, false, pattern.value);\n          });\n        }\n      });\n      return true;\n    };\n    var findPattern$1 = function (patterns, text) {\n      var nuText = text.replace(nbsp, ' ');\n      return find(patterns, function (pattern) {\n        return text.indexOf(pattern.start) === 0 || nuText.indexOf(pattern.start) === 0;\n      });\n    };\n    var findPatterns$1 = function (editor, patterns) {\n      var dom = editor.dom;\n      var rng = editor.selection.getRng();\n      return getParentBlock(editor, rng).filter(function (block) {\n        var forcedRootBlock = getForcedRootBlock(editor);\n        var matchesForcedRootBlock = forcedRootBlock === '' && dom.is(block, 'body') || dom.is(block, forcedRootBlock);\n        return block !== null && matchesForcedRootBlock;\n      }).bind(function (block) {\n        var blockText = block.textContent;\n        var matchedPattern = findPattern$1(patterns, blockText);\n        return matchedPattern.map(function (pattern) {\n          if (global$2.trim(blockText).length === pattern.start.length) {\n            return [];\n          }\n          return [{\n              pattern: pattern,\n              range: generatePathRange(dom.getRoot(), block, 0, block, 0)\n            }];\n        });\n      }).getOr([]);\n    };\n    var applyMatches$1 = function (editor, matches) {\n      if (matches.length === 0) {\n        return;\n      }\n      var bookmark = editor.selection.getBookmark();\n      each(matches, function (match) {\n        return applyPattern$1(editor, match);\n      });\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    var unique = 0;\n    var generate = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var endsWith = function (str, suffix) {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n\n    var newMarker = function (dom, id) {\n      return dom.create('span', {\n        'data-mce-type': 'bookmark',\n        id: id\n      });\n    };\n    var rangeFromMarker = function (dom, marker) {\n      var rng = dom.createRng();\n      rng.setStartAfter(marker.start);\n      rng.setEndBefore(marker.end);\n      return rng;\n    };\n    var createMarker = function (dom, markerPrefix, pathRange) {\n      var rng = resolvePathRange(dom.getRoot(), pathRange).getOrDie('Unable to resolve path range');\n      var startNode = rng.startContainer;\n      var endNode = rng.endContainer;\n      var textEnd = rng.endOffset === 0 ? endNode : endNode.splitText(rng.endOffset);\n      var textStart = rng.startOffset === 0 ? startNode : startNode.splitText(rng.startOffset);\n      return {\n        prefix: markerPrefix,\n        end: textEnd.parentNode.insertBefore(newMarker(dom, markerPrefix + '-end'), textEnd),\n        start: textStart.parentNode.insertBefore(newMarker(dom, markerPrefix + '-start'), textStart)\n      };\n    };\n    var removeMarker = function (dom, marker, isRoot) {\n      cleanEmptyNodes(dom, dom.get(marker.prefix + '-end'), isRoot);\n      cleanEmptyNodes(dom, dom.get(marker.prefix + '-start'), isRoot);\n    };\n\n    var matchesPattern = function (dom, block, patternContent) {\n      return function (element, offset) {\n        var text = element.data;\n        var searchText = text.substring(0, offset);\n        var startEndIndex = searchText.lastIndexOf(patternContent.charAt(patternContent.length - 1));\n        var startIndex = searchText.lastIndexOf(patternContent);\n        if (startIndex !== -1) {\n          return startIndex + patternContent.length;\n        } else if (startEndIndex !== -1) {\n          return startEndIndex + 1;\n        } else {\n          return -1;\n        }\n      };\n    };\n    var findPatternStartFromSpot = function (dom, pattern, block, spot) {\n      var startPattern = pattern.start;\n      var startSpot = repeatLeft(dom, spot.container, spot.offset, matchesPattern(dom, block, startPattern), block);\n      return startSpot.bind(function (spot) {\n        if (spot.offset >= startPattern.length) {\n          var rng = dom.createRng();\n          rng.setStart(spot.container, spot.offset - startPattern.length);\n          rng.setEnd(spot.container, spot.offset);\n          return Optional.some(rng);\n        } else {\n          var offset = spot.offset - startPattern.length;\n          return scanLeft(spot.container, offset, block).map(function (nextSpot) {\n            var rng = dom.createRng();\n            rng.setStart(nextSpot.container, nextSpot.offset);\n            rng.setEnd(spot.container, spot.offset);\n            return rng;\n          }).filter(function (rng) {\n            return rng.toString() === startPattern;\n          }).orThunk(function () {\n            return findPatternStartFromSpot(dom, pattern, block, point(spot.container, 0));\n          });\n        }\n      });\n    };\n    var findPatternStart = function (dom, pattern, node, offset, block, requireGap) {\n      if (requireGap === void 0) {\n        requireGap = false;\n      }\n      if (pattern.start.length === 0 && !requireGap) {\n        var rng = dom.createRng();\n        rng.setStart(node, offset);\n        rng.setEnd(node, offset);\n        return Optional.some(rng);\n      }\n      return textBefore(node, offset, block).bind(function (spot) {\n        var start = findPatternStartFromSpot(dom, pattern, block, spot);\n        return start.bind(function (startRange) {\n          if (requireGap) {\n            if (startRange.endContainer === spot.container && startRange.endOffset === spot.offset) {\n              return Optional.none();\n            } else if (spot.offset === 0 && startRange.endContainer.textContent.length === startRange.endOffset) {\n              return Optional.none();\n            }\n          }\n          return Optional.some(startRange);\n        });\n      });\n    };\n    var findPattern = function (editor, block, details) {\n      var dom = editor.dom;\n      var root = dom.getRoot();\n      var pattern = details.pattern;\n      var endNode = details.position.container;\n      var endOffset = details.position.offset;\n      return scanLeft(endNode, endOffset - details.pattern.end.length, block).bind(function (spot) {\n        var endPathRng = generatePathRange(root, spot.container, spot.offset, endNode, endOffset);\n        if (isReplacementPattern(pattern)) {\n          return Optional.some({\n            matches: [{\n                pattern: pattern,\n                startRng: endPathRng,\n                endRng: endPathRng\n              }],\n            position: spot\n          });\n        } else {\n          var resultsOpt = findPatternsRec(editor, details.remainingPatterns, spot.container, spot.offset, block);\n          var results_1 = resultsOpt.getOr({\n            matches: [],\n            position: spot\n          });\n          var pos = results_1.position;\n          var start = findPatternStart(dom, pattern, pos.container, pos.offset, block, resultsOpt.isNone());\n          return start.map(function (startRng) {\n            var startPathRng = generatePathRangeFromRange(root, startRng);\n            return {\n              matches: results_1.matches.concat([{\n                  pattern: pattern,\n                  startRng: startPathRng,\n                  endRng: endPathRng\n                }]),\n              position: point(startRng.startContainer, startRng.startOffset)\n            };\n          });\n        }\n      });\n    };\n    var findPatternsRec = function (editor, patterns, node, offset, block) {\n      var dom = editor.dom;\n      return textBefore(node, offset, dom.getRoot()).bind(function (endSpot) {\n        var rng = dom.createRng();\n        rng.setStart(block, 0);\n        rng.setEnd(node, offset);\n        var text = rng.toString();\n        for (var i = 0; i < patterns.length; i++) {\n          var pattern = patterns[i];\n          if (!endsWith(text, pattern.end)) {\n            continue;\n          }\n          var patternsWithoutCurrent = patterns.slice();\n          patternsWithoutCurrent.splice(i, 1);\n          var result = findPattern(editor, block, {\n            pattern: pattern,\n            remainingPatterns: patternsWithoutCurrent,\n            position: endSpot\n          });\n          if (result.isSome()) {\n            return result;\n          }\n        }\n        return Optional.none();\n      });\n    };\n    var applyPattern = function (editor, pattern, patternRange) {\n      editor.selection.setRng(patternRange);\n      if (pattern.type === 'inline-format') {\n        each(pattern.format, function (format) {\n          editor.formatter.apply(format);\n        });\n      } else {\n        editor.execCommand(pattern.cmd, false, pattern.value);\n      }\n    };\n    var applyReplacementPattern = function (editor, pattern, marker, isRoot) {\n      var markerRange = rangeFromMarker(editor.dom, marker);\n      deleteRng(editor.dom, markerRange, isRoot);\n      applyPattern(editor, pattern, markerRange);\n    };\n    var applyPatternWithContent = function (editor, pattern, startMarker, endMarker, isRoot) {\n      var dom = editor.dom;\n      var markerEndRange = rangeFromMarker(dom, endMarker);\n      var markerStartRange = rangeFromMarker(dom, startMarker);\n      deleteRng(dom, markerStartRange, isRoot);\n      deleteRng(dom, markerEndRange, isRoot);\n      var patternMarker = {\n        prefix: startMarker.prefix,\n        start: startMarker.end,\n        end: endMarker.start\n      };\n      var patternRange = rangeFromMarker(dom, patternMarker);\n      applyPattern(editor, pattern, patternRange);\n    };\n    var addMarkers = function (dom, matches) {\n      var markerPrefix = generate('mce_textpattern');\n      var matchesWithEnds = foldr(matches, function (acc, match) {\n        var endMarker = createMarker(dom, markerPrefix + ('_end' + acc.length), match.endRng);\n        return acc.concat([__assign(__assign({}, match), { endMarker: endMarker })]);\n      }, []);\n      return foldr(matchesWithEnds, function (acc, match) {\n        var idx = matchesWithEnds.length - acc.length - 1;\n        var startMarker = isReplacementPattern(match.pattern) ? match.endMarker : createMarker(dom, markerPrefix + ('_start' + idx), match.startRng);\n        return acc.concat([__assign(__assign({}, match), { startMarker: startMarker })]);\n      }, []);\n    };\n    var findPatterns = function (editor, patterns, space) {\n      var rng = editor.selection.getRng();\n      if (rng.collapsed === false) {\n        return [];\n      }\n      return getParentBlock(editor, rng).bind(function (block) {\n        var offset = rng.startOffset - (space ? 1 : 0);\n        return findPatternsRec(editor, patterns, rng.startContainer, offset, block);\n      }).fold(function () {\n        return [];\n      }, function (result) {\n        return result.matches;\n      });\n    };\n    var applyMatches = function (editor, matches) {\n      if (matches.length === 0) {\n        return;\n      }\n      var dom = editor.dom;\n      var bookmark = editor.selection.getBookmark();\n      var matchesWithMarkers = addMarkers(dom, matches);\n      each(matchesWithMarkers, function (match) {\n        var block = dom.getParent(match.startMarker.start, dom.isBlock);\n        var isRoot = function (node) {\n          return node === block;\n        };\n        if (isReplacementPattern(match.pattern)) {\n          applyReplacementPattern(editor, match.pattern, match.endMarker, isRoot);\n        } else {\n          applyPatternWithContent(editor, match.pattern, match.startMarker, match.endMarker, isRoot);\n        }\n        removeMarker(dom, match.endMarker, isRoot);\n        removeMarker(dom, match.startMarker, isRoot);\n      });\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    var handleEnter = function (editor, patternSet) {\n      if (!editor.selection.isCollapsed()) {\n        return false;\n      }\n      var inlineMatches = findPatterns(editor, patternSet.inlinePatterns, false);\n      var blockMatches = findPatterns$1(editor, patternSet.blockPatterns);\n      if (blockMatches.length > 0 || inlineMatches.length > 0) {\n        editor.undoManager.add();\n        editor.undoManager.extra(function () {\n          editor.execCommand('mceInsertNewLine');\n        }, function () {\n          editor.insertContent(zeroWidth);\n          applyMatches(editor, inlineMatches);\n          applyMatches$1(editor, blockMatches);\n          var range = editor.selection.getRng();\n          var spot = textBefore(range.startContainer, range.startOffset, editor.dom.getRoot());\n          editor.execCommand('mceInsertNewLine');\n          spot.each(function (s) {\n            var node = s.container;\n            if (node.data.charAt(s.offset - 1) === zeroWidth) {\n              node.deleteData(s.offset - 1, 1);\n              cleanEmptyNodes(editor.dom, node.parentNode, function (e) {\n                return e === editor.dom.getRoot();\n              });\n            }\n          });\n        });\n        return true;\n      }\n      return false;\n    };\n    var handleInlineKey = function (editor, patternSet) {\n      var inlineMatches = findPatterns(editor, patternSet.inlinePatterns, true);\n      if (inlineMatches.length > 0) {\n        editor.undoManager.transact(function () {\n          applyMatches(editor, inlineMatches);\n        });\n      }\n    };\n    var checkKeyEvent = function (codes, event, predicate) {\n      for (var i = 0; i < codes.length; i++) {\n        if (predicate(codes[i], event)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var checkKeyCode = function (codes, event) {\n      return checkKeyEvent(codes, event, function (code, event) {\n        return code === event.keyCode && global$3.modifierPressed(event) === false;\n      });\n    };\n    var checkCharCode = function (chars, event) {\n      return checkKeyEvent(chars, event, function (chr, event) {\n        return chr.charCodeAt(0) === event.charCode;\n      });\n    };\n\n    var setup = function (editor, patternsState) {\n      var charCodes = [\n        ',',\n        '.',\n        ';',\n        ':',\n        '!',\n        '?'\n      ];\n      var keyCodes = [32];\n      editor.on('keydown', function (e) {\n        if (e.keyCode === 13 && !global$3.modifierPressed(e)) {\n          if (handleEnter(editor, patternsState.get())) {\n            e.preventDefault();\n          }\n        }\n      }, true);\n      editor.on('keyup', function (e) {\n        if (checkKeyCode(keyCodes, e)) {\n          handleInlineKey(editor, patternsState.get());\n        }\n      });\n      editor.on('keypress', function (e) {\n        if (checkCharCode(charCodes, e)) {\n          global$4.setEditorTimeout(editor, function () {\n            handleInlineKey(editor, patternsState.get());\n          });\n        }\n      });\n    };\n\n    function Plugin () {\n      global$5.add('textpattern', function (editor) {\n        var patternsState = Cell(getPatternSet(editor));\n        setup(editor, patternsState);\n        return get(patternsState);\n      });\n    }\n\n    Plugin();\n\n}());\n"],"names":["global$5","tinymce","util","Tools","resolve","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__spreadArray","to","from","pack","ar","l","Array","slice","concat","id","isType","type","value","x","isPrototypeOf","constructor","name","String","isString","isObject","isArray","noop","constant","identity","never","always","none","NONE","fold","_s","isSome","isNone","getOr","getOrThunk","thunk","getOrDie","msg","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","toArray","toString","some","a","constant_a","self","me","f","Optional","nativeSlice","nativeIndexOf","indexOf","contains","xs","ts","len","r","pred","push","foldr","acc","eachr","find","until","findUntil","head","get$1","keys","Adt","cases","constructors","adt","acase","count","keys$1","key","args","_i","argLength","match","branches","branchKeys","join","reqKey","foldArgs","target","log","label","console","params","bothErrors","firstError","secondError","bothValues","partition","results","errors","values","result","err","o","isValue","isError","_opt","_f","_","onValue","mapError","toOptional","error$1","message","onError","Result","error","fromOption","opt","isInlinePattern","pattern","isBlockPattern","sortPatterns","patterns","comparator","b","start","copy","sort","normalizePattern","formatOrCmd","onFormat","onCommand","format","formats","cmd","end","start_1","end_1","replacement","command","commandValue","denormalizePattern","createPatternSet","inlinePatterns","blockPatterns","Global","window","Function","defaultPatterns","getForcedRootBlock","editor","block","getParam","global$4","global$3","global$2","global$1","global","point","container","offset","isText","node","nodeType","Node","TEXT_NODE","cleanEmptyNodes","dom","isRoot","isEmpty","parent_1","parentNode","remove","deleteRng","rng","clean","startParent","startContainer","endParent","endContainer","deleteContents","data","isBlockFormatName","formatter","formatSet","get","obj","isReplacementPattern","getParentBlock","parentBlockOpt","getParent","isBlock","getBody","DOM","alwaysNext","startNode","textBefore","rootNode","textSeeker","backwards","prev","scanLeft","text","textContent","prevText","scanRight","forwards","next","repeatLeft","process","search","nodeName","getContentEditable","isBoundary","generatePath","root","current","childNodes","reverse","generatePathRange","startOffset","endNode","endOffset","resolvePath","path","nodePath","pop","optNode","index","resolvePathRange","range","_a","document","createRange","setStart","setEnd","stripPattern","textAfter","spot","createRng","e","findPatterns$1","selection","getRng","forcedRootBlock","matchesForcedRootBlock","is","blockText","matchedPattern","nuText","replace","findPattern$1","trim","getRoot","applyMatches$1","matches","bookmark","getBookmark","undoManager","transact","execCommand","applyPattern$1","moveToBookmark","unique","newMarker","create","rangeFromMarker","marker","setStartAfter","setEndBefore","createMarker","markerPrefix","pathRange","textEnd","splitText","textStart","prefix","insertBefore","removeMarker","findPatternStartFromSpot","patternContent","startPattern","element","searchText","substring","startEndIndex","lastIndexOf","charAt","startIndex","nextSpot","findPattern","details","position","endPathRng","startRng","endRng","resultsOpt","findPatternsRec","remainingPatterns","results_1","pos","requireGap","startRange","findPatternStart","startPathRng","generatePathRangeFromRange","endSpot","str","suffix","substr","checkRange","patternsWithoutCurrent","splice","applyPattern","patternRange","setRng","addMarkers","time","Date","getTime","Math","floor","random","matchesWithEnds","endMarker","idx","startMarker","findPatterns","space","collapsed","applyMatches","matchesWithMarkers","markerRange","applyReplacementPattern","markerEndRange","markerStartRange","patternMarker","applyPatternWithContent","handleInlineKey","patternSet","inlineMatches","checkKeyEvent","codes","event","predicate","setup","patternsState","charCodes","keyCodes","on","keyCode","modifierPressed","isCollapsed","blockMatches","add","extra","insertContent","deleteData","handleEnter","preventDefault","code","chr","charCodeAt","charCode","setEditorTimeout","initial","set","v","Cell","normalized","getPatternSet","setPatterns","newPatterns","JSON","stringify","getPatterns"],"sourceRoot":""}