"use strict";(self.webpackChunkplone_mosaic=self.webpackChunkplone_mosaic||[]).push([[44206],{44206:function(e,r,n){n.r(r),n.d(r,{default:function(){return l}});var o=n(10878),t=n.n(o),a=n(87657),i=n(84109),s=n(79875);n(39191);function c(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(r){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=r}var r,n,o;return r=e,(n=[{key:"loadModals",value:function(){t()(".recordsEditLink").each((function(){var e=t()(this),r={actionOptions:{onSuccess:function(e){e.hide(),t()("#searchrow form#registry-filter").trigger("submit")}}};e.addClass("pat-modal"),new s.Z(e,r)}))}},{key:"init",value:function(){var e=this;e.loadModals(),t()("#recordsContainer").on("click","[type='reset']",(function(){document.querySelector('#searchrow input[name="q"]').value="",document.querySelector("#searchrow form#registry-filter button[type='submit']").click()})),t()("#recordsContainer").on("click","nav.pagination a, div.listingBar a",(function(){var r=t()(this);return i.Z.loading.show(),t()("#recordsContainer").load(r.attr("href")+" #recordsTable",(function(){a.Z.scan(t()("#recordsTable")),e.loadModals(),i.Z.loading.hide()})),!1})),t()("#recordsContainer").on("submit","#searchrow form",(function(r){var n=t()(this);return i.Z.loading.show(),t()("#recordsContainer").load(t()("body").attr("data-base-url")+"?"+n.serialize()+" #recordsTable",(function(){t()("#spinner").hide(),t()('#searchrow input[name="q"]').trigger("keypress"),a.Z.scan(t()("#recordsTable")),e.loadModals(),i.Z.loading.hide()})),r.preventDefault(),!1})),t()("#recordsContainer").on("change","#searchrow select",(function(){t()("#searchrow form#registry-filter").trigger("submit")})),t()('#searchrow input[name="q"]').trigger("keypress")}}])&&c(r.prototype,n),o&&c(r,o),Object.defineProperty(r,"prototype",{writable:!1}),e}()}}]);