(self.webpackChunkplone_mosaic=self.webpackChunkplone_mosaic||[]).push([[56507],{54189:function(e,t,n){n(12806)},12806:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),n=function(e){e=t.trim(e);var n=function(t,n){e=e.replace(t,n)};return n(/\n/gi,"<br />"),n(/\[b\]/gi,"<strong>"),n(/\[\/b\]/gi,"</strong>"),n(/\[i\]/gi,"<em>"),n(/\[\/i\]/gi,"</em>"),n(/\[u\]/gi,"<u>"),n(/\[\/u\]/gi,"</u>"),n(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'),n(/\[url\](.*?)\[\/url\]/gi,'<a href="$1">$1</a>'),n(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />'),n(/\[color=(.*?)\](.*?)\[\/color\]/gi,'<font color="$1">$2</font>'),n(/\[code\](.*?)\[\/code\]/gi,'<span class="codeStyle">$1</span>&nbsp;'),n(/\[quote.*?\](.*?)\[\/quote\]/gi,'<span class="quoteStyle">$1</span>&nbsp;'),e};e.add("bbcode",(function(e){e.on("BeforeSetContent",(function(e){e.content=n(e.content)})),e.on("PostProcess",(function(e){e.set&&(e.content=n(e.content)),e.get&&(e.content=function(e){e=t.trim(e);var n=function(t,n){e=e.replace(t,n)};return n(/<a.*?href=\"(.*?)\".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"),n(/<font.*?color=\"(.*?)\".*?class=\"codeStyle\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),n(/<font.*?color=\"(.*?)\".*?class=\"quoteStyle\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),n(/<font.*?class=\"codeStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),n(/<font.*?class=\"quoteStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),n(/<span style=\"color: ?(.*?);\">(.*?)<\/span>/gi,"[color=$1]$2[/color]"),n(/<font.*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[color=$1]$2[/color]"),n(/<span style=\"font-size:(.*?);\">(.*?)<\/span>/gi,"[size=$1]$2[/size]"),n(/<font>(.*?)<\/font>/gi,"$1"),n(/<img.*?src=\"(.*?)\".*?\/>/gi,"[img]$1[/img]"),n(/<span class=\"codeStyle\">(.*?)<\/span>/gi,"[code]$1[/code]"),n(/<span class=\"quoteStyle\">(.*?)<\/span>/gi,"[quote]$1[/quote]"),n(/<strong class=\"codeStyle\">(.*?)<\/strong>/gi,"[code][b]$1[/b][/code]"),n(/<strong class=\"quoteStyle\">(.*?)<\/strong>/gi,"[quote][b]$1[/b][/quote]"),n(/<em class=\"codeStyle\">(.*?)<\/em>/gi,"[code][i]$1[/i][/code]"),n(/<em class=\"quoteStyle\">(.*?)<\/em>/gi,"[quote][i]$1[/i][/quote]"),n(/<u class=\"codeStyle\">(.*?)<\/u>/gi,"[code][u]$1[/u][/code]"),n(/<u class=\"quoteStyle\">(.*?)<\/u>/gi,"[quote][u]$1[/u][/quote]"),n(/<\/(strong|b)>/gi,"[/b]"),n(/<(strong|b)>/gi,"[b]"),n(/<\/(em|i)>/gi,"[/i]"),n(/<(em|i)>/gi,"[i]"),n(/<\/u>/gi,"[/u]"),n(/<span style=\"text-decoration: ?underline;\">(.*?)<\/span>/gi,"[u]$1[/u]"),n(/<u>/gi,"[u]"),n(/<blockquote[^>]*>/gi,"[quote]"),n(/<\/blockquote>/gi,"[/quote]"),n(/<br \/>/gi,"\n"),n(/<br\/>/gi,"\n"),n(/<br>/gi,"\n"),n(/<p>/gi,""),n(/<\/p>/gi,"\n"),n(/&nbsp;|\u00a0/gi," "),n(/&quot;/gi,'"'),n(/&lt;/gi,"<"),n(/&gt;/gi,">"),n(/&amp;/gi,"&"),e}(e.content))}))}))}()},43407:function(){!function(){"use strict";function e(e){function t(t,n){e=e.replace(t,n)}return e=n.trim(e),t(/\n/gi,"<br />"),t(/\[b\]/gi,"<strong>"),t(/\[\/b\]/gi,"</strong>"),t(/\[i\]/gi,"<em>"),t(/\[\/i\]/gi,"</em>"),t(/\[u\]/gi,"<u>"),t(/\[\/u\]/gi,"</u>"),t(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'),t(/\[url\](.*?)\[\/url\]/gi,'<a href="$1">$1</a>'),t(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />'),t(/\[color=(.*?)\](.*?)\[\/color\]/gi,'<font color="$1">$2</font>'),t(/\[code\](.*?)\[\/code\]/gi,'<span class="codeStyle">$1</span>&nbsp;'),t(/\[quote.*?\](.*?)\[\/quote\]/gi,'<span class="quoteStyle">$1</span>&nbsp;'),e}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.Tools");t.add("bbcode",(function(t){t.on("BeforeSetContent",(function(t){t.content=e(t.content)})),t.on("PostProcess",(function(t){function r(e,t){o=o.replace(e,t)}var o;t.set&&(t.content=e(t.content)),t.get&&(t.content=(o=t.content,o=n.trim(o),r(/<a.*?href=\"(.*?)\".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"),r(/<font.*?color=\"(.*?)\".*?class=\"codeStyle\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),r(/<font.*?color=\"(.*?)\".*?class=\"quoteStyle\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),r(/<font.*?class=\"codeStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),r(/<font.*?class=\"quoteStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),r(/<span style=\"color: ?(.*?);\">(.*?)<\/span>/gi,"[color=$1]$2[/color]"),r(/<font.*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[color=$1]$2[/color]"),r(/<span style=\"font-size:(.*?);\">(.*?)<\/span>/gi,"[size=$1]$2[/size]"),r(/<font>(.*?)<\/font>/gi,"$1"),r(/<img.*?src=\"(.*?)\".*?\/>/gi,"[img]$1[/img]"),r(/<span class=\"codeStyle\">(.*?)<\/span>/gi,"[code]$1[/code]"),r(/<span class=\"quoteStyle\">(.*?)<\/span>/gi,"[quote]$1[/quote]"),r(/<strong class=\"codeStyle\">(.*?)<\/strong>/gi,"[code][b]$1[/b][/code]"),r(/<strong class=\"quoteStyle\">(.*?)<\/strong>/gi,"[quote][b]$1[/b][/quote]"),r(/<em class=\"codeStyle\">(.*?)<\/em>/gi,"[code][i]$1[/i][/code]"),r(/<em class=\"quoteStyle\">(.*?)<\/em>/gi,"[quote][i]$1[/i][/quote]"),r(/<u class=\"codeStyle\">(.*?)<\/u>/gi,"[code][u]$1[/u][/code]"),r(/<u class=\"quoteStyle\">(.*?)<\/u>/gi,"[quote][u]$1[/u][/quote]"),r(/<\/(strong|b)>/gi,"[/b]"),r(/<(strong|b)>/gi,"[b]"),r(/<\/(em|i)>/gi,"[/i]"),r(/<(em|i)>/gi,"[i]"),r(/<\/u>/gi,"[/u]"),r(/<span style=\"text-decoration: ?underline;\">(.*?)<\/span>/gi,"[u]$1[/u]"),r(/<u>/gi,"[u]"),r(/<blockquote[^>]*>/gi,"[quote]"),r(/<\/blockquote>/gi,"[/quote]"),r(/<br \/>/gi,"\n"),r(/<br\/>/gi,"\n"),r(/<br>/gi,"\n"),r(/<p>/gi,""),r(/<\/p>/gi,"\n"),r(/&nbsp;|\u00a0/gi," "),r(/&quot;/gi,'"'),r(/&lt;/gi,"<"),r(/&gt;/gi,">"),r(/&amp;/gi,"&"),o))}))}))}()},88190:function(e,t,n){n(7440)},7440:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");e.add("code",(function(e){return function(e){e.addCommand("mceCodeEditor",(function(){!function(e){var t=function(e){return e.getContent({source_view:!0})}(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:function(t){!function(e,t){e.focus(),e.undoManager.transact((function(){e.setContent(t)})),e.selection.setCursorLocation(),e.nodeChanged()}(e,t.getData().code),t.close()}})}(e)}))}(e),function(e){var t=function(){return e.execCommand("mceCodeEditor")};e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})}(e),{}}))}()},3214:function(){!function(){"use strict";tinymce.util.Tools.resolve("tinymce.PluginManager").add("code",(function(e){var t,n;function r(){return n.execCommand("mceCodeEditor")}return(t=e).addCommand("mceCodeEditor",(function(){var e,n;n=(e=t).getContent({source_view:!0}),e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:n},onSubmit:function(t){var n=e,r=t.getData().code;n.focus(),n.undoManager.transact((function(){n.setContent(r)})),n.selection.setCursorLocation(),n.nodeChanged(),t.close()}})})),(n=e).ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:r}),n.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:r}),{}}))}()},82069:function(e,t,n){n(53292)},53292:function(){!function(){"use strict";var e,t,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(){},o=function(e){return function(){return e}},i=function(e){return e},u=o(!1),a=o(!0),c=function(){return l},l={fold:function(e,t){return e()},isSome:u,isNone:a,getOr:t=i,getOrThunk:e=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:t,orThunk:e,map:c,each:r,bind:c,exists:u,forall:a,filter:function(){return c()},toArray:function(){return[]},toString:o("none()")},s=function(e){var t=o(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},isSome:a,isNone:u,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return s(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:l},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},f={some:s,none:c,from:function(e){return null==e?l:s(e)}},d=function(e){return function(e,t){return t>=0&&t<e.length?f.some(e[t]):f.none()}(e,0)},m=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),g=function(e){return e&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-")},p=function(e){return function(t,n){return e(n)}},h="undefined"!=typeof window?window:Function("return this;")(),v={},b={exports:v},y={};!function(e,t,n,r){var o=window.Prism;window.Prism={manual:!0},function(r,o){"object"==typeof t&&void 0!==n?n.exports=o():"function"==typeof e&&e.amd?e(o):(r="undefined"!=typeof globalThis?globalThis:r||self).EphoxContactWrapper=o()}(this,(function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==y?y:"undefined"!=typeof self?self:{},t={exports:{}};return function(t){var n=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},o={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,i;switch(n=n||{},o.util.type(t)){case"Object":if(i=o.util.objId(t),n[i])return n[i];for(var u in r={},n[i]=r,t)t.hasOwnProperty(u)&&(r[u]=e(t[u],n));return r;case"Array":return i=o.util.objId(t),n[i]?n[i]:(r=[],n[i]=r,t.forEach((function(t,o){r[o]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t.source,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var o=e.classList;if(o.contains(t))return!0;if(o.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=o.util.clone(o.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var i=(r=r||o.languages)[e],u={};for(var a in i)if(i.hasOwnProperty(a)){if(a==t)for(var c in n)n.hasOwnProperty(c)&&(u[c]=n[c]);n.hasOwnProperty(a)||(u[a]=i[a])}var l=r[e];return r[e]=u,o.languages.DFS(o.languages,(function(t,n){n===l&&t!=e&&(this[t]=u)})),u},DFS:function e(t,n,r,i){i=i||{};var u=o.util.objId;for(var a in t)if(t.hasOwnProperty(a)){n.call(t,a,t[a],r||a);var c=t[a],l=o.util.type(c);"Object"!==l||i[u(c)]?"Array"!==l||i[u(c)]||(i[u(c)]=!0,e(c,n,a,i)):(i[u(c)]=!0,e(c,n,null,i))}}},plugins:{},highlightAll:function(e,t){o.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),o.hooks.run("before-all-elements-highlight",r);for(var i,u=0;i=r.elements[u++];)o.highlightElement(i,!0===t,r.callback)},highlightElement:function(t,n,r){var i=o.util.getLanguage(t),u=o.languages[i];o.util.setLanguage(t,i);var a=t.parentElement;a&&"pre"===a.nodeName.toLowerCase()&&o.util.setLanguage(a,i);var c={element:t,language:i,grammar:u,code:t.textContent};function l(e){c.highlightedCode=e,o.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,o.hooks.run("after-highlight",c),o.hooks.run("complete",c),r&&r.call(c.element)}if(o.hooks.run("before-sanity-check",c),(a=c.element.parentElement)&&"pre"===a.nodeName.toLowerCase()&&!a.hasAttribute("tabindex")&&a.setAttribute("tabindex","0"),!c.code)return o.hooks.run("complete",c),void(r&&r.call(c.element));if(o.hooks.run("before-highlight",c),c.grammar)if(n&&e.Worker){var s=new Worker(o.filename);s.onmessage=function(e){l(e.data)},s.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else l(o.highlight(c.code,c.grammar,c.language));else l(o.util.encode(c.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(o.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=o.tokenize(r.code,r.grammar),o.hooks.run("after-tokenize",r),i.stringify(o.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var o=new c;return l(o,o.head,e),a(e,o,t,o.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(o)},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:i};function i(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function u(e,t,n,r){e.lastIndex=t;var o=e.exec(n);if(o&&r&&o[1]){var i=o[1].length;o.index+=i,o[0]=o[0].slice(i)}return o}function a(e,t,n,r,c,f){for(var d in n)if(n.hasOwnProperty(d)&&n[d]){var m=n[d];m=Array.isArray(m)?m:[m];for(var g=0;g<m.length;++g){if(f&&f.cause==d+","+g)return;var p=m[g],h=p.inside,v=!!p.lookbehind,b=!!p.greedy,y=p.alias;if(b&&!p.pattern.global){var w=p.pattern.toString().match(/[imsuy]*$/)[0];p.pattern=RegExp(p.pattern.source,w+"g")}for(var x=p.pattern||p,S=r.next,C=c;S!==t.tail&&!(f&&C>=f.reach);C+=S.value.length,S=S.next){var T=S.value;if(t.length>e.length)return;if(!(T instanceof i)){var k,O=1;if(b){if(!(k=u(x,C,e,v))||k.index>=e.length)break;var A=k.index,R=k.index+k[0].length,P=C;for(P+=S.value.length;A>=P;)P+=(S=S.next).value.length;if(C=P-=S.value.length,S.value instanceof i)continue;for(var D=S;D!==t.tail&&(P<R||"string"==typeof D.value);D=D.next)O++,P+=D.value.length;O--,T=e.slice(C,P),k.index-=C}else if(!(k=u(x,0,T,v)))continue;A=k.index;var _=k[0],E=T.slice(0,A),N=T.slice(A+_.length),F=C+T.length;f&&F>f.reach&&(f.reach=F);var B=S.prev;if(E&&(B=l(t,B,E),C+=E.length),s(t,B,O),S=l(t,B,new i(d,h?o.tokenize(_,h):_,y,_)),N&&l(t,S,N),O>1){var M={cause:d+","+g,reach:F};a(e,t,n,S.prev,C,M),f&&M.reach>f.reach&&(f.reach=M.reach)}}}}}}function c(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function l(e,t,n){var r=t.next,o={value:n,prev:t,next:r};return t.next=o,r.prev=o,e.length++,o}function s(e,t,n){for(var r=t.next,o=0;o<n&&r!==e.tail;o++)r=r.next;t.next=r,r.prev=t,e.length-=o}if(e.Prism=o,i.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var i={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},u=t.alias;u&&(Array.isArray(u)?Array.prototype.push.apply(i.classes,u):i.classes.push(u)),o.hooks.run("wrap",i);var a="";for(var c in i.attributes)a+=" "+c+'="'+(i.attributes[c]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+a+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(o.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,i=n.code,u=n.immediateClose;e.postMessage(o.highlight(i,o.languages[r],r)),u&&e.close()}),!1),o):o;var f=o.util.currentScript();function d(){o.manual||o.highlightAll()}if(f&&(o.filename=f.src,f.hasAttribute("data-manual")&&(o.manual=!0)),!o.manual){var m=document.readyState;"loading"===m||"interactive"===m&&f&&f.defer?document.addEventListener("DOMContentLoaded",d):window.requestAnimationFrame?window.requestAnimationFrame(d):window.setTimeout(d,16)}return o}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});t.exports&&(t.exports=n),void 0!==e&&(e.Prism=n)}(t),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,o,i){if(n.language===r){var u=n.tokenStack=[];n.code=n.code.replace(o,(function(e){if("function"==typeof i&&!i(e))return e;for(var o,a=u.length;-1!==n.code.indexOf(o=t(r,a));)++a;return u[a]=e,o})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,r){if(n.language===r&&n.tokenStack){n.grammar=e.languages[r];var o=0,i=Object.keys(n.tokenStack);!function u(a){for(var c=0;c<a.length&&!(o>=i.length);c++){var l=a[c];if("string"==typeof l||l.content&&"string"==typeof l.content){var s=i[o],f=n.tokenStack[s],d="string"==typeof l?l:l.content,m=t(r,s),g=d.indexOf(m);if(g>-1){++o;var p=d.substring(0,g),h=new e.Token(r,e.tokenize(f,n.grammar),"language-"+r,f),v=d.substring(g+m.length),b=[];p&&b.push.apply(b,u([p])),b.push(h),v&&b.push.apply(b,u([v])),"string"==typeof l?a.splice.apply(a,[c,1].concat(b)):l.content=b}}else l.content&&u(l.content)}return a}(n.tokens)}}}})}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(Prism),function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,(function(e,n){return"(?:"+t[+n]+")"}))}function n(e,n,r){return RegExp(t(e,n),r||"")}function r(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,(function(){return"(?:"+e+")"}));return e.replace(/<<self>>/g,"[^\\s\\S]")}var o="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",i="class enum interface record struct",u="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",a="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function c(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var l=c(i),s=RegExp(c(o+" "+i+" "+u+" "+a)),f=c(i+" "+u+" "+a),d=c(o+" "+i+" "+a),m=r(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),g=r(/\((?:[^()]|<<self>>)*\)/.source,2),p=/@?\b[A-Za-z_]\w*\b/.source,h=t(/<<0>>(?:\s*<<1>>)?/.source,[p,m]),v=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[f,h]),b=/\[\s*(?:,\s*)*\]/.source,y=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[v,b]),w=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[m,g,b]),x=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[w]),S=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,v,b]),C={keyword:s,punctuation:/[<>()?,.:[\]]/},T=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,k=/"(?:\\.|[^\\"\r\n])*"/.source,O=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[O]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[k]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[v]),lookbehind:!0,inside:C},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[p,S]),lookbehind:!0,inside:C},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[p]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[l,h]),lookbehind:!0,inside:C},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[v]),lookbehind:!0,inside:C},{pattern:n(/(\bwhere\s+)<<0>>/.source,[p]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[y]),lookbehind:!0,inside:C},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[S,d,p]),inside:C}],keyword:s,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[p]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[p]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[g]),lookbehind:!0,alias:"class-name",inside:C},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[S,v]),inside:C,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[S]),lookbehind:!0,inside:C,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[p,m]),inside:{function:n(/^<<0>>/.source,[p]),generic:{pattern:RegExp(m),alias:"class-name",inside:C}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[l,h,p,S,s.source,g,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[h,g]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:s,"class-name":{pattern:RegExp(S),greedy:!0,inside:C},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var A=k+"|"+T,R=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[A]),P=r(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[R]),2),D=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,_=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[v,P]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[D,_]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[D]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[P]),inside:e.languages.csharp},"class-name":{pattern:RegExp(v),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var E=/:[^}\r\n]+/.source,N=r(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[R]),2),F=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[N,E]),B=r(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[A]),2),M=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[B,E]);function I(t,r){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[r,E]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[F]),lookbehind:!0,greedy:!0,inside:I(F,N)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[M]),lookbehind:!0,greedy:!0,inside:I(M,B)}],char:{pattern:RegExp(T),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(Prism),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(Prism),function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],r=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,o=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,i=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:r,operator:o,punctuation:i};var u={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},a=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:u}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:u}}];e.languages.insertBefore("php","variable",{string:a,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:a,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:r,operator:o,punctuation:i}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",(function(t){if(/<\?/.test(t.code)){e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")}))}(Prism),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",r=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+r),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+r+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(Prism),{boltExport:t.exports}}));var i=window.Prism;window.Prism=o}(void 0,v,b);var w=b.exports.boltExport,x=function(e){return h.Prism&&function(e){return e.getParam("codesample_global_prismjs",!1,"boolean")}(e)?h.Prism:w},S=function(e){var t,n,r=e.selection?e.selection.getNode():null;return t=g(r),n=r,t?f.some(n):f.none()},C=function(e){var t=function(e){var t=function(e){return e.getParam("codesample_languages")}(e);return t||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]}(e),n=d(t).fold(o(""),(function(e){return e.value})),r=function(e,t){return S(e).fold((function(){return t}),(function(e){var n=e.className.match(/language-(\w+)/);return n?n[1]:t}))}(e,n),i=function(e){return S(e).fold(o(""),(function(e){return e.textContent}))}(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:r,code:i},onSubmit:function(t){var n=t.getData();!function(e,t,n){e.undoManager.transact((function(){var r=S(e);return n=m.DOM.encode(n),r.fold((function(){e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>"),e.selection.select(e.$("#__new").removeAttr("id")[0])}),(function(r){e.dom.setAttrib(r,"class","language-"+t),r.innerHTML=n,x(e).highlightElement(r),e.selection.select(r)}))}))}(e,n.language,n.code),t.close()}})};n.add("codesample",(function(e){!function(e){var t=e.$;e.on("PreProcess",(function(e){t("pre[contenteditable=false]",e.node).filter(p(g)).each((function(e,n){var r=t(n),o=n.textContent;r.attr("class",t.trim(r.attr("class"))),r.removeAttr("contentEditable"),r.empty().append(t("<code></code>").each((function(){this.textContent=o})))}))})),e.on("SetContent",(function(){var n=t("pre").filter(p(g)).filter((function(e,t){return"false"!==t.contentEditable}));n.length&&e.undoManager.transact((function(){n.each((function(n,r){t(r).find("br").each((function(t,n){n.parentNode.replaceChild(e.getDoc().createTextNode("\n"),n)})),r.contentEditable="false",r.innerHTML=e.dom.encode(r.textContent),x(e).highlightElement(r),r.className=t.trim(r.className)}))}))}))}(e),function(e){var t=function(){return e.execCommand("codesample")};e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:t,onSetup:function(t){var n=function(){t.setActive(function(e){var t=e.selection.getStart();return e.dom.is(t,'pre[class*="language-"]')}(e))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:t})}(e),function(e){e.addCommand("codesample",(function(){var t=e.selection.getNode();e.selection.isCollapsed()||g(t)?C(e):e.formatter.toggle("code")}))}(e),e.on("dblclick",(function(t){g(t.target)&&C(e)}))}))}()},63403:function(){!function(){"use strict";function e(e){return function(){return e}}function t(e){return e}function n(){return u}var r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=e(!1),i=e(!0),u={fold:function(e,t){return e()},isSome:o,isNone:i,getOr:t,getOrThunk:a,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:e(null),getOrUndefined:e(void 0),or:t,orThunk:a,map:n,each:function(){},bind:n,exists:o,forall:i,filter:function(){return u},toArray:function(){return[]},toString:e("none()")};function a(e){return e()}function c(e){return e&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-")}function l(e){return function(t,n){return e(n)}}var s=function(t){function n(){return c}function r(e){return e(t)}var a=e(t),c={fold:function(e,n){return n(t)},isSome:i,isNone:o,getOr:a,getOrThunk:a,getOrDie:a,getOrNull:a,getOrUndefined:a,or:n,orThunk:n,map:function(e){return s(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?c:u},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return c},f={some:s,none:n,from:function(e){return null==e?u:s(e)}},d=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),m="undefined"!=typeof window?window:Function("return this;")(),g={},p={exports:g},h={};function v(e){return m.Prism&&e.getParam("codesample_global_prismjs",!1,"boolean")?m.Prism:w}function b(e){var t=e.selection?e.selection.getNode():null;return c(t)?f.some(t):f.none()}function y(t){var n,r,o=t.getParam("codesample_languages")||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],i=(0<(r=o).length?f.some(r[0]):f.none()).fold(e(""),(function(e){return e.value})),u=(n=i,b(t).fold((function(){return n}),(function(e){var t=e.className.match(/language-(\w+)/);return t?t[1]:n}))),a=b(t).fold(e(""),(function(e){return e.textContent}));t.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:o},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:u,code:a},onSubmit:function(e){var n=e.getData(),r=t,o=n.language,i=n.code;r.undoManager.transact((function(){var e=b(r);return i=d.DOM.encode(i),e.fold((function(){r.insertContent('<pre id="__new" class="language-'+o+'">'+i+"</pre>"),r.selection.select(r.$("#__new").removeAttr("id")[0])}),(function(e){r.dom.setAttrib(e,"class","language-"+o),e.innerHTML=i,v(r).highlightElement(e),r.selection.select(e)}))})),e.close()}})}!function(e,t){var n,r,o=window.Prism;window.Prism={manual:!0},n=this,r=function(){var e,t,n,r,o,i,u,a,c,l,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:h,f={exports:{}};function d(e,t){return"___"+e.toUpperCase()+t+"___"}return e=f,t=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},o={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,i;switch(n=n||{},o.util.type(t)){case"Object":if(i=o.util.objId(t),n[i])return n[i];for(var u in r={},n[i]=r,t)t.hasOwnProperty(u)&&(r[u]=e(t[u],n));return r;case"Array":return i=o.util.objId(t),n[i]||(r=[],n[i]=r,t.forEach((function(t,o){r[o]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t.source,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t,n=document.getElementsByTagName("script");for(t in n)if(n[t].src==e)return n[t]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var o=e.classList;if(o.contains(t))return!0;if(o.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n,r=o.util.clone(o.languages[e]);for(n in t)r[n]=t[n];return r},insertBefore:function(e,t,n,r){var i,u=(r=r||o.languages)[e],a={};for(i in u)if(u.hasOwnProperty(i)){if(i==t)for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c]);n.hasOwnProperty(i)||(a[i]=u[i])}var l=r[e];return r[e]=a,o.languages.DFS(o.languages,(function(t,n){n===l&&t!=e&&(this[t]=a)})),a},DFS:function e(t,n,r,i){i=i||{};var u,a,c,l=o.util.objId;for(u in t)t.hasOwnProperty(u)&&(n.call(t,u,t[u],r||u),a=t[u],"Object"!==(c=o.util.type(a))||i[l(a)]?"Array"!==c||i[l(a)]||(i[l(a)]=!0,e(a,n,u,i)):(i[l(a)]=!0,e(a,n,null,i)))}},plugins:{},highlightAll:function(e,t){o.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),o.hooks.run("before-all-elements-highlight",r);for(var i,u=0;i=r.elements[u++];)o.highlightElement(i,!0===t,r.callback)},highlightElement:function(t,n,r){var i=o.util.getLanguage(t),u=o.languages[i];o.util.setLanguage(t,i);var a=t.parentElement;a&&"pre"===a.nodeName.toLowerCase()&&o.util.setLanguage(a,i);var c,l={element:t,language:i,grammar:u,code:t.textContent};function s(e){l.highlightedCode=e,o.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,o.hooks.run("after-highlight",l),o.hooks.run("complete",l),r&&r.call(l.element)}if(o.hooks.run("before-sanity-check",l),(a=l.element.parentElement)&&"pre"===a.nodeName.toLowerCase()&&!a.hasAttribute("tabindex")&&a.setAttribute("tabindex","0"),!l.code)return o.hooks.run("complete",l),void(r&&r.call(l.element));o.hooks.run("before-highlight",l),l.grammar?n&&e.Worker?((c=new Worker(o.filename)).onmessage=function(e){s(e.data)},c.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))):s(o.highlight(l.code,l.grammar,l.language)):s(o.util.encode(l.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(o.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=o.tokenize(r.code,r.grammar),o.hooks.run("after-tokenize",r),i.stringify(o.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var l=new a;return c(l,l.head,e),function e(t,n,r,a,l,s){for(var f in r)if(r.hasOwnProperty(f)&&r[f])for(var d=r[f],m=(d=Array.isArray(d)?d:[d],0);m<d.length;++m){if(s&&s.cause==f+","+m)return;var g,p=d[m],h=p.inside,v=!!p.lookbehind,b=!!p.greedy,y=p.alias;b&&!p.pattern.global&&(g=p.pattern.toString().match(/[imsuy]*$/)[0],p.pattern=RegExp(p.pattern.source,g+"g"));for(var w=p.pattern||p,x=a.next,S=l;x!==n.tail&&!(s&&S>=s.reach);S+=x.value.length,x=x.next){var C=x.value;if(n.length>t.length)return;if(!(C instanceof i)){var T,k=1;if(b){if(!(T=u(w,S,t,v))||T.index>=t.length)break;var O=T.index,A=T.index+T[0].length,R=S;for(R+=x.value.length;R<=O;)R+=(x=x.next).value.length;if(S=R-=x.value.length,x.value instanceof i)continue;for(var P=x;P!==n.tail&&(R<A||"string"==typeof P.value);P=P.next)k++,R+=P.value.length;k--,C=t.slice(S,R),T.index-=S}else if(!(T=u(w,0,C,v)))continue;O=T.index;var D=T[0],_=C.slice(0,O),E=C.slice(O+D.length),N=S+C.length;s&&N>s.reach&&(s.reach=N);var F=x.prev;_&&(F=c(n,F,_),S+=_.length),function(e,t,n){for(var r=t.next,o=0;o<n&&r!==e.tail;o++)r=r.next;(t.next=r).prev=t,e.length-=o}(n,F,k);var B;x=c(n,F,new i(f,h?o.tokenize(D,h):D,y,D));E&&c(n,x,E),1<k&&(e(t,n,r,x.prev,S,B={cause:f+","+m,reach:N}),s&&B.reach>s.reach&&(s.reach=B.reach))}}}}(e,l,t,l.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(l)},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:i};function i(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function u(e,t,n,r){e.lastIndex=t;var o,i=e.exec(n);return i&&r&&i[1]&&(o=i[1].length,i.index+=o,i[0]=i[0].slice(o)),i}function a(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var r=t.next,o={value:n,prev:t,next:r};return t.next=o,r.prev=o,e.length++,o}if(e.Prism=o,i.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var i={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},u=t.alias;u&&(Array.isArray(u)?Array.prototype.push.apply(i.classes,u):i.classes.push(u)),o.hooks.run("wrap",i);var a,c="";for(a in i.attributes)c+=" "+a+'="'+(i.attributes[a]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+c+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener&&(o.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,i=n.code,u=n.immediateClose;e.postMessage(o.highlight(i,o.languages[r],r)),u&&e.close()}),!1)),o;var l,s=o.util.currentScript();function f(){o.manual||o.highlightAll()}return s&&(o.filename=s.src,s.hasAttribute("data-manual")&&(o.manual=!0)),o.manual||("loading"===(l=document.readyState)||"interactive"===l&&s&&s.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)),o}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{}),e.exports&&(e.exports=t),void 0!==s&&(s.Prism=t),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n=Prism,Object.defineProperties(n.languages["markup-templating"]={},{buildPlaceholders:{value:function(e,t,r,o){var i;e.language===t&&(i=e.tokenStack=[],e.code=e.code.replace(r,(function(n){if("function"==typeof o&&!o(n))return n;for(var r,u=i.length;-1!==e.code.indexOf(r=d(t,u));)++u;return i[u]=n,r})),e.grammar=n.languages.markup)}},tokenizePlaceholders:{value:function(e,t){var r,o;e.language===t&&e.tokenStack&&(e.grammar=n.languages[t],r=0,o=Object.keys(e.tokenStack),function i(u){for(var a=0;a<u.length&&!(r>=o.length);a++){var c,l,s,f,m,g,p,h,v,b=u[a];"string"==typeof b||b.content&&"string"==typeof b.content?(c=o[r],l=e.tokenStack[c],s="string"==typeof b?b:b.content,f=d(t,c),-1<(m=s.indexOf(f))&&(++r,g=s.substring(0,m),p=new n.Token(t,n.tokenize(l,e.grammar),"language-"+t,l),h=s.substring(m+f.length),v=[],g&&v.push.apply(v,i([g])),v.push(p),h&&v.push.apply(v,i([h])),"string"==typeof b?u.splice.apply(u,[a,1].concat(v)):b.content=v)):b.content&&i(b.content)}return u}(e.tokens))}}}),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean,r=Prism,o=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,i=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return o.source})),r.languages.cpp=r.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return o.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:o,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),r.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return i}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),r.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:r.languages.cpp}}}}),r.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),r.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:r.languages.extend("cpp",{})}}),r.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},r.languages.cpp["base-clause"]),function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,(function(e,n){return"(?:"+t[+n]+")"}))}function n(e,n,r){return RegExp(t(e,n),r||"")}function r(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,(function(){return"(?:"+e+")"}));return e.replace(/<<self>>/g,"[^\\s\\S]")}var o="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",i="class enum interface record struct",u="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",a="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function c(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var l=c(i),s=RegExp(c(o+" "+i+" "+u+" "+a)),f=c(i+" "+u+" "+a),d=c(o+" "+i+" "+a),m=r(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),g=r(/\((?:[^()]|<<self>>)*\)/.source,2),p=/@?\b[A-Za-z_]\w*\b/.source,h=t(/<<0>>(?:\s*<<1>>)?/.source,[p,m]),v=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[f,h]),b=/\[\s*(?:,\s*)*\]/.source,y=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[v,b]),w=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[m,g,b]),x=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[w]),S=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,v,b]),C={keyword:s,punctuation:/[<>()?,.:[\]]/},T=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,k=/"(?:\\.|[^\\"\r\n])*"/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[k]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[v]),lookbehind:!0,inside:C},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[p,S]),lookbehind:!0,inside:C},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[p]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[l,h]),lookbehind:!0,inside:C},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[v]),lookbehind:!0,inside:C},{pattern:n(/(\bwhere\s+)<<0>>/.source,[p]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[y]),lookbehind:!0,inside:C},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[S,d,p]),inside:C}],keyword:s,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[p]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[p]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[g]),lookbehind:!0,alias:"class-name",inside:C},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[S,v]),inside:C,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[S]),lookbehind:!0,inside:C,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[p,m]),inside:{function:n(/^<<0>>/.source,[p]),generic:{pattern:RegExp(m),alias:"class-name",inside:C}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[l,h,p,S,s.source,g,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[h,g]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:s,"class-name":{pattern:RegExp(S),greedy:!0,inside:C},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var O=k+"|"+T,A=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[O]),R=r(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[A]),2),P=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,D=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[v,R]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[P,D]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[P]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[R]),inside:e.languages.csharp},"class-name":{pattern:RegExp(v),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var _=/:[^}\r\n]+/.source,E=r(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[A]),2),N=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[E,_]),F=r(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[O]),2),B=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[F,_]);function M(t,r){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[r,_]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[N]),lookbehind:!0,greedy:!0,inside:M(N,E)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[B]),lookbehind:!0,greedy:!0,inside:M(B,F)}],char:{pattern:RegExp(T),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(Prism),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(Prism),u=Prism,a=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,c=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,l={pattern:RegExp(/(^|[^\w.])/.source+c+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}},u.languages.java=u.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[l,{pattern:RegExp(/(^|[^\w.])/.source+c+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:l.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+c+/[A-Z]\w*\b/.source),lookbehind:!0,inside:l.inside}],keyword:a,function:[u.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),u.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),u.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":l,keyword:a,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+c+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:l.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+c+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:l.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return a.source}))),lookbehind:!0,inside:{punctuation:/\./}}}),Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],r=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,o=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,i=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:r,operator:o,punctuation:i};var u={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},a=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:u}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:u}}];e.languages.insertBefore("php","variable",{string:a,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:a,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:r,operator:o,punctuation:i}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",(function(t){/<\?/.test(t.code)&&e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")}))}(Prism),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",r=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+r),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+r+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(Prism),{boltExport:f.exports}},"object"==typeof e&&void 0!==t?t.exports=r():(n="undefined"!=typeof globalThis?globalThis:n||self).EphoxContactWrapper=r(),window.Prism,window.Prism=o}(g,p);var w=p.exports.boltExport;r.add("codesample",(function(e){var t,n,r,o;function i(){return o.execCommand("codesample")}n=(t=e).$,t.on("PreProcess",(function(e){n("pre[contenteditable=false]",e.node).filter(l(c)).each((function(e,t){var r=n(t),o=t.textContent;r.attr("class",n.trim(r.attr("class"))),r.removeAttr("contentEditable"),r.empty().append(n("<code></code>").each((function(){this.textContent=o})))}))})),t.on("SetContent",(function(){var e=n("pre").filter(l(c)).filter((function(e,t){return"false"!==t.contentEditable}));e.length&&t.undoManager.transact((function(){e.each((function(e,r){n(r).find("br").each((function(e,n){n.parentNode.replaceChild(t.getDoc().createTextNode("\n"),n)})),r.contentEditable="false",r.innerHTML=t.dom.encode(r.textContent),v(t).highlightElement(r),r.className=n.trim(r.className)}))}))})),(o=e).ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:i,onSetup:function(e){function t(){var t,n;e.setActive((n=(t=o).selection.getStart(),t.dom.is(n,'pre[class*="language-"]')))}return o.on("NodeChange",t),function(){return o.off("NodeChange",t)}}}),o.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:i}),(r=e).addCommand("codesample",(function(){var e=r.selection.getNode();r.selection.isCollapsed()||c(e)?y(r):r.formatter.toggle("code")})),e.on("dblclick",(function(t){c(t.target)&&y(e)}))}))}()},1080:function(e,t,n){n(94844)},94844:function(){!function(){"use strict";var e=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return{isFullscreen:function(){return null!==e.get()}}},r=function(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}},o=function(e){return function(t){return typeof t===e}},i=r("string"),u=r("array"),a=o("boolean"),c=function(e){return!function(e){return null==e}(e)},l=o("function"),s=o("number"),f=function(){},d=function(e){return function(){return e}},m=function(e){return e};function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var p,h,v=d(!1),b=d(!0),y=function(){return w},w={fold:function(e,t){return e()},isSome:v,isNone:b,getOr:h=m,getOrThunk:p=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:h,orThunk:p,map:y,each:f,bind:y,exists:v,forall:b,filter:function(){return y()},toArray:function(){return[]},toString:d("none()")},x=function(e){var t=d(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:b,isNone:v,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return x(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:w},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},S={some:x,none:y,from:function(e){return null==e?w:x(e)}},C=function(){return C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},C.apply(this,arguments)},T=function(t){var n=e(S.none()),r=function(){return n.get().each(t)};return{clear:function(){r(),n.set(S.none())},isSet:function(){return n.get().isSome()},get:function(){return n.get()},set:function(e){r(),n.set(S.some(e))}}},k=function(){return T((function(e){return e.unbind()}))},O=Array.prototype.push,A=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},R=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},P=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},D=function(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return S.some(i);if(n(i,r))break}return S.none()}(e,t,v)},_=function(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!u(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);O.apply(t,e[n])}return t}(A(e,t))},E=function(e){return function(e,t){return t>=0&&t<e.length?S.some(e[t]):S.none()}(e,0)},N=Object.keys,F=function(e,t){return-1!==e.indexOf(t)},B=function(e){return void 0!==e.style&&l(e.style.getPropertyValue)},M=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},I={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return M(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return M(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return M(n)},fromDom:M,fromPoint:function(e,t,n){return S.from(e.dom.elementFromPoint(t,n)).map(M)}};"undefined"!=typeof window?window:Function("return this;")();var L=function(e){return function(t){return function(e){return e.dom.nodeType}(t)===e}},j=L(1),z=L(3),$=L(9),W=L(11),H=function(){return q(0,0)},q=function(e,t){return{major:e,minor:t}},U={nu:q,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?H():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return q(r(1),r(2))}(e,n)},unknown:H},V=function(e,t){return function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return S.none()}(t.brands,(function(t){var n=t.brand.toLowerCase();return D(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:U.nu(parseInt(t.version,10),0)}}))}))},K=function(e,t){var n=String(t).toLowerCase();return D(e,(function(e){return e.search(n)}))},Z=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,X=function(e){return function(t){return F(t,e)}},G=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return F(e,"edge/")&&F(e,"chrome")&&F(e,"safari")&&F(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Z],search:function(e){return F(e,"chrome")&&!F(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return F(e,"msie")||F(e,"trident")}},{name:"Opera",versionRegexes:[Z,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:X("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:X("firefox")},{name:"Safari",versionRegexes:[Z,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(F(e,"safari")||F(e,"mobile/"))&&F(e,"applewebkit")}}],Y=[{name:"Windows",search:X("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return F(e,"iphone")||F(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:X("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:X("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:X("linux"),versionRegexes:[]},{name:"Solaris",search:X("sunos"),versionRegexes:[]},{name:"FreeBSD",search:X("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:X("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Q={browsers:d(G),oses:d(Y)},J="Edge",ee="Chrome",te="Opera",ne="Firefox",re="Safari",oe=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(J),isChrome:r(ee),isIE:r("IE"),isOpera:r(te),isFirefox:r(ne),isSafari:r(re)}},ie={unknown:function(){return oe({current:void 0,version:U.unknown()})},nu:oe,edge:d(J),chrome:d(ee),ie:d("IE"),opera:d(te),firefox:d(ne),safari:d(re)},ue="Windows",ae="Android",ce="Linux",le="Solaris",se="FreeBSD",fe="ChromeOS",de=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(ue),isiOS:r("iOS"),isAndroid:r(ae),isOSX:r("OSX"),isLinux:r(ce),isSolaris:r(le),isFreeBSD:r(se),isChromeOS:r(fe)}},me={unknown:function(){return de({current:void 0,version:U.unknown()})},nu:de,windows:d(ue),ios:d("iOS"),android:d(ae),linux:d(ce),osx:d("OSX"),solaris:d(le),freebsd:d(se),chromeos:d(fe)},ge=function(e,t,n){var r=Q.browsers(),o=Q.oses(),i=t.bind((function(e){return V(r,e)})).orThunk((function(){return function(e,t){return K(e,t).map((function(e){var n=U.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(r,e)})).fold(ie.unknown,ie.nu),u=function(e,t){return K(e,t).map((function(e){var n=U.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(o,e).fold(me.unknown,me.nu),a=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,u=e.isiOS()||e.isAndroid(),a=u||r("(pointer:coarse)"),c=o||!i&&u&&r("(min-device-width:768px)"),l=i||u&&!c,s=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!l&&!c&&!s;return{isiPad:d(o),isiPhone:d(i),isTablet:d(c),isPhone:d(l),isTouch:d(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:d(s),isDesktop:d(f)}}(u,i,e,n);return{browser:i,os:u,deviceType:a}},pe=function(e){return window.matchMedia(e).matches},he=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}((function(){return ge(navigator.userAgent,S.from(navigator.userAgentData),pe)})),ve=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},be=function(e){return I.fromDom(e.dom.ownerDocument)},ye=function(e){return function(e){return S.from(e.dom.parentNode).map(I.fromDom)}(e).map(we).map((function(t){return P(t,(function(t){return n=t,!(e.dom===n.dom);var n}))})).getOr([])},we=function(e){return A(e.dom.childNodes,I.fromDom)},xe=l(Element.prototype.attachShadow)&&l(Node.prototype.getRootNode),Se=d(xe),Ce=xe?function(e){return I.fromDom(e.dom.getRootNode())}:function(e){return $(e)?e:be(e)},Te=function(e){var t,n=Ce(e);return W(t=n)&&c(t.dom.host)?S.some(n):S.none()},ke=function(e){return I.fromDom(e.dom.host)},Oe=function(e){return c(e.dom.shadowRoot)},Ae=function(e){var t=z(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return Te(I.fromDom(t)).fold((function(){return o.body.contains(t)}),(n=Ae,r=ke,function(e){return n(r(e))}))},Re=function(e,t,n){!function(e,t,n){if(!(i(n)||a(n)||s(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)},Pe=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},De=function(e,t){e.dom.removeAttribute(t)},_e=function(e,t){var n=e.dom;!function(e,t){for(var n=N(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}(t,(function(e,t){!function(e,t,n){if(!i(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);B(e)&&e.style.setProperty(t,n)}(n,t,e)}))},Ee=function(e,t){return B(e)?e.style.getPropertyValue(t):""},Ne=function(e){var t,n,r=I.fromDom(function(e){if(Se()&&c(e.target)){var t=I.fromDom(e.target);if(j(t)&&Oe(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return E(n)}}return S.from(e.target)}(e).getOr(e.target)),o=function(){return e.stopPropagation()},i=function(){return e.preventDefault()},u=(t=i,n=o,function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t(n.apply(null,e))});return function(e,t,n,r,o,i,u){return{target:e,x:t,y:n,stop:r,prevent:o,kill:i,raw:u}}(r,e.clientX,e.clientY,o,i,u,e)},Fe=function(e,t,n,r,o){var i=function(e,t){return function(n){e(n)&&t(Ne(n))}}(n,r);return e.dom.addEventListener(t,i,o),{unbind:g(Be,e,t,i,o)}},Be=function(e,t,n,r){e.dom.removeEventListener(t,n,r)},Me=b,Ie=function(e,t,n){return function(e,t,n,r){return Fe(e,t,n,r,!1)}(e,t,Me,n)},Le=function(e,t){return{left:e,top:t,translate:function(n,r){return Le(e+n,t+r)}}},je=Le,ze=function(e){var t=void 0===e?window:e;return he().browser.isFirefox()?S.none():S.from(t.visualViewport)},$e=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},We=function(e){var t=void 0===e?window:e,n=t.document,r=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return je(n,r)}(I.fromDom(n));return ze(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,o=e.clientHeight;return $e(r.left,r.top,n,o)}),(function(e){return $e(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))},He=function(e,t,n){return ze(n).map((function(n){var r=function(e){return t(Ne(e))};return n.addEventListener(e,r),{unbind:function(){return n.removeEventListener(e,r)}}})).getOrThunk((function(){return{unbind:f}}))},qe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ue=tinymce.util.Tools.resolve("tinymce.Env"),Ve=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ke=function(e,t){e.fire("FullscreenStateChanged",{state:t}),e.fire("ResizeEditor")},Ze=function(e){return e.getParam("fullscreen_native",!1,"boolean")},Xe=function(e){var t=I.fromDom(e.getElement());return Te(t).map(ke).getOrThunk((function(){return function(e){var t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return I.fromDom(t)}(be(t))}))},Ge=function(e){return e.dom===(void 0!==(t=be(e).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t},Ye=function(e,t,n){return P(function(e,t){for(var n=l(t)?t:v,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,u=I.fromDom(i);if(o.push(u),!0===n(u))break;r=i}return o}(e,n),t)},Qe=function(e){return function(e,t){var n,r=void 0===t?document:t.dom;return 1!==(n=r).nodeType&&9!==n.nodeType&&11!==n.nodeType||0===n.childElementCount?[]:A(r.querySelectorAll(e),I.fromDom)}(e)},Je=function(e,t,n){return Ye(e,(function(e){return ve(e,t)}),n)},et=function(e,t){return function(e,t){return P(ye(e),t)}(e,(function(e){return ve(e,t)}))},tt="data-ephox-mobile-fullscreen-style",nt="position:absolute!important;",rt="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",ot=Ue.os.isAndroid(),it=function(e){var t=function(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||Ae(e)?r:Ee(n,t)}(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"},ut=qe.DOM,at=ze().fold((function(){return{bind:f,unbind:f}}),(function(e){var t,n=(t=T(f),C(C({},t),{on:function(e){return t.get().each(e)}})),r=k(),o=k(),i=Ve.throttle((function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame((function(){n.on((function(t){return _e(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})}))}))}),50);return{bind:function(e){n.set(e),i(),r.set(He("resize",i)),o.set(He("scroll",i))},unbind:function(){n.on((function(){r.clear(),o.clear()})),n.clear()}}})),ct=function(e,t){var n,r,o,i,u=document.body,a=document.documentElement,c=e.getContainer(),l=I.fromDom(c),s=Xe(e),f=t.get(),d=I.fromDom(e.getBody()),m=Ue.deviceType.isTouch(),g=c.style,p=e.iframeElement.style,h=function(e){e(u,"tox-fullscreen"),e(a,"tox-fullscreen"),e(c,"tox-fullscreen"),Te(l).map((function(e){return ke(e).dom})).each((function(t){e(t,"tox-fullscreen"),e(t,"tox-shadowhost")}))},v=function(){var n,r;m&&(n=e.dom,r=Qe("["+tt+"]"),R(r,(function(e){var t=Pe(e,tt);"no-styles"!==t?_e(e,n.parseStyle(t)):De(e,"style"),De(e,tt)}))),h(ut.removeClass),at.unbind(),S.from(t.get()).each((function(e){return e.fullscreenChangeHandler.unbind()}))};if(f)f.fullscreenChangeHandler.unbind(),Ze(e)&&Ge(s)&&(r=be(s),(o=r.dom).exitFullscreen?o.exitFullscreen():o.msExitFullscreen?o.msExitFullscreen():o.webkitCancelFullScreen&&o.webkitCancelFullScreen()),p.width=f.iframeWidth,p.height=f.iframeHeight,g.width=f.containerWidth,g.height=f.containerHeight,g.top=f.containerTop,g.left=f.containerLeft,v(),n=f.scrollPos,window.scrollTo(n.x,n.y),t.set(null),Ke(e,!1),e.off("remove",v);else{var b=Ie(be(s),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",(function(n){Ze(e)&&(Ge(s)||null===t.get()||ct(e,t))})),y={scrollPos:We(window),containerWidth:g.width,containerHeight:g.height,containerTop:g.top,containerLeft:g.left,iframeWidth:p.width,iframeHeight:p.height,fullscreenChangeHandler:b};m&&function(e,t,n){var r=function(t){return function(n){var r=Pe(n,"style"),o=void 0===r?"no-styles":r.trim();o!==t&&(Re(n,tt,o),_e(n,e.parseStyle(t)))}},o=Je(t,"*"),i=_(o,(function(e){return et(e,"*:not(.tox-silver-sink)")})),u=it(n);R(i,r("display:none!important;")),R(o,r(nt+rt+u)),r((!0===ot?"":nt)+rt+u)(t)}(e.dom,l,d),p.width=p.height="100%",g.width=g.height="",h(ut.addClass),at.bind(l),e.on("remove",v),t.set(y),Ze(e)&&((i=s.dom).requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.webkitRequestFullScreen&&i.webkitRequestFullScreen()),Ke(e,!0)}},lt=function(e,t){return function(n){n.setActive(null!==t.get());var r=function(e){return n.setActive(e.state)};return e.on("FullscreenStateChanged",r),function(){return e.off("FullscreenStateChanged",r)}}};t.add("fullscreen",(function(t){var r=e(null);return t.inline||(function(e,t){e.addCommand("mceFullScreen",(function(){ct(e,t)}))}(t,r),function(e,t){var n=function(){return e.execCommand("mceFullScreen")};e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:lt(e,t)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:lt(e,t)})}(t,r),t.addShortcut("Meta+Shift+F","","mceFullScreen")),n(r)}))}()},42117:function(){!function(){"use strict";function e(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}function t(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"==r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}}function n(e){return function(t){return typeof t===e}}function r(e){return!(null==e)}function o(){}function i(e){return function(){return e}}function u(e){return e}var a=tinymce.util.Tools.resolve("tinymce.PluginManager"),c=t("string"),l=t("array"),s=n("boolean"),f=n("function"),d=n("number");function m(){return h}var g=i(!1),p=i(!0),h={fold:function(e,t){return e()},isSome:g,isNone:p,getOr:u,getOrThunk:v,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:u,orThunk:v,map:m,each:o,bind:m,exists:g,forall:p,filter:function(){return h},toArray:function(){return[]},toString:i("none()")};function v(e){return e()}function b(t){function n(){return r.get().each(t)}var r=e(R.none());return{clear:function(){n(),r.set(R.none())},isSet:function(){return r.get().isSome()},get:function(){return r.get()},set:function(e){n(),r.set(R.some(e))}}}function y(){return b((function(e){return e.unbind()}))}function w(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}function x(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function S(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}function C(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return R.some(i);if(n(i,r))break}return R.none()}(e,t,g)}function T(e,t){return-1!==e.indexOf(t)}function k(e){return void 0!==e.style&&f(e.style.getPropertyValue)}function O(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}}var A=function(e){function t(){return o}function n(t){return t(e)}var r=i(e),o={fold:function(t,n){return n(e)},isSome:p,isNone:g,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:t,orThunk:t,map:function(t){return A(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?o:h},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},R={some:A,none:m,from:function(e){return null==e?h:A(e)}},P=function(){return(P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},D=Array.prototype.push,_=Object.keys,E={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return O(n.childNodes[0])},fromTag:function(e,t){return O((t||document).createElement(e))},fromText:function(e,t){return O((t||document).createTextNode(e))},fromDom:O,fromPoint:function(e,t,n){return R.from(e.dom.elementFromPoint(t,n)).map(O)}};function N(e){return function(t){return t.dom.nodeType===e}}function F(e,t){var n=String(t).toLowerCase();return C(e,(function(e){return e.search(n)}))}function B(e){return function(t){return T(t,e)}}function M(e){return window.matchMedia(e).matches}function I(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}function L(e){return E.fromDom(e.dom.ownerDocument)}function j(e){var t,n=Re(e);return le(t=n)&&r(t.dom.host)?R.some(n):R.none()}function z(e){return E.fromDom(e.dom.host)}function $(e,t,n){!function(e,t,n){if(!(c(n)||s(n)||d(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)}function W(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n}function H(e,t){e.dom.removeAttribute(t)}function q(e,t){var n=e.dom;!function(e){for(var t,r=_(e),o=0,i=r.length;o<i;o++){var u=r[o];t=e[u],function(e,t,n){if(!c(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);k(e)&&e.style.setProperty(t,n)}(n,u,t)}}(t)}function U(e){function t(){return e.stopPropagation()}function n(){return e.preventDefault()}var o,i,u=E.fromDom(function(e){if(Ae()&&r(e.target)){var t=E.fromDom(e.target);if(ue(t)&&Pe(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return 0<(o=n).length?R.some(o[0]):R.none()}}var o;return R.from(e.target)}(e).getOr(e.target)),a=(o=n,i=t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(i.apply(null,e))});return{target:u,x:e.clientX,y:e.clientY,stop:t,prevent:n,kill:a,raw:e}}function V(e){var t=void 0===e?window:e;return Te().browser.isFirefox()?R.none():R.from(t.visualViewport)}function K(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}}function Z(e,t,n){return V(n).map((function(n){function r(e){return t(U(e))}return n.addEventListener(e,r),{unbind:function(){return n.removeEventListener(e,r)}}})).getOrThunk((function(){return{unbind:o}}))}function X(e,t){e.fire("FullscreenStateChanged",{state:t}),e.fire("ResizeEditor")}function G(e){return e.getParam("fullscreen_native",!1,"boolean")}function Y(e){return e.dom===(void 0!==(t=L(e).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t}function Q(e,t,n){function r(t){return function(n){var r=W(n,"style"),o=void 0===r?"no-styles":r.trim();o===t||($(n,je,o),q(n,e.parseStyle(t)))}}var o,i,u,a,c,s,d=(s=function(e){return I(e,"*")},S(function(e,t){for(var n=f(t)?t:g,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,u=E.fromDom(i);if(o.push(u),!0===n(u))break;r=i}return o}(t,void 0),s)),m=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);D.apply(t,e[n])}return t}(w(d,(function(e){return function(e,t){return r=function(e){return I(e,t)},S((n=e,R.from(n.dom.parentNode).map(E.fromDom).map(ke).map((function(e){return S(e,(function(e){return n.dom!==e.dom}))})).getOr([])),r);var n,r}(e,"*:not(.tox-silver-sink)")}))),p=(i="background-color",u=(o=n).dom,void 0!==(c=""!==(a=window.getComputedStyle(u).getPropertyValue(i))||De(o)?a:_e(u,i))&&""!==c?"background-color:"+c+"!important":"background-color:rgb(255,255,255)!important;");x(m,r("display:none!important;")),x(d,r(ze+$e+p)),r((!0===We?"":ze)+$e+p)(t)}function J(e,t){return function(n){function r(e){return n.setActive(e.state)}return n.setActive(null!==t.get()),e.on("FullscreenStateChanged",r),function(){return e.off("FullscreenStateChanged",r)}}}function ee(){return se(0,0)}function te(e){function t(e){return function(){return n===e}}var n=e.current,r=e.version;return{current:n,version:r,isEdge:t("Edge"),isChrome:t("Chrome"),isIE:t("IE"),isOpera:t("Opera"),isFirefox:t(ge),isSafari:t("Safari")}}function ne(e){function t(e){return function(){return n===e}}var n=e.current,r=e.version;return{current:n,version:r,isWindows:t(ve),isiOS:t("iOS"),isAndroid:t(be),isOSX:t("OSX"),isLinux:t("Linux"),isSolaris:t(ye),isFreeBSD:t(we),isChromeOS:t(xe)}}"undefined"!=typeof window||Function("return this;")();var re,oe,ie,ue=N(1),ae=N(3),ce=N(9),le=N(11),se=function(e,t){return{major:e,minor:t}},fe={nu:se,detect:function(e,t){var n,r,o=String(t).toLowerCase();return 0===e.length?ee():(r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,n=o))?se(i(1),i(2)):{major:0,minor:0};function i(e){return Number(n.replace(r,"$"+e))}},unknown:ee},de=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,me={browsers:i([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return T(e,"edge/")&&T(e,"chrome")&&T(e,"safari")&&T(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,de],search:function(e){return T(e,"chrome")&&!T(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return T(e,"msie")||T(e,"trident")}},{name:"Opera",versionRegexes:[de,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:B("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:B("firefox")},{name:"Safari",versionRegexes:[de,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(T(e,"safari")||T(e,"mobile/"))&&T(e,"applewebkit")}}]),oses:i([{name:"Windows",search:B("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return T(e,"iphone")||T(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:B("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:B("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:B("linux"),versionRegexes:[]},{name:"Solaris",search:B("sunos"),versionRegexes:[]},{name:"FreeBSD",search:B("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:B("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},ge="Firefox",pe=function(){return te({current:void 0,version:fe.unknown()})},he=te,ve=(i("Edge"),i("Chrome"),i("IE"),i("Opera"),i(ge),i("Safari"),"Windows"),be="Android",ye="Solaris",we="FreeBSD",xe="ChromeOS",Se=function(){return ne({current:void 0,version:fe.unknown()})},Ce=ne,Te=(i(ve),i("iOS"),i(be),i("Linux"),i("OSX"),i(ye),i(we),i(xe),ie=!(re=function(){return e=navigator.userAgent,t=R.from(navigator.userAgentData),n=M,h=me.browsers(),v=me.oses(),b=t.bind((function(e){return function(e,t){return function(t){for(var n=0;n<t.length;n++){var r=function(t){var n=t.brand.toLowerCase();return C(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:fe.nu(parseInt(t.version,10),0)}}))}(t[n]);if(r.isSome())return r}return R.none()}(t.brands)}(h,e)})).orThunk((function(){return F(h,t=e).map((function(e){var n=fe.detect(e.versionRegexes,t);return{current:e.name,version:n}}));var t})).fold(pe,he),y=F(v,r=e).map((function(e){var t=fe.detect(e.versionRegexes,r);return{current:e.name,version:t}})).fold(Se,Ce),{browser:b,os:y,deviceType:(u=b,a=e,c=n,l=(o=y).isiOS()&&!0===/ipad/i.test(a),s=o.isiOS()&&!l,d=(f=o.isiOS()||o.isAndroid())||c("(pointer:coarse)"),m=l||!s&&f&&c("(min-device-width:768px)"),g=s||f&&!m,p=u.isSafari()&&o.isiOS()&&!1===/safari/i.test(a),{isiPad:i(l),isiPhone:i(s),isTablet:i(m),isPhone:i(g),isTouch:i(d),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:i(p),isDesktop:i(!g&&!m&&!p)})};var e,t,n,r,o,u,a,c,l,s,f,d,m,g,p,h,v,b,y}),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ie||(ie=!0,oe=re.apply(null,e)),oe}),ke=function(e){return w(e.dom.childNodes,E.fromDom)},Oe=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode),Ae=i(Oe),Re=Oe?function(e){return E.fromDom(e.dom.getRootNode())}:function(e){return ce(e)?e:L(e)},Pe=function(e){return r(e.dom.shadowRoot)},De=function(e){var t=ae(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return j(E.fromDom(t)).fold((function(){return o.body.contains(t)}),(n=De,r=z,function(e){return n(r(e))}))},_e=function(e,t){return k(e)?e.style.getPropertyValue(t):""},Ee=function(e,t,n,r){e.dom.removeEventListener(t,n,r)},Ne=p,Fe=function(e,t){return{left:e,top:t,translate:function(n,r){return Fe(e+n,t+r)}}},Be=Fe,Me=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ie=tinymce.util.Tools.resolve("tinymce.Env"),Le=tinymce.util.Tools.resolve("tinymce.util.Delay"),je="data-ephox-mobile-fullscreen-style",ze="position:absolute!important;",$e="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",We=Ie.os.isAndroid(),He=Me.DOM,qe=V().fold((function(){return{bind:o,unbind:o}}),(function(e){var t,n=(t=b(o),P(P({},t),{on:function(e){return t.get().each(e)}})),r=y(),i=y(),u=Le.throttle((function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame((function(){n.on((function(t){return q(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})}))}))}),50);return{bind:function(e){n.set(e),u(),r.set(Z("resize",u)),i.set(Z("scroll",u))},unbind:function(){n.on((function(){r.clear(),i.clear()})),n.clear()}}})),Ue=function(e,t){function n(e){e(b,"tox-fullscreen"),e(y,"tox-fullscreen"),e(S,"tox-fullscreen"),j(C).map((function(e){return z(e).dom})).each((function(t){e(t,"tox-fullscreen"),e(t,"tox-shadowhost")}))}function r(){var r,o,i,u;A&&(r=e.dom,o="["+je+"]",x(1!==(i=u=document).nodeType&&9!==i.nodeType&&11!==i.nodeType||0===i.childElementCount?[]:w(u.querySelectorAll(o),E.fromDom),(function(e){var t=W(e,je);"no-styles"!==t?q(e,r.parseStyle(t)):H(e,"style"),H(e,je)}))),n(He.removeClass),qe.unbind(),R.from(t.get()).each((function(e){return e.fullscreenChangeHandler.unbind()}))}var o,i,u,a,c,l,s,f,d,m,g,p,h,v,b=document.body,y=document.documentElement,S=e.getContainer(),C=E.fromDom(S),T=j(l=E.fromDom(e.getElement())).map(z).getOrThunk((function(){var e=L(l).dom.body;if(null==e)throw new Error("Body is not available yet");return E.fromDom(e)})),k=t.get(),O=E.fromDom(e.getBody()),A=Ie.deviceType.isTouch(),P=S.style,D=e.iframeElement.style;k?(k.fullscreenChangeHandler.unbind(),G(e)&&Y(T)&&((a=L(T).dom).exitFullscreen?a.exitFullscreen():a.msExitFullscreen?a.msExitFullscreen():a.webkitCancelFullScreen&&a.webkitCancelFullScreen()),D.width=k.iframeWidth,D.height=k.iframeHeight,P.width=k.containerWidth,P.height=k.containerHeight,P.top=k.containerTop,P.left=k.containerLeft,r(),u=k.scrollPos,window.scrollTo(u.x,u.y),t.set(null),X(e,!1),e.off("remove",r)):(o=function(e,t,n){return o=t,i=Ne,u=n,a=function(e){i(e)&&u(U(e))},(r=e).dom.addEventListener(o,a,!1),{unbind:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}(Ee,r,o,a,!1)};var r,o,i,u,a}(L(T),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",(function(n){G(e)&&(Y(T)||null===t.get()||Ue(e,t))})),i={scrollPos:(s=window,p=void 0===s?window:s,h=p.document,m=(d=void 0!==(f=E.fromDom(h))?f.dom:document).body.scrollLeft||d.documentElement.scrollLeft,g=d.body.scrollTop||d.documentElement.scrollTop,v=Be(m,g),V(p).fold((function(){var e=p.document.documentElement,t=e.clientWidth,n=e.clientHeight;return K(v.left,v.top,t,n)}),(function(e){return K(Math.max(e.pageLeft,v.left),Math.max(e.pageTop,v.top),e.width,e.height)}))),containerWidth:P.width,containerHeight:P.height,containerTop:P.top,containerLeft:P.left,iframeWidth:D.width,iframeHeight:D.height,fullscreenChangeHandler:o},A&&Q(e.dom,C,O),D.width=D.height="100%",P.width=P.height="",n(He.addClass),qe.bind(C),e.on("remove",r),t.set(i),G(e)&&((c=T.dom).requestFullscreen?c.requestFullscreen():c.msRequestFullscreen?c.msRequestFullscreen():c.webkitRequestFullScreen&&c.webkitRequestFullScreen()),X(e,!0))};a.add("fullscreen",(function(t){var n,r,o,i,u,a=e(null);return t.inline||(r=a,(n=t).addCommand("mceFullScreen",(function(){Ue(n,r)})),(o=t).ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:c,onSetup:J(o,i=a)}),o.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:c,onSetup:J(o,i)}),t.addShortcut("Meta+Shift+F","","mceFullScreen")),u=a,{isFullscreen:function(){return null!==u.get()}};function c(){return o.execCommand("mceFullScreen")}}))}()},54926:function(e,t,n){n(46087)},46087:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");e.add("hr",(function(e){!function(e){e.addCommand("InsertHorizontalRule",(function(){e.execCommand("mceInsertContent",!1,"<hr />")}))}(e),function(e){var t=function(){return e.execCommand("InsertHorizontalRule")};e.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:t}),e.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:t})}(e)}))}()},89262:function(){!function(){"use strict";tinymce.util.Tools.resolve("tinymce.PluginManager").add("hr",(function(e){var t,n;function r(){return n.execCommand("InsertHorizontalRule")}(t=e).addCommand("InsertHorizontalRule",(function(){t.execCommand("mceInsertContent",!1,"<hr />")})),(n=e).ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:r}),n.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:r})}))}()},1236:function(e,t,n){n(77585)},77585:function(){!function(){"use strict";var e,t,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}},o=function(e){return function(t){return typeof t===e}},i=r("string"),u=r("object"),a=r("array"),c=o("boolean"),l=o("function"),s=o("number"),f=function(){},d=function(e){return function(){return e}},m=function(e){return e},g=function(e,t){return e===t},p=function(e){return function(t){return!e(t)}},h=d(!1),v=d(!0),b=function(){return y},y={fold:function(e,t){return e()},isSome:h,isNone:v,getOr:t=m,getOrThunk:e=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:t,orThunk:e,map:b,each:f,bind:b,exists:h,forall:v,filter:function(){return b()},toArray:function(){return[]},toString:d("none()")},w=function(e){var t=d(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:v,isNone:h,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return w(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:y},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},x={some:w,none:b,from:function(e){return null==e?y:w(e)}},S=Array.prototype.slice,C=Array.prototype.push,T=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},k=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},O=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},A=function(e,t,n){return k(e,(function(e,r){n=t(n,e,r)})),n},R=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return x.some(i);if(n(i,r))break}return x.none()},P=function(e,t){return R(e,t,h)},D=function(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);C.apply(t,e[n])}return t}(T(e,t))},_=function(e){var t=S.call(e,0);return t.reverse(),t},E=function(e,t){return t>=0&&t<e.length?x.some(e[t]):x.none()},N=function(e){return E(e,0)},F=function(e){return E(e,e.length-1)},B=function(){return B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},B.apply(this,arguments)};var M,I=function(){return L(0,0)},L=function(e,t){return{major:e,minor:t}},j={nu:L,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?I():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return L(r(1),r(2))}(e,n)},unknown:I},z=function(e,t){return function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return x.none()}(t.brands,(function(t){var n=t.brand.toLowerCase();return P(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:j.nu(parseInt(t.version,10),0)}}))}))},$=function(e,t){var n=String(t).toLowerCase();return P(e,(function(e){return e.search(n)}))},W=function(e,t){return-1!==e.indexOf(t)},H=(M=/^\s+|\s+$/g,function(e){return e.replace(M,"")}),q=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,U=function(e){return function(t){return W(t,e)}},V=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return W(e,"edge/")&&W(e,"chrome")&&W(e,"safari")&&W(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,q],search:function(e){return W(e,"chrome")&&!W(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return W(e,"msie")||W(e,"trident")}},{name:"Opera",versionRegexes:[q,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:U("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:U("firefox")},{name:"Safari",versionRegexes:[q,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(W(e,"safari")||W(e,"mobile/"))&&W(e,"applewebkit")}}],K=[{name:"Windows",search:U("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return W(e,"iphone")||W(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:U("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:U("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:U("linux"),versionRegexes:[]},{name:"Solaris",search:U("sunos"),versionRegexes:[]},{name:"FreeBSD",search:U("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:U("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Z={browsers:d(V),oses:d(K)},X="Edge",G="Chrome",Y="Opera",Q="Firefox",J="Safari",ee=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(X),isChrome:r(G),isIE:r("IE"),isOpera:r(Y),isFirefox:r(Q),isSafari:r(J)}},te={unknown:function(){return ee({current:void 0,version:j.unknown()})},nu:ee,edge:d(X),chrome:d(G),ie:d("IE"),opera:d(Y),firefox:d(Q),safari:d(J)},ne="Windows",re="Android",oe="Linux",ie="Solaris",ue="FreeBSD",ae="ChromeOS",ce=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(ne),isiOS:r("iOS"),isAndroid:r(re),isOSX:r("OSX"),isLinux:r(oe),isSolaris:r(ie),isFreeBSD:r(ue),isChromeOS:r(ae)}},le={unknown:function(){return ce({current:void 0,version:j.unknown()})},nu:ce,windows:d(ne),ios:d("iOS"),android:d(re),linux:d(oe),osx:d("OSX"),solaris:d(ie),freebsd:d(ue),chromeos:d(ae)},se=function(e,t,n){var r=Z.browsers(),o=Z.oses(),i=t.bind((function(e){return z(r,e)})).orThunk((function(){return function(e,t){return $(e,t).map((function(e){var n=j.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(r,e)})).fold(te.unknown,te.nu),u=function(e,t){return $(e,t).map((function(e){var n=j.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(o,e).fold(le.unknown,le.nu),a=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,u=e.isiOS()||e.isAndroid(),a=u||r("(pointer:coarse)"),c=o||!i&&u&&r("(min-device-width:768px)"),l=i||u&&!c,s=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!l&&!c&&!s;return{isiPad:d(o),isiPhone:d(i),isTablet:d(c),isPhone:d(l),isTouch:d(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:d(s),isDesktop:d(f)}}(u,i,e,n);return{browser:i,os:u,deviceType:a}},fe=function(e){return window.matchMedia(e).matches},de=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}((function(){return se(navigator.userAgent,x.from(navigator.userAgentData),fe)})),me=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},ge={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return me(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return me(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return me(n)},fromDom:me,fromPoint:function(e,t,n){return x.from(e.dom.elementFromPoint(t,n)).map(me)}},pe=function(e,t){return e.dom===t.dom},he=function(e,t){return n=e.dom,r=t.dom,function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(n,r,Node.DOCUMENT_POSITION_CONTAINED_BY);var n,r},ve=function(e,t){return de().browser.isIE()?he(e,t):function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)}(e,t)},be=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},ye=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),we=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),xe=tinymce.util.Tools.resolve("tinymce.util.VK"),Se=Object.keys,Ce=function(e,t){for(var n=Se(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},Te=function(e,t){var n={};return function(e,t,n,r){Ce(e,(function(e,o){(t(e,o)?n:r)(e,o)}))}(e,t,function(e){return function(t,n){e[n]=t}}(n),f),n};"undefined"!=typeof window?window:Function("return this;")();var ke,Oe=function(e){return e.dom.nodeName.toLowerCase()},Ae=(ke=1,function(e){return function(e){return e.dom.nodeType}(e)===ke}),Re=function(e){return function(t){return Ae(t)&&Oe(t)===e}},Pe=function(e,t){var n=e.dom;Ce(t,(function(e,t){!function(e,t,n){if(!(i(n)||c(n)||s(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(n,t,e)}))},De=function(e){return A(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})},_e=function(e){return x.from(e.dom.parentNode).map(ge.fromDom)},Ee=function(e){return T(e.dom.childNodes,ge.fromDom)},Ne=function(e,t){var n=e.dom.childNodes;return x.from(n[t]).map(ge.fromDom)},Fe=function(e){return Ne(e,0)},Be=function(e){return Ne(e,e.dom.childNodes.length-1)},Me=function(e,t){_e(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},Ie=function(e,t){e.dom.appendChild(t.dom)},Le=function(e,t){k(t,(function(t){Ie(e,t)}))},je=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},ze=function(e){return function(e,t){return ge.fromDom(e.dom.cloneNode(t))}(e,!0)},$e=function(e,t){var n=function(e,t){var n=ge.fromTag(t),r=De(e);return Pe(n,r),n}(e,t);Me(e,n);var r=Ee(e);return Le(n,r),je(e),n},We=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),He=tinymce.util.Tools.resolve("tinymce.util.Tools"),qe=function(e){return function(t){return t&&t.nodeName.toLowerCase()===e}},Ue=function(e){return function(t){return t&&e.test(t.nodeName)}},Ve=function(e){return e&&3===e.nodeType},Ke=Ue(/^(OL|UL|DL)$/),Ze=Ue(/^(OL|UL)$/),Xe=qe("ol"),Ge=Ue(/^(LI|DT|DD)$/),Ye=Ue(/^(DT|DD)$/),Qe=Ue(/^(TH|TD)$/),Je=qe("br"),et=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},tt=function(e,t){return e&&e.nodeName in t},nt=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},rt=function(e,t){return e.isChildOf(t,e.getRoot())},ot=function(e,t){var n,r,o,i=e.dom,u=e.schema.getBlockElements(),a=i.createFragment(),c=function(e){var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t}(e);if(c&&((r=i.create(c)).tagName===c.toUpperCase()&&i.setAttribs(r,function(e){return e.getParam("forced_root_block_attrs",{})}(e)),tt(t.firstChild,u)||a.appendChild(r)),t)for(;n=t.firstChild;){var l=n.nodeName;o||"SPAN"===l&&"bookmark"===n.getAttribute("data-mce-type")||(o=!0),tt(n,u)?(a.appendChild(n),r=null):c?(r||(r=i.create(c),a.appendChild(r)),r.appendChild(n)):a.appendChild(n)}return c?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):a.appendChild(i.create("br")),a},it=We.DOM,ut=Re("dd"),at=Re("dt"),ct=function(e,t){ut(t)?$e(t,"dt"):at(t)&&_e(t).each((function(n){return function(e,t,n){var r=it.select('span[data-mce-type="bookmark"]',t),o=ot(e,n),i=it.createRng();i.setStartAfter(n),i.setEndAfter(t);for(var u,a=i.extractContents(),c=a.firstChild;c;c=c.firstChild)if("LI"===c.nodeName&&e.dom.isEmpty(c)){it.remove(c);break}e.dom.isEmpty(a)||it.insertAfter(a,t),it.insertAfter(o,t),nt(e.dom,n.parentNode)&&(u=n.parentNode,He.each(r,(function(e){u.parentNode.insertBefore(e,n.parentNode)})),it.remove(u)),it.remove(n),nt(e.dom,t)&&it.remove(t)}(e,n.dom,t.dom)}))},lt=function(e){at(e)&&$e(e,"dd")},st=function(e,t){if(Ve(e))return{container:e,offset:t};var n=ye.getNode(e,t);return Ve(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Ve(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Ve(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},ft=function(e){var t=e.cloneRange(),n=st(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=st(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},dt=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),mt=function(e,t){var n=t||e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",ht(e,n))},gt=function(e){var t=mt(e),n=e.selection.getSelectedBlocks();return function(e,t){return e&&1===t.length&&t[0]===e}(t,n)?function(e){return O(e.querySelectorAll("ol,ul,dl"),Ke)}(t):O(n,(function(e){return Ke(e)&&t!==e}))},pt=function(e){var t=e.selection.getSelectedBlocks();return O(function(e,t){var n=He.map(t,(function(t){return e.dom.getParent(t,"li,dd,dt",ht(e,t))||t}));return dt.unique(n)}(e,t),Ge)},ht=function(e,t){var n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},vt=function(e,t){var n=e.dom.getParents(t,"ol,ul",ht(e,t));return F(n)},bt=function(e){var t=function(e){var t=vt(e,e.selection.getStart()),n=O(e.selection.getSelectedBlocks(),Ze);return t.toArray().concat(n)}(e);return yt(e,t)},yt=function(e,t){var n=T(t,(function(t){return vt(e,t).getOr(t)}));return dt.unique(n)},wt=function(e,t,n){return void 0===n&&(n=g),e.exists((function(e){return n(e,t)}))},xt=function(e,t,n){return e.isSome()&&t.isSome()?x.some(n(e.getOrDie(),t.getOrDie())):x.none()},St=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})},Ct=function(e,t,n){if(!i(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);(function(e){return void 0!==e.style&&l(e.style.getPropertyValue)})(e)&&e.style.setProperty(t,n)},Tt=function(e,t){Ie(e.item,t.list)},kt=function(e,t){var n={list:ge.fromTag(t,e),item:ge.fromTag("li",e)};return Ie(n.list,n.item),n},Ot=function(e,t,n){var r=t.slice(0,n.depth);return F(r).each((function(t){var r=function(e,t,n){var r=ge.fromTag("li",e);return Pe(r,t),Le(r,n),r}(e,n.itemAttributes,n.content);!function(e,t){Ie(e.list,t),e.item=t}(t,r),function(e,t){Oe(e.list)!==t.listType&&(e.list=$e(e.list,t.listType)),Pe(e.list,t.listAttributes)}(t,n)})),r},At=function(e,t,n){var r,o=function(e,t,n){for(var r=[],o=0;o<n;o++)r.push(kt(e,t.listType));return r}(e,n,n.depth-t.length);return function(e){for(var t=1;t<e.length;t++)Tt(e[t-1],e[t])}(o),function(e,t){for(var n=0;n<e.length-1;n++)r=e[n].item,o="list-style-type",i="none",u=void 0,u=r.dom,Ct(u,o,i);var r,o,i,u;F(e).each((function(e){Pe(e.list,t.listAttributes),Pe(e.item,t.itemAttributes),Le(e.item,t.content)}))}(o,n),r=o,xt(F(t),N(r),Tt),t.concat(o)},Rt=function(e){return be(e,"OL,UL")},Pt=function(e){return Fe(e).exists(Rt)},Dt=function(e){return e.depth>0},_t=function(e){return e.isSelected},Et=function(e){var t=Ee(e),n=Be(e).exists(Rt)?t.slice(0,-1):t;return T(n,ze)},Nt=function(e){return k(e,(function(t,n){(function(e,t){var n=e[t].depth,r=function(e){return e.depth===n&&!e.dirty},o=function(e){return e.depth<n};return R(_(e.slice(0,t)),r,o).orThunk((function(){return R(e.slice(t+1),r,o)}))})(e,n).fold((function(){t.dirty&&function(e){e.listAttributes=Te(e.listAttributes,(function(e,t){return"start"!==t}))}(t)}),(function(e){return r=e,(n=t).listType=r.listType,void(n.listAttributes=B({},r.listAttributes));var n,r}))})),e},Ft=function(e,t,n,r){return Fe(r).filter(Rt).fold((function(){t.each((function(e){pe(e.start,r)&&n.set(!0)}));var o=function(e,t,n){return _e(e).filter(Ae).map((function(r){return{depth:t,dirty:!1,isSelected:n,content:Et(e),itemAttributes:De(e),listAttributes:De(r),listType:Oe(r)}}))}(r,e,n.get());t.each((function(e){pe(e.end,r)&&n.set(!1)}));var i=Be(r).filter(Rt).map((function(r){return Bt(e,t,n,r)})).getOr([]);return o.toArray().concat(i)}),(function(r){return Bt(e,t,n,r)}))},Bt=function(e,t,n,r){return D(Ee(r),(function(r){return(Rt(r)?Bt:Ft)(e+1,t,n,r)}))},Mt=function(e,t){var n=Nt(t);return T(n,(function(t){var n,r,o,i=(n=t.content,o=(r||document).createDocumentFragment(),k(n,(function(e){o.appendChild(e.dom)})),ge.fromDom(o));return ge.fromDom(ot(e,i.dom))}))},It=function(e,t){var n=Nt(t);return function(e,t){var n=A(t,(function(t,n){return n.depth>t.length?At(e,t,n):Ot(e,t,n)}),[]);return N(n).map((function(e){return e.list}))}(e.contentDocument,n).toArray()},Lt=function(e,t,n){var r=function(e,t){var n,r=(n=!1,{get:function(){return n},set:function(e){n=e}});return T(e,(function(e){return{sourceList:e,entries:Bt(0,t,r,e)}}))}(t,function(e){var t=T(pt(e),ge.fromDom);return xt(P(t,p(Pt)),P(_(t),p(Pt)),(function(e,t){return{start:e,end:t}}))}(e));k(r,(function(t){!function(e,t){k(O(e,_t),(function(e){return function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0}(t,e)}))}(t.entries,n);var r,o=function(e,t){return D(function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,u=e.length;i<u;i++){var a=e[i],c=t(a);c!==n&&(r.push(o),o=[]),n=c,o.push(a)}return 0!==o.length&&r.push(o),r}(t,Dt),(function(t){return N(t).exists(Dt)?It(e,t):Mt(e,t)}))}(e,t.entries);k(o,(function(t){St(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),r=t.sourceList,k(o,(function(e){Me(r,e)})),je(t.sourceList)}))},jt=function(e,t){var n=T(bt(e),ge.fromDom),r=T(function(e){return O(pt(e),Ye)}(e),ge.fromDom),o=!1;if(n.length||r.length){var i=e.selection.getBookmark();Lt(e,n,t),function(e,t,n){k(n,"Indent"===t?lt:function(t){return ct(e,t)})}(e,t,r),e.selection.moveToBookmark(i),e.selection.setRng(ft(e.selection.getRng())),e.nodeChanged(),o=!0}return o},zt=function(e){return jt(e,"Indent")},$t=function(e){return jt(e,"Outdent")},Wt=function(e){return jt(e,"Flatten")},Ht=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),qt=We.DOM,Ut=function(e){var t={},n=function(n){var r=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"];if(1===r.nodeType){var i=qt.create("span",{"data-mce-type":"bookmark"});r.hasChildNodes()?(o=Math.min(o,r.childNodes.length-1),n?r.insertBefore(i,r.childNodes[o]):qt.insertAfter(i,r.childNodes[o])):r.appendChild(i),r=i,o=0}t[n?"startContainer":"endContainer"]=r,t[n?"startOffset":"endOffset"]=o};return n(!0),e.collapsed||n(),t},Vt=function(e){var t=function(t){var n,r=n=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];r&&(1===r.nodeType&&(o=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(r),r=r.parentNode,qt.remove(n),!r.hasChildNodes()&&qt.isBlock(r)&&r.appendChild(qt.create("br"))),e[t?"startContainer":"endContainer"]=r,e[t?"startOffset":"endOffset"]=o)};t(!0),t();var n=qt.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),ft(n)},Kt=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Zt=function(e){return/\btox\-/.test(e.className)},Xt=function(e,t,n){var r=function(e){var r=R(e.parents,Ke,Qe).filter((function(e){return e.nodeName===t&&!Zt(e)})).isSome();n(r)},o=e.dom.getParents(e.selection.getNode());return r({parents:o}),e.on("NodeChange",r),function(){return e.off("NodeChange",r)}},Gt=function(e,t){He.each(t,(function(t,n){e.setAttribute(n,t)}))},Yt=function(e,t,n){!function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)}(e,t,n),function(e,t,n){Gt(t,n["list-attributes"]),He.each(e.select("li",t),(function(e){Gt(e,n["list-item-attributes"])}))}(e,t,n)},Qt=function(e,t,n,r){var o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];for(1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&Je(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(et(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},Jt=function(e,t,n){var r=e.selection.getRng(),o="LI",i=ht(e,e.selection.getStart(!0)),u=e.dom;if("false"!==u.getContentEditable(e.selection.getNode())){"DL"===(t=t.toUpperCase())&&(o="DT");var a=Ut(r),c=function(e,t,n){for(var r,o=[],i=e.dom,u=Qt(e,t,!0,n),a=Qt(e,t,!1,n),c=[],l=u;l&&(c.push(l),l!==a);l=l.nextSibling);return He.each(c,(function(t){if(et(e,t))return o.push(t),void(r=null);if(i.isBlock(t)||Je(t))return Je(t)&&i.remove(t),void(r=null);var u=t.nextSibling;Ht.isBookmarkNode(t)&&(Ke(u)||et(e,u)||!u&&t.parentNode===n)?r=null:(r||(r=i.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),r.appendChild(t))})),o}(e,r,i);He.each(c,(function(r){var i,a=r.previousSibling,c=r.parentNode;Ge(c)||(a&&Ke(a)&&a.nodeName===t&&function(e,t,n){var r=e.getStyle(t,"list-style-type"),o=n?n["list-style-type"]:"";return r===(null===o?"":o)}(u,a,n)?(i=a,r=u.rename(r,o),a.appendChild(r)):(i=u.create(t),r.parentNode.insertBefore(i,r),i.appendChild(r),r=u.rename(r,o)),function(e,t,n){He.each(n,(function(n){var r;return e.setStyle(t,((r={})[n]="",r))}))}(u,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Yt(u,i,n),tn(e.dom,i))})),e.selection.setRng(Vt(a))}},en=function(e,t,n){return function(e,t){return e&&t&&Ke(e)&&e.nodeName===t.nodeName}(t,n)&&function(e,t,n){return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)}(e,t,n)&&(r=n,t.className===r.className);var r},tn=function(e,t){var n,r;if(n=t.nextSibling,en(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,en(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},nn=function(e,t,n,r,o){var i=Ke(t);if(i&&t.nodeName===r&&!rn(o))Wt(e);else{Jt(e,r,o);var u=Ut(e.selection.getRng()),a=i?function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([t],n,!0):n;He.each(a,(function(t){!function(e,t,n,r){if(t.nodeName!==n){var o=e.dom.rename(t,n);Yt(e.dom,o,r),St(e,Kt(n),o)}else Yt(e.dom,t,r),St(e,Kt(n),t)}(e,t,r,o)})),e.selection.setRng(Vt(u))}},rn=function(e){return"list-style-type"in e},on=function(e,t,n){var r=mt(e),o=gt(e),i=u(n)?n:{};o.length>0?nn(e,r,o,t,i):function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||rn(r)||Zt(t)){var o=Ut(e.selection.getRng());Yt(e.dom,t,r);var i=e.dom.rename(t,n);tn(e.dom,i),e.selection.setRng(Vt(o)),Jt(e,n,r),St(e,Kt(n),i)}else Wt(e);else Jt(e,n,r),St(e,Kt(n),t)}(e,r,t,i)},un=We.DOM,an=function(e,t){var n=He.grep(e.select("ol,ul",t));He.each(n,(function(t){!function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&((n=r.previousSibling)&&"LI"===n.nodeName?(n.appendChild(t),nt(e,r)&&un.remove(r)):un.setStyle(r,"listStyleType","none")),Ke(r)&&(n=r.previousSibling)&&"LI"===n.nodeName&&n.appendChild(t)}(e,t)}))},cn=function(e,t,n,r){var o=t.startContainer,i=t.startOffset;if(Ve(o)&&(n?i<o.data.length:i>0))return o;var u=e.schema.getNonEmptyElements();1===o.nodeType&&(o=ye.getNode(o,i));var a=new we(o,r);for(n&&function(e,t){return!!Je(t)&&e.isBlock(t.nextSibling)&&!Je(t.previousSibling)}(e.dom,o)&&a.next();o=a[n?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(u[o.nodeName])return o;if(Ve(o)&&o.data.length>0)return o}},ln=function(e,t){var n=t.childNodes;return 1===n.length&&!Ke(n[0])&&e.isBlock(n[0])},sn=function(e,t,n){var r,o=ln(e,n)?n.firstChild:n;if(function(e,t){ln(e,t)&&e.remove(t.firstChild,!0)}(e,t),!nt(e,t,!0))for(;r=t.firstChild;)o.appendChild(r)},fn=function(e,t,n){var r,o=t.parentNode;if(rt(e,t)&&rt(e,n)){Ke(n.lastChild)&&(r=n.lastChild),o===n.lastChild&&Je(o.previousSibling)&&e.remove(o.previousSibling);var i=n.lastChild;i&&Je(i)&&t.hasChildNodes()&&e.remove(i),nt(e,n,!0)&&e.$(n).empty(),sn(e,t,n),r&&n.appendChild(r);var u=ve(ge.fromDom(n),ge.fromDom(t))?e.getParents(t,Ke,n):[];e.remove(t),k(u,(function(t){nt(e,t)&&t!==e.getRoot()&&e.remove(t)}))}},dn=function(e,t,n,r){var o=e.dom;if(o.isEmpty(r))!function(e,t,n){e.dom.$(n).empty(),fn(e.dom,t,n),e.selection.setCursorLocation(n,0)}(e,n,r);else{var i=Ut(t);fn(o,n,r),e.selection.setRng(Vt(i))}},mn=function(e,t){var n=e.dom,r=e.selection,o=r.getStart(),i=ht(e,o),u=n.getParent(r.getStart(),"LI",i);if(u){var a=u.parentNode;if(a===e.getBody()&&nt(n,a))return!0;var c=ft(r.getRng()),l=n.getParent(cn(e,c,t,i),"LI",i);if(l&&l!==u)return e.undoManager.transact((function(){var n;t?dn(e,c,l,u):(n=u).parentNode.firstChild===n?$t(e):function(e,t,n,r){var o=Ut(t);fn(e.dom,n,r);var i=Vt(o);e.selection.setRng(i)}(e,c,u,l)})),!0;if(!l&&!t&&0===c.startOffset&&0===c.endOffset)return e.undoManager.transact((function(){Wt(e)})),!0}return!1},gn=function(e,t){return mn(e,t)||function(e,t){var n=e.dom,r=e.selection.getStart(),o=ht(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var u=ft(e.selection.getRng()),a=n.getParent(cn(e,u,t,o),"LI",o);if(a)return e.undoManager.transact((function(){!function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)}(n,i,o),tn(n,a.parentNode),e.selection.select(a,!0),e.selection.collapse(t)})),!0}return!1}(e,t)},pn=function(e,t){return e.selection.isCollapsed()?gn(e,t):function(e){var t=e.selection.getStart(),n=ht(e,t);return!!(e.dom.getParent(t,"LI,DT,DD",n)||pt(e).length>0)&&(e.undoManager.transact((function(){e.execCommand("Delete"),an(e.dom,e.getBody())})),!0)}(e)},hn=function(e){var t=_(H(e).split("")),n=T(t,(function(e,t){var n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return A(n,(function(e,t){return e+t}),0)},vn=function(e){if(--e<0)return"";var t=e%26,n=Math.floor(e/26);return vn(n)+String.fromCharCode("A".charCodeAt(0)+t)},bn=function(e){var t,n,r=mt(e);Xe(r)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:(t={start:e.dom.getAttrib(r,"start","1"),listStyleType:x.some(e.dom.getStyle(r,"list-style-type"))},n=parseInt(t.start,10),wt(t.listStyleType,"upper-alpha")?vn(n):wt(t.listStyleType,"lower-alpha")?vn(n).toLowerCase():t.start)},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){(function(e){switch(function(e){return/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:function(e){return/^[a-z]+$/.test(e)}(e)?1:e.length>0?4:3}(e)){case 2:return x.some({listStyleType:x.none(),start:e});case 0:return x.some({listStyleType:x.some("upper-alpha"),start:hn(e).toString()});case 1:return x.some({listStyleType:x.some("lower-alpha"),start:hn(e).toString()});case 3:return x.some({listStyleType:x.none(),start:""});case 4:return x.none()}})(t.getData().start).each((function(t){e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})},yn=function(e,t){return function(){var n=mt(e);return n&&n.nodeName===t}},wn=function(e){e.addCommand("mceListProps",(function(){bn(e)}))},xn=function(e){e.on("BeforeExecCommand",(function(t){var n=t.command.toLowerCase();"indent"===n?zt(e):"outdent"===n&&$t(e)})),e.addCommand("InsertUnorderedList",(function(t,n){on(e,"UL",n)})),e.addCommand("InsertOrderedList",(function(t,n){on(e,"OL",n)})),e.addCommand("InsertDefinitionList",(function(t,n){on(e,"DL",n)})),e.addCommand("RemoveList",(function(){Wt(e)})),wn(e),e.addCommand("mceListUpdate",(function(t,n){u(n)&&function(e,t){var n=mt(e);e.undoManager.transact((function(){u(t.styles)&&e.dom.setStyles(n,t.styles),u(t.attrs)&&Ce(t.attrs,(function(t,r){return e.dom.setAttrib(n,r,t)}))}))}(e,n)})),e.addQueryStateHandler("InsertUnorderedList",yn(e,"UL")),e.addQueryStateHandler("InsertOrderedList",yn(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",yn(e,"DL"))},Sn=function(e){(function(e){return e.getParam("lists_indent_on_tab",!0)})(e)&&function(e){e.on("keydown",(function(t){t.keyCode!==xe.TAB||xe.metaKeyPressed(t)||e.undoManager.transact((function(){(t.shiftKey?$t(e):zt(e))&&t.preventDefault()}))}))}(e),function(e){e.on("keydown",(function(t){t.keyCode===xe.BACKSPACE?pn(e,!1)&&t.preventDefault():t.keyCode===xe.DELETE&&pn(e,!0)&&t.preventDefault()}))}(e)};n.add("lists",(function(e){return!1===e.hasPlugin("rtc",!0)?(Sn(e),xn(e)):wn(e),function(e){var t=function(t){return function(){return e.execCommand(t)}};e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:function(t){return Xt(e,"OL",t.setActive)}}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:function(t){return Xt(e,"UL",t.setActive)}}))}(e),function(e){var t={text:"List properties...",icon:"ordered-list",onAction:function(){return e.execCommand("mceListProps")},onSetup:function(t){return Xt(e,"OL",(function(e){return t.setDisabled(!e)}))}};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:function(t){var n=mt(e,t);return Xe(n)?["listprops"]:[]}})}(e),function(e){return{backspaceDelete:function(t){pn(e,t)}}}(e)}))}()},94050:function(){!function(){"use strict";function e(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"==r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}}function t(e){return function(t){return typeof t===e}}function n(){}function r(e){return function(){return e}}function o(e){return e}function i(e,t){return e===t}function u(e){return function(t){return!e(t)}}function a(){return v}var c=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=e("string"),s=e("object"),f=e("array"),d=t("boolean"),m=t("function"),g=t("number"),p=r(!1),h=r(!0),v={fold:function(e,t){return e()},isSome:p,isNone:h,getOr:o,getOrThunk:b,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:o,orThunk:b,map:a,each:n,bind:a,exists:p,forall:h,filter:function(){return v},toArray:function(){return[]},toString:r("none()")};function b(e){return e()}function y(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}function w(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function x(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}function S(e,t,n){return w(e,(function(e,r){n=t(n,e,r)})),n}function C(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return _.some(i);if(n(i,r))break}return _.none()}function T(e,t){return C(e,t,p)}function k(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!f(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);N.apply(t,e[n])}return t}(y(e,t))}function O(e){var t=E.call(e,0);return t.reverse(),t}function A(e,t){return 0<=t&&t<e.length?_.some(e[t]):_.none()}function R(e){return A(e,0)}function P(e){return A(e,e.length-1)}var D=function(e){function t(){return i}function n(t){return t(e)}var o=r(e),i={fold:function(t,n){return n(e)},isSome:h,isNone:p,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:t,orThunk:t,map:function(t){return D(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?i:v},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},_={some:D,none:a,from:function(e){return null==e?v:D(e)}},E=Array.prototype.slice,N=Array.prototype.push,F=function(){return(F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function B(e,t){var n=String(t).toLowerCase();return T(e,(function(e){return e.search(n)}))}function M(e,t){return-1!==e.indexOf(t)}function I(e){return function(t){return M(t,e)}}function L(e){return window.matchMedia(e).matches}function j(e,t){return e.dom===t.dom}function z(e,t){for(var n=pe(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}function $(){return X(0,0)}function W(e){function t(e){return function(){return n===e}}var n=e.current,r=e.version;return{current:n,version:r,isEdge:t("Edge"),isChrome:t("Chrome"),isIE:t("IE"),isOpera:t("Opera"),isFirefox:t(ee),isSafari:t("Safari")}}function H(e){function t(e){return function(){return n===e}}var n=e.current,r=e.version;return{current:n,version:r,isWindows:t(re),isiOS:t("iOS"),isAndroid:t(oe),isOSX:t("OSX"),isLinux:t("Linux"),isSolaris:t(ie),isFreeBSD:t(ue),isChromeOS:t(ae)}}function q(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}}var U,V,K,Z,X=function(e,t){return{major:e,minor:t}},G={nu:X,detect:function(e,t){var n,r,o=String(t).toLowerCase();return 0===e.length?$():(r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,n=o))?X(i(1),i(2)):{major:0,minor:0};function i(e){return Number(n.replace(r,"$"+e))}},unknown:$},Y=(U=/^\s+|\s+$/g,function(e){return e.replace(U,"")}),Q=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,J={browsers:r([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return M(e,"edge/")&&M(e,"chrome")&&M(e,"safari")&&M(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Q],search:function(e){return M(e,"chrome")&&!M(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return M(e,"msie")||M(e,"trident")}},{name:"Opera",versionRegexes:[Q,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:I("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:I("firefox")},{name:"Safari",versionRegexes:[Q,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(M(e,"safari")||M(e,"mobile/"))&&M(e,"applewebkit")}}]),oses:r([{name:"Windows",search:I("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return M(e,"iphone")||M(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:I("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:I("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:I("linux"),versionRegexes:[]},{name:"Solaris",search:I("sunos"),versionRegexes:[]},{name:"FreeBSD",search:I("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:I("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},ee="Firefox",te=function(){return W({current:void 0,version:G.unknown()})},ne=W,re=(r("Edge"),r("Chrome"),r("IE"),r("Opera"),r(ee),r("Safari"),"Windows"),oe="Android",ie="Solaris",ue="FreeBSD",ae="ChromeOS",ce=function(){return H({current:void 0,version:G.unknown()})},le=H,se=(r(re),r("iOS"),r(oe),r("Linux"),r("OSX"),r(ie),r(ue),r(ae),Z=!(V=function(){return e=navigator.userAgent,t=_.from(navigator.userAgentData),n=L,h=J.browsers(),v=J.oses(),b=t.bind((function(e){return function(e,t){return function(t){for(var n=0;n<t.length;n++){var r=function(t){var n=t.brand.toLowerCase();return T(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:G.nu(parseInt(t.version,10),0)}}))}(t[n]);if(r.isSome())return r}return _.none()}(t.brands)}(h,e)})).orThunk((function(){return B(h,t=e).map((function(e){var n=G.detect(e.versionRegexes,t);return{current:e.name,version:n}}));var t})).fold(te,ne),y=B(v,o=e).map((function(e){var t=G.detect(e.versionRegexes,o);return{current:e.name,version:t}})).fold(ce,le),{browser:b,os:y,deviceType:(u=b,a=e,c=n,l=(i=y).isiOS()&&!0===/ipad/i.test(a),s=i.isiOS()&&!l,d=(f=i.isiOS()||i.isAndroid())||c("(pointer:coarse)"),m=l||!s&&f&&c("(min-device-width:768px)"),g=s||f&&!m,p=u.isSafari()&&i.isiOS()&&!1===/safari/i.test(a),{isiPad:r(l),isiPhone:r(s),isTablet:r(m),isPhone:r(g),isTouch:r(d),isAndroid:i.isAndroid,isiOS:i.isiOS,isWebView:r(p),isDesktop:r(!g&&!m&&!p)})};var e,t,n,o,i,u,a,c,l,s,f,d,m,g,p,h,v,b,y}),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Z||(Z=!0,K=V.apply(null,e)),K}),fe={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return q(n.childNodes[0])},fromTag:function(e,t){return q((t||document).createElement(e))},fromText:function(e,t){return q((t||document).createTextNode(e))},fromDom:q,fromPoint:function(e,t,n){return _.from(e.dom.elementFromPoint(t,n)).map(q)}},de=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),me=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ge=tinymce.util.Tools.resolve("tinymce.util.VK"),pe=Object.keys;function he(e){return e.dom.nodeName.toLowerCase()}function ve(e){return function(t){return At(t)&&he(t)===e}}function be(e,t){var n=e.dom;z(t,(function(e,t){!function(e,t,n){if(!(l(n)||d(n)||g(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(n,t,e)}))}function ye(e){return S(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})}function we(e){return _.from(e.dom.parentNode).map(fe.fromDom)}function xe(e){return y(e.dom.childNodes,fe.fromDom)}function Se(e,t){var n=e.dom.childNodes;return _.from(n[t]).map(fe.fromDom)}function Ce(e){return Se(e,0)}function Te(e){return Se(e,e.dom.childNodes.length-1)}function ke(e,t){we(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))}function Oe(e,t){e.dom.appendChild(t.dom)}function Ae(e,t){w(t,(function(t){Oe(e,t)}))}function Re(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)}function Pe(e){return fe.fromDom(e.dom.cloneNode(!0))}function De(e,t){var n,r,o=(n=e,be(r=fe.fromTag(t),ye(n)),r);return ke(e,o),Ae(o,xe(e)),Re(e),o}function _e(e){return function(t){return t&&t.nodeName.toLowerCase()===e}}function Ee(e){return function(t){return t&&e.test(t.nodeName)}}function Ne(e){return e&&3===e.nodeType}function Fe(e,t){return t&&e.schema.getTextBlockElements()[t.nodeName]}function Be(e,t){return e&&e.nodeName in t}function Me(e,t,n){var r=e.isEmpty(t);return!(n&&0<e.select("span[data-mce-type=bookmark]",t).length)&&r}function Ie(e,t){return e.isChildOf(t,e.getRoot())}function Le(e,t){var n,r,o,i,u=e.dom,a=e.schema.getBlockElements(),c=u.createFragment(),l=!1===(n=e.getParam("forced_root_block","p"))?"":!0===n?"p":n;if(l&&((o=u.create(l)).tagName===l.toUpperCase()&&u.setAttribs(o,e.getParam("forced_root_block_attrs",{})),Be(t.firstChild,a)||c.appendChild(o)),t)for(;r=t.firstChild;){var s=r.nodeName;i||"SPAN"===s&&"bookmark"===r.getAttribute("data-mce-type")||(i=!0),Be(r,a)?(c.appendChild(r),o=null):l?(o||(o=u.create(l),c.appendChild(o)),o.appendChild(r)):c.appendChild(r)}return l?i||o.appendChild(u.create("br",{"data-mce-bogus":"1"})):c.appendChild(u.create("br")),c}function je(e){jt(e)&&De(e,"dd")}function ze(e,t){if(Ne(e))return{container:e,offset:t};var n=de.getNode(e,t);return Ne(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Ne(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Ne(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}}function $e(e){var t=e.cloneRange(),n=ze(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=ze(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t}function We(e,t){var n=t||e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",$t(e,n))}function He(e){var t,n,r=e.selection.getSelectedBlocks();return x((t=e,n=Pt.map(r,(function(e){return t.dom.getParent(e,"li,dd,dt",$t(t,e))||e})),zt.unique(n)),Nt)}function qe(e,t){return P(e.dom.getParents(t,"ol,ul",$t(e,t)))}function Ue(e,t,n){return void 0===n&&(n=i),e.exists((function(e){return n(e,t)}))}function Ve(e,t,n){return e.isSome()&&t.isSome()?_.some(n(e.getOrDie(),t.getOrDie())):_.none()}function Ke(e,t,n){return e.fire("ListMutation",{action:t,element:n})}function Ze(e,t){Oe(e.item,t.list)}function Xe(e,t,n){var r=t.slice(0,n.depth);return P(r).each((function(t){var r,o,i,u,a,c,l=(r=n.itemAttributes,o=n.content,be(i=fe.fromTag("li",e),r),Ae(i,o),i);Oe((u=t).list,l),u.item=l,c=n,he((a=t).list)!==c.listType&&(a.list=De(a.list,c.listType)),be(a.list,c.listAttributes)})),r}function Ge(e,t,n){var r,o=function(e,t,n){for(var r,o,i,u=[],a=0;a<n;a++)u.push((o=t.listType,Oe((i={list:fe.fromTag(o,r=e),item:fe.fromTag("li",r)}).list,i.item),i));return u}(e,n,n.depth-t.length);return function(e){for(var t=1;t<e.length;t++)Ze(e[t-1],e[t])}(o),function(e,t){for(var n=0;n<e.length-1;n++)!function(e,t,n){if(!l(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);void 0!==e.style&&m(e.style.getPropertyValue)&&e.style.setProperty(t,n)}(e[n].item.dom,"list-style-type","none");P(e).each((function(e){be(e.list,t.listAttributes),be(e.item,t.itemAttributes),Ae(e.item,t.content)}))}(o,n),r=o,Ve(P(t),R(r),Ze),t.concat(o)}function Ye(e){return function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}(e,"OL,UL")}function Qe(e){return Ce(e).exists(Ye)}function Je(e){return 0<e.depth}function et(e){return e.isSelected}function tt(e){return w(e,(function(t,r){function o(e){return e.depth===c&&!e.dirty}function i(e){return e.depth<c}var u,a,c;c=(u=e)[a=r].depth,C(O(u.slice(0,a)),o,i).orThunk((function(){return C(u.slice(a+1),o,i)})).fold((function(){var e,r,o,i,u,a;t.dirty&&(t.listAttributes=(e=t.listAttributes,o=function(e,t){return"start"!==t},i=r={},u=function(e,t){i[t]=e},a=n,z(e,(function(e,t){(o(0,t)?u:a)(e,t)})),r))}),(function(e){var n=e;t.listType=n.listType,t.listAttributes=F({},n.listAttributes)}))})),e}function nt(e,t,n,r){return Ce(r).filter(Ye).fold((function(){t.each((function(e){j(e.start,r)&&n.set(!0)}));var o,i,u,a=(o=r,i=e,u=n.get(),we(o).filter(At).map((function(e){return{depth:i,dirty:!1,isSelected:u,content:(n=xe(t=o),y(Te(t).exists(Ye)?n.slice(0,-1):n,Pe)),itemAttributes:ye(o),listAttributes:ye(e),listType:he(e)};var t,n})));t.each((function(e){j(e.end,r)&&n.set(!1)}));var c=Te(r).filter(Ye).map((function(r){return Ht(e,t,n,r)})).getOr([]);return a.toArray().concat(c)}),(function(r){return Ht(e,t,n,r)}))}function rt(e,t){return y(tt(t),(function(t){var n,r,o=(n=t.content,r=document.createDocumentFragment(),w(n,(function(e){r.appendChild(e.dom)})),fe.fromDom(r));return fe.fromDom(Le(e,o.dom))}))}function ot(e,t){var n=tt(t),r=e.contentDocument;return R(S(n,(function(e,t){return(t.depth>e.length?Ge:Xe)(r,e,t)}),[])).map((function(e){return e.list})).toArray()}function it(e,t){var n,r,o,i,a,c,l,s,f,d,m,g,p,h=y((i=qe(o=r=e,o.selection.getStart()),a=x(o.selection.getSelectedBlocks(),_t),c=i.toArray().concat(a),Wt(r,c)),fe.fromDom),v=y(x(He(e),Ft),fe.fromDom),b=!1;return(h.length||v.length)&&(n=e.selection.getBookmark(),s=t,w((f=h,p=y(He(l=e),fe.fromDom),d=Ve(T(p,u(Qe)),T(O(p),u(Qe)),(function(e,t){return{start:e,end:t}})),m=!1,g={get:function(){return m},set:function(e){m=e}},y(f,(function(e){return{sourceList:e,entries:Ht(0,d,g,e)}}))),(function(e){!function(e,t){w(x(e,et),(function(e){return function(e){switch(t){case"Indent":e.depth++;break;case"Outdent":e.depth--;break;case"Flatten":e.depth=0}e.dirty=!0}(e),0}))}(e.entries,s);var t,n,r=(t=l,k(function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,u=e.length;i<u;i++){var a=e[i],c=t(a);c!==n&&(r.push(o),o=[]),n=c,o.push(a)}return 0!==o.length&&r.push(o),r}(e.entries,Je),(function(e){return(R(e).exists(Je)?ot:rt)(t,e)})));w(r,(function(e){Ke(l,"Indent"===s?"IndentList":"OutdentList",e.dom)})),n=e.sourceList,w(r,(function(e){ke(n,e)})),Re(e.sourceList)})),function(e,t,n){w(n,"Indent"===t?je:function(t){return n=e,Lt(r=t)?De(r,"dt"):jt(r)&&we(r).each((function(e){return function(e,t,n){var r=It.select('span[data-mce-type="bookmark"]',t),o=Le(e,n),i=It.createRng();i.setStartAfter(n),i.setEndAfter(t);for(var u,a=i.extractContents(),c=a.firstChild;c;c=c.firstChild)if("LI"===c.nodeName&&e.dom.isEmpty(c)){It.remove(c);break}e.dom.isEmpty(a)||It.insertAfter(a,t),It.insertAfter(o,t),Me(e.dom,n.parentNode)&&(u=n.parentNode,Pt.each(r,(function(e){u.parentNode.insertBefore(e,n.parentNode)})),It.remove(u)),It.remove(n),Me(e.dom,t)&&It.remove(t)}(n,e.dom,r.dom)})),0;var n,r})}(e,t,v),e.selection.moveToBookmark(n),e.selection.setRng($e(e.selection.getRng())),e.nodeChanged(),b=!0),b}function ut(e){return it(e,"Indent")}function at(e){return it(e,"Outdent")}function ct(e){return it(e,"Flatten")}function lt(e){function t(t){var r,o=e[t?"startContainer":"endContainer"],i=e[t?"startOffset":"endOffset"];1===o.nodeType&&(r=Ut.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),t?o.insertBefore(r,o.childNodes[i]):Ut.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),n[t?"startContainer":"endContainer"]=o,n[t?"startOffset":"endOffset"]=i}var n={};return t(!0),e.collapsed||t(),n}function st(e){function t(t){var n,r=n=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];r&&(1===r.nodeType&&(o=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(r),r=r.parentNode,Ut.remove(n),!r.hasChildNodes()&&Ut.isBlock(r)&&r.appendChild(Ut.create("br"))),e[t?"startContainer":"endContainer"]=r,e[t?"startOffset":"endOffset"]=o)}t(!0),t();var n=Ut.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),$e(n)}function ft(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}}function dt(e){return/\btox\-/.test(e.className)}function mt(e,t,n){function r(e){var r=C(e.parents,Dt,Bt).filter((function(e){return e.nodeName===t&&!dt(e)})).isSome();n(r)}return r({parents:e.dom.getParents(e.selection.getNode())}),e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}function gt(e,t){Pt.each(t,(function(t,n){e.setAttribute(n,t)}))}function pt(e,t,n){var r,o,i,u=n["list-style-type"]||null;e.setStyle(t,"list-style-type",u),r=e,gt(o=t,(i=n)["list-attributes"]),Pt.each(r.select("li",o),(function(e){gt(e,i["list-item-attributes"])}))}function ht(e,t,n,r){var o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];for(1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&Mt(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(Fe(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o}function vt(e,t,n){var r,o,i=e.selection.getRng(),u="LI",a=$t(e,e.selection.getStart(!0)),c=e.dom;"false"!==c.getContentEditable(e.selection.getNode())&&("DL"===(t=t.toUpperCase())&&(u="DT"),r=lt(i),o=function(e,t,n){for(var r,o=[],i=e.dom,u=ht(e,t,!0,n),a=ht(e,t,!1,n),c=[],l=u;l&&(c.push(l),l!==a);l=l.nextSibling);return Pt.each(c,(function(t){if(Fe(e,t))return o.push(t),void(r=null);if(i.isBlock(t)||Mt(t))return Mt(t)&&i.remove(t),void(r=null);var u=t.nextSibling;qt.isBookmarkNode(t)&&(Dt(u)||Fe(e,u)||!u&&t.parentNode===n)?r=null:(r||(r=i.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),r.appendChild(t))})),o}(e,i,a),Pt.each(o,(function(r){var o,i,a,l,s,f=r.previousSibling,d=r.parentNode;Nt(d)||(f&&Dt(f)&&f.nodeName===t&&(l=n,c.getStyle(f,"list-style-type")===(s=null===(s=l?l["list-style-type"]:"")?"":s))?(o=f,r=c.rename(r,u),f.appendChild(r)):(o=c.create(t),r.parentNode.insertBefore(o,r),o.appendChild(r),r=c.rename(r,u)),i=c,a=r,Pt.each(["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],(function(e){var t;return i.setStyle(a,((t={})[e]="",t))})),pt(c,o,n),Vt(e.dom,o))})),e.selection.setRng(st(r)))}function bt(e,t,n){return u=n,(i=t)&&u&&Dt(i)&&i.nodeName===u.nodeName&&(o=n,(r=e).getStyle(t,"list-style-type",!0)===r.getStyle(o,"list-style-type",!0))&&t.className===n.className;var r,o,i,u}function yt(e,t,n){var r,o,i,u,a,c,l,f,d,m,g,p,h,v,b,y,w,S=We(e),C=(f=We(l=e),d=l.selection.getSelectedBlocks(),f&&1===d.length&&d[0]===f?x(f.querySelectorAll("ol,ul,dl"),Dt):x(d,(function(e){return Dt(e)&&f!==e}))),T=s(n)?n:{};0<C.length?(m=e,p=C,h=t,v=T,(w=Dt(g=S))&&g.nodeName===h&&!Kt(v)?ct(m):(vt(m,h,v),b=lt(m.selection.getRng()),y=w?function(e,t){for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||((n=n||Array.prototype.slice.call(t,0,r))[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}([g],p):p,Pt.each(y,(function(e){var t,n,r=m,o=h,i=v;(t=e).nodeName!==o?(n=r.dom.rename(t,o),pt(r.dom,n,i),Ke(r,ft(o),n)):(pt(r.dom,t,i),Ke(r,ft(o),t))})),m.selection.setRng(st(b)))):(i=t,u=T,(o=S)!==(r=e).getBody()&&(o?o.nodeName!==i||Kt(u)||dt(o)?(a=lt(r.selection.getRng()),pt(r.dom,o,u),c=r.dom.rename(o,i),Vt(r.dom,c),r.selection.setRng(st(a)),vt(r,i,u),Ke(r,ft(i),c)):ct(r):(vt(r,i,u),Ke(r,ft(i),o))))}function wt(e,t,n,r){var o=t.startContainer,i=t.startOffset;if(Ne(o)&&(n?i<o.data.length:0<i))return o;var u=e.schema.getNonEmptyElements();1===o.nodeType&&(o=de.getNode(o,i));var a,c,l=new me(o,r);for(n&&(a=e.dom,Mt(c=o)&&a.isBlock(c.nextSibling)&&!Mt(c.previousSibling)&&l.next());o=l[n?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(u[o.nodeName])return o;if(Ne(o)&&0<o.data.length)return o}}function xt(e,t){var n=t.childNodes;return 1===n.length&&!Dt(n[0])&&e.isBlock(n[0])}function St(e,t,n){var r,o,i,u=t.parentNode;Ie(e,t)&&Ie(e,n)&&(Dt(n.lastChild)&&(r=n.lastChild),u===n.lastChild&&Mt(u.previousSibling)&&e.remove(u.previousSibling),(o=n.lastChild)&&Mt(o)&&t.hasChildNodes()&&e.remove(o),Me(e,n,!0)&&e.$(n).empty(),function(e,t,n){var r,o,i,u=xt(e,n)?n.firstChild:n;if(xt(o=e,i=t)&&o.remove(i.firstChild,!0),!Me(e,t,!0))for(;r=t.firstChild;)u.appendChild(r)}(e,t,n),r&&n.appendChild(r),i=function(e,t){return se().browser.isIE()?(n=e.dom,r=t.dom,o=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(n.compareDocumentPosition(r)&o)):(i=e.dom)!==(u=t.dom)&&i.contains(u);var n,r,o,i,u}(fe.fromDom(n),fe.fromDom(t))?e.getParents(t,Dt,n):[],e.remove(t),w(i,(function(t){Me(e,t)&&t!==e.getRoot()&&e.remove(t)})))}function Ct(e,t){return e.selection.isCollapsed()?function(e,t){var n=e.dom,r=e.selection,o=r.getStart(),i=$t(e,o),u=n.getParent(r.getStart(),"LI",i);if(u){var a=u.parentNode;if(a===e.getBody()&&Me(n,a))return 1;var c=$e(r.getRng()),l=n.getParent(wt(e,c,t,i),"LI",i);if(l&&l!==u)return e.undoManager.transact((function(){var n,r,o,i,a,s,f,d,m;t?(r=c,o=l,i=u,(m=(n=e).dom).isEmpty(i)?(f=o,(s=n).dom.$(d=i).empty(),St(s.dom,f,d),s.selection.setCursorLocation(d,0)):(a=lt(r),St(m,o,i),n.selection.setRng(st(a)))):u.parentNode.firstChild===u?at(e):function(e,t,n){var r=lt(c);St(e.dom,t,n);var o=st(r);e.selection.setRng(o)}(e,u,l)})),1;if(!l&&!t&&0===c.startOffset&&0===c.endOffset)return e.undoManager.transact((function(){ct(e)})),1}}(i=e,u=t)||function(e,t){var n=e.dom,r=e.selection.getStart(),o=$t(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var u=$e(e.selection.getRng()),a=n.getParent(wt(e,u,t,o),"LI",o);if(a)return e.undoManager.transact((function(){var r,u=i,c=(r=n).getParent(u.parentNode,r.isBlock,o);r.remove(u),c&&r.isEmpty(c)&&r.remove(c),Vt(n,a.parentNode),e.selection.select(a,!0),e.selection.collapse(t)})),1}}(i,u):(r=(n=e).selection.getStart(),o=$t(n,r),(n.dom.getParent(r,"LI,DT,DD",o)||0<He(n).length)&&(n.undoManager.transact((function(){var e,t,r;n.execCommand("Delete"),e=n.dom,t=n.getBody(),r=Pt.grep(e.select("ol,ul",t)),Pt.each(r,(function(t){var n,r,o,i=e;"LI"===(o=(n=t).parentNode).nodeName&&o.firstChild===n&&((r=o.previousSibling)&&"LI"===r.nodeName?(r.appendChild(n),Me(i,o)&&Zt.remove(o)):Zt.setStyle(o,"listStyleType","none")),Dt(o)&&(r=o.previousSibling)&&"LI"===r.nodeName&&r.appendChild(n)}))})),1));var n,r,o,i,u}function Tt(e){return S(y(O(Y(e).split("")),(function(e,t){var n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n})),(function(e,t){return e+t}),0)}function kt(e,t){return function(){var n=We(e);return n&&n.nodeName===t}}function Ot(e){e.addCommand("mceListProps",(function(){var t,n,r,o;o=We(t=e),Et(o)&&t.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:(n={start:t.dom.getAttrib(o,"start","1"),listStyleType:_.some(t.dom.getStyle(o,"list-style-type"))},r=parseInt(n.start,10),Ue(n.listStyleType,"upper-alpha")?Xt(r):Ue(n.listStyleType,"lower-alpha")?Xt(r).toLowerCase():n.start)},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(e){(function(e){switch(/^[0-9]+$/.test(t=e)?2:/^[A-Z]+$/.test(t)?0:/^[a-z]+$/.test(t)?1:0<t.length?4:3){case 2:return _.some({listStyleType:_.none(),start:e});case 0:return _.some({listStyleType:_.some("upper-alpha"),start:Tt(e).toString()});case 1:return _.some({listStyleType:_.some("lower-alpha"),start:Tt(e).toString()});case 3:return _.some({listStyleType:_.none(),start:""});case 4:return _.none()}var t})(e.getData().start).each((function(e){t.execCommand("mceListUpdate",!1,{attrs:{start:"1"===e.start?"":e.start},styles:{"list-style-type":e.listStyleType.getOr("")}})})),e.close()}})}))}function At(e){return 1===e.dom.nodeType}"undefined"!=typeof window||Function("return this;")();var Rt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Pt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Dt=Ee(/^(OL|UL|DL)$/),_t=Ee(/^(OL|UL)$/),Et=_e("ol"),Nt=Ee(/^(LI|DT|DD)$/),Ft=Ee(/^(DT|DD)$/),Bt=Ee(/^(TH|TD)$/),Mt=_e("br"),It=Rt.DOM,Lt=ve("dd"),jt=ve("dt"),zt=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),$t=function(e,t){var n=e.dom.getParents(t,"TD,TH");return 0<n.length?n[0]:e.getBody()},Wt=function(e,t){var n=y(t,(function(t){return qe(e,t).getOr(t)}));return zt.unique(n)},Ht=function(e,t,n,r){return k(xe(r),(function(r){return(Ye(r)?Ht:nt)(e+1,t,n,r)}))},qt=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Ut=Rt.DOM,Vt=function(e,t){var n,r=t.nextSibling;if(bt(e,t,r)){for(;n=r.firstChild;)t.appendChild(n);e.remove(r)}if(bt(e,t,r=t.previousSibling)){for(;n=r.lastChild;)t.insertBefore(n,t.firstChild);e.remove(r)}},Kt=function(e){return"list-style-type"in e},Zt=Rt.DOM,Xt=function(e){if(--e<0)return"";var t=e%26,n=Math.floor(e/26);return Xt(n)+String.fromCharCode("A".charCodeAt(0)+t)};c.add("lists",(function(e){var t,n,r,o,i,u,a,c;return!1===e.hasPlugin("rtc",!0)?((u=e).getParam("lists_indent_on_tab",!0)&&(a=u).on("keydown",(function(e){e.keyCode!==ge.TAB||ge.metaKeyPressed(e)||a.undoManager.transact((function(){(e.shiftKey?at:ut)(a)&&e.preventDefault()}))})),(c=u).on("keydown",(function(e){e.keyCode===ge.BACKSPACE?Ct(c,!1)&&e.preventDefault():e.keyCode===ge.DELETE&&Ct(c,!0)&&e.preventDefault()})),(i=e).on("BeforeExecCommand",(function(e){var t=e.command.toLowerCase();"indent"===t?ut(i):"outdent"===t&&at(i)})),i.addCommand("InsertUnorderedList",(function(e,t){yt(i,"UL",t)})),i.addCommand("InsertOrderedList",(function(e,t){yt(i,"OL",t)})),i.addCommand("InsertDefinitionList",(function(e,t){yt(i,"DL",t)})),i.addCommand("RemoveList",(function(){ct(i)})),Ot(i),i.addCommand("mceListUpdate",(function(e,t){var n,r,o;s(t)&&(r=t,o=We(n=i),n.undoManager.transact((function(){s(r.styles)&&n.dom.setStyles(o,r.styles),s(r.attrs)&&z(r.attrs,(function(e,t){return n.dom.setAttrib(o,t,e)}))})))})),i.addQueryStateHandler("InsertUnorderedList",kt(i,"UL")),i.addQueryStateHandler("InsertOrderedList",kt(i,"OL")),i.addQueryStateHandler("InsertDefinitionList",kt(i,"DL"))):Ot(e),(o=e).hasPlugin("advlist")||(o.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:l("InsertOrderedList"),onSetup:function(e){return mt(o,"OL",e.setActive)}}),o.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:l("InsertUnorderedList"),onSetup:function(e){return mt(o,"UL",e.setActive)}})),n={text:"List properties...",icon:"ordered-list",onAction:function(){return t.execCommand("mceListProps")},onSetup:function(e){return mt(t,"OL",(function(t){return e.setDisabled(!t)}))}},(t=e).ui.registry.addMenuItem("listprops",n),t.ui.registry.addContextMenu("lists",{update:function(e){var n=We(t,e);return Et(n)?["listprops"]:[]}}),r=e,{backspaceDelete:function(e){Ct(r,e)}};function l(e){return function(){return o.execCommand(e)}}}))}()},42540:function(e,t,n){n(33167)},33167:function(){!function(){"use strict";var e,t,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=function(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}},i=o("string"),u=o("object"),a=o("array"),c=function(e){return!function(e){return null==e}(e)},l=function(){},s=function(e){return function(){return e}},f=function(e){return e},d=s(!1),m=s(!0),g=function(){return p},p={fold:function(e,t){return e()},isSome:d,isNone:m,getOr:t=f,getOrThunk:e=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:t,orThunk:e,map:g,each:l,bind:g,exists:d,forall:m,filter:function(){return g()},toArray:function(){return[]},toString:s("none()")},h=function(e){var t=s(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:m,isNone:d,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return h(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:p},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},v={some:h,none:g,from:function(e){return null==e?p:h(e)}},b=Array.prototype.push,y=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},w=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);b.apply(t,e[n])}return t},x=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},S=Object.keys,C=Object.hasOwnProperty,T=function(e,t){return k(e,t)?v.from(e[t]):v.none()},k=function(e,t){return C.call(e,t)},O=function(e){return e.getParam("media_scripts")},A=function(e){return e.getParam("media_live_embeds",!0)},R=tinymce.util.Tools.resolve("tinymce.util.Tools"),P=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),D=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),_=function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]},E=P.DOM,N=function(e){return e.replace(/px$/,"")},F=function(e,t){var n=x(!1),r={};return D({validate:!1,allow_conditional_comments:!0,start:function(t,o){if(n.get());else if(k(o.map,"data-ephox-embed-iri"))n.set(!0),r=function(e){var t=e.map.style,n=t?E.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.map["data-ephox-embed-iri"],altsource:"",poster:"",width:T(n,"max-width").map(N).getOr(""),height:T(n,"max-height").map(N).getOr("")}}(o);else{if(r.source||"param"!==t||(r.source=o.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(r.type||(r.type=t),r=R.extend(o.map,r)),"script"===t){var i=_(e,o.map.src);if(!i)return;r={type:"script",source:o.map.src,width:String(i.width),height:String(i.height)}}"source"===t&&(r.source?r.altsource||(r.altsource=o.map.src):r.source=o.map.src),"img"!==t||r.poster||(r.poster=o.map.src)}}}).parse(t),r.source=r.source||r.src||r.data,r.altsource=r.altsource||"",r.poster=r.poster||"",r},B=function(e){var t={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[e.toLowerCase().split(".").pop()];return t||""},M=tinymce.util.Tools.resolve("tinymce.html.Schema"),I=tinymce.util.Tools.resolve("tinymce.html.Writer"),L=P.DOM,j=function(e){return/^[0-9.]+$/.test(e)?e+"px":e},z=function(e,t){!function(e,t){for(var n=S(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}(t,(function(t,n){var r=""+t;if(e.map[n])for(var o=e.length;o--;){var i=e[o];i.name===n&&(r?(e.map[n]=r,i.value=r):(delete e.map[n],e.splice(o,1)))}else r&&(e.push({name:n,value:r}),e.map[n]=r)}))},$=["source","altsource"],W=function(e,t,n){var r,o=I(),i=x(!1),u=0;return D({validate:!1,allow_conditional_comments:!0,comment:function(e){o.comment(e)},cdata:function(e){o.cdata(e)},text:function(e,t){o.text(e,t)},start:function(e,a,c){if(i.get());else if(k(a.map,"data-ephox-embed-iri"))i.set(!0),function(e,t){var n=t.map.style,r=n?L.parseStyle(n):{};r["max-width"]=j(e.width),r["max-height"]=j(e.height),z(t,{style:L.serializeStyle(r)})}(t,a);else{switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&z(a,{width:t.width,height:t.height})}if(n)switch(e){case"video":z(a,{poster:t.poster,src:""}),t.altsource&&z(a,{src:""});break;case"iframe":z(a,{src:t.source});break;case"source":if(u<2&&(z(a,{src:t[$[u]],type:t[$[u]+"mime"]}),!t[$[u]]))return;u++;break;case"img":if(!t.poster)return;r=!0}}o.start(e,a,c)},end:function(e){if(!i.get()){if("video"===e&&n)for(var a=0;a<2;a++)if(t[$[a]]){var c=[];c.map={},u<=a&&(z(c,{src:t[$[a]],type:t[$[a]+"mime"]}),o.start("source",c,!0))}if(t.poster&&"object"===e&&n&&!r){var l=[];l.map={},z(l,{src:t.poster,width:t.width,height:t.height}),o.start("img",l,!0)}}o.end(e)}},M({})).parse(e),o.getContent()},H=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],q=function(e,t){for(var n=function(e){var t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"}(t),r=e.regex.exec(t),o=n+e.url,i=function(e){o=o.replace("$"+e,(function(){return r[e]?r[e]:""}))},u=0;u<r.length;u++)i(u);return o.replace(/\?$/,"")},U=function(e,t){var n=R.extend({},t);if(!n.source&&(R.extend(n,F(O(e),n.embed)),!n.source))return"";n.altsource||(n.altsource=""),n.poster||(n.poster=""),n.source=e.convertURL(n.source,"source"),n.altsource=e.convertURL(n.altsource,"source"),n.sourcemime=B(n.source),n.altsourcemime=B(n.altsource),n.poster=e.convertURL(n.poster,"poster");var r,o,i=(r=n.source,o=H.filter((function(e){return e.regex.test(r)})),o.length>0?R.extend({},o[0],{url:q(o[0],r)}):null);if(i&&(n.source=i.url,n.type=i.type,n.allowfullscreen=i.allowFullscreen,n.width=n.width||String(i.w),n.height=n.height||String(i.h)),n.embed)return W(n.embed,n,!0);var u=_(O(e),n.source);u&&(n.type="script",n.width=String(u.width),n.height=String(u.height));var a=function(e){return e.getParam("audio_template_callback")}(e),c=function(e){return e.getParam("video_template_callback")}(e);return n.width=n.width||"300",n.height=n.height||"150",R.each(n,(function(t,r){n[r]=e.dom.encode(""+t)})),"iframe"===n.type?function(e){var t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}(n):"application/x-shockwave-flash"===n.sourcemime?function(e){var t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+"</object>"}(n):-1!==n.sourcemime.indexOf("audio")?function(e,t){return t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>"}(n,a):"script"===n.type?function(e){return'<script src="'+e.source+'"><\/script>'}(n):function(e,t){return t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>"}(n,c)},V=function(e){return e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri")},K=tinymce.util.Tools.resolve("tinymce.util.Promise"),Z={},X=function(e){return function(t){return U(e,t)}},G=function(e,t){var n=function(e){return e.getParam("media_url_resolver")}(e);return n?function(e,t,n){return new K((function(r,o){var i=function(n){return n.html&&(Z[e.source]=n),r({url:e.source,html:n.html?n.html:t(e)})};Z[e.source]?i(Z[e.source]):n({url:e.source},i,o)}))}(t,X(e),n):function(e,t){return K.resolve({html:t(e),url:e.source})}(t,X(e))},Y=function(e,t){var n=t?function(e,t){return T(t,e).bind((function(e){return T(e,"meta")}))}(t,e).getOr({}):{},o=function(e,t,n){return function(r){var o,i=function(){return T(e,r)},a=function(){return T(t,r)},c=function(e){return T(e,"value").bind((function(e){return e.length>0?v.some(e):v.none()}))};return(o={})[r]=(r===n?i().bind((function(e){return u(e)?c(e).orThunk(a):a().orThunk((function(){return v.from(e)}))})):a().orThunk((function(){return i().bind((function(e){return u(e)?c(e):v.from(e)}))}))).getOr(""),o}}(e,n,t);return r(r(r(r(r({},o("source")),o("altsource")),o("poster")),o("embed")),function(e,t){var n={};return T(e,"dimensions").each((function(e){y(["width","height"],(function(r){T(t,r).orThunk((function(){return T(e,r)})).each((function(e){return n[r]=e}))}))})),n}(e,n))},Q=function(e){var t=r(r({},e),{source:{value:T(e,"source").getOr("")},altsource:{value:T(e,"altsource").getOr("")},poster:{value:T(e,"poster").getOr("")}});return y(["width","height"],(function(n){T(e,n).each((function(e){var r=t.dimensions||{};r[n]=e,t.dimensions=r}))})),t},J=function(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})}},ee=function(e,t){return F(O(e),t)},te=function(e,t){return function(n){if(i(n.url)&&n.url.trim().length>0){var o=n.html,u=ee(t,o),a=r(r({},u),{source:n.url,embed:o});e.setData(Q(a))}}},ne=function(e,t){var n=e.dom.select("*[data-mce-object]");e.insertContent(t),function(e,t){for(var n=e.dom.select("*[data-mce-object]"),r=0;r<t.length;r++)for(var o=n.length-1;o>=0;o--)t[r]===n[o]&&n.splice(o,1);e.selection.select(n[0])}(e,n),e.nodeChanged()},re=function(e,t,n){var r;t.embed=W(t.embed,t),t.embed&&(e.source===t.source||(r=t.source,k(Z,r)))?ne(n,t.embed):G(n,t).then((function(e){ne(n,e.html)})).catch(J(n))},oe=function(e){var t=function(e){var t=e.selection.getNode(),n=V(t)?e.serializer.serialize(t,{selection:!0}):"";return r({embed:n},F(O(e),n))}(e),n=x(t),o=Q(t),i=function(e){return e.getParam("media_dimensions",!0)}(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],u={title:"General",name:"general",items:w([[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],i])},a={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},c=[];(function(e){return e.getParam("media_alt_source",!0)})(e)&&c.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),function(e){return e.getParam("media_poster",!0)}(e)&&c.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var l={title:"Advanced",name:"advanced",items:c},s=[u,a];c.length>0&&s.push(l);var f={type:"tabpanel",tabs:s},d=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:f,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var r=Y(t.getData());re(n.get(),r,e),t.close()},onChange:function(t,o){switch(o.name){case"source":!function(t,n){var r=Y(n.getData(),"source");t.source!==r.source&&(te(d,e)({url:r.source,html:""}),G(e,r).then(te(d,e)).catch(J(e)))}(n.get(),t);break;case"embed":!function(t){var n=Y(t.getData()),r=ee(e,n.embed);t.setData(Q(r))}(t);break;case"dimensions":case"altsource":case"poster":!function(t,n){var o=Y(t.getData(),n),i=U(e,o);t.setData(Q(r(r({},o),{embed:i})))}(t,o.name)}n.set(Y(t.getData()))},initialData:o})},ie=tinymce.util.Tools.resolve("tinymce.html.Node"),ue=tinymce.util.Tools.resolve("tinymce.Env"),ae=tinymce.util.Tools.resolve("tinymce.html.DomParser"),ce=function(e,t){if(!1===function(e){return e.getParam("media_filter_html",!0)}(e))return t;var n,r=I();return D({validate:!1,allow_conditional_comments:!1,comment:function(e){n||r.comment(e)},cdata:function(e){n||r.cdata(e)},text:function(e,t){n||r.text(e,t)},start:function(t,o,i){if(n=!0,"script"!==t&&"noscript"!==t&&"svg"!==t){for(var u=o.length-1;u>=0;u--){var a=o[u].name;0===a.indexOf("on")&&(delete o.map[a],o.splice(u,1)),"style"===a&&(o[u].value=e.dom.serializeStyle(e.dom.parseStyle(o[u].value),t))}r.start(t,o,i),n=!1}},end:function(e){n||r.end(e)}},M({})).parse(t),r.getContent()},le=function(e){var t=e.name;return"iframe"===t||"video"===t||"audio"===t},se=function(e,t,n,r){void 0===r&&(r=null);var o=e.attr(n);return c(o)?o:k(t,n)?null:r},fe=function(e,t,n){var r="img"===t.name||"video"===e.name,o=r?"300":null,i="audio"===e.name?"30":"150",u=r?i:null;t.attr({width:se(e,n,"width",o),height:se(e,n,"height",u)})},de=function(e,t){var n=t.name,r=new ie("img",1);return r.shortEnded=!0,ge(e,t,r),fe(t,r,{}),r.attr({style:t.attr("style"),src:ue.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),r},me=function(e,t){var n=t.name,r=new ie("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n}),ge(e,t,r);var o=e.dom.parseStyle(t.attr("style")),i=new ie(n,1);if(fe(t,i,o),i.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===n)i.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0"});else{y(["controls","crossorigin","currentTime","loop","muted","poster","preload"],(function(e){i.attr(e,t.attr(e))}));var u=r.attr("data-mce-html");c(u)&&function(e,t,n,r){for(var o=ae({forced_root_block:!1,validate:!1},e.schema).parse(r,{context:t});o.firstChild;)n.append(o.firstChild)}(e,n,i,unescape(u))}var a=new ie("span",1);return a.attr("class","mce-shim"),r.append(i),r.append(a),r},ge=function(e,t,n){for(var r=t.attributes,o=r.length;o--;){var i=r[o].name,u=r[o].value;"width"!==i&&"height"!==i&&"style"!==i&&("data"!==i&&"src"!==i||(u=e.convertURL(u,i)),n.attr("data-mce-p-"+i,u))}var a=t.firstChild&&t.firstChild.value;a&&(n.attr("data-mce-html",escape(ce(e,a))),n.firstChild=null)},pe=function(e){var t=e.attr("class");return t&&/\btiny-pageembed\b/.test(t)},he=function(e){for(;e=e.parent;)if(e.attr("data-ephox-embed-iri")||pe(e))return!0;return!1},ve=function(e){e.on("preInit",(function(){var t=e.schema.getSpecialElements();R.each("video audio iframe object".split(" "),(function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")}));var n=e.schema.getBoolAttrs();R.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(e){n[e]={}})),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",function(e){return function(t){for(var n,r,o=t.length;o--;)(n=t[o]).parent&&(n.parent.attr("data-mce-object")||("script"!==n.name||(r=_(O(e),n.attr("src"))))&&(r&&(r.width&&n.attr("width",r.width.toString()),r.height&&n.attr("height",r.height.toString())),le(n)&&A(e)&&ue.ceFalse?he(n)||n.replace(me(e,n)):he(n)||n.replace(de(e,n))))}}(e)),e.serializer.addAttributeFilter("data-mce-object",(function(t,n){for(var r,o,i,u,a,c,l,s,f=t.length;f--;)if((r=t[f]).parent){for(l=r.attr(n),o=new ie(l,1),"audio"!==l&&"script"!==l&&((s=r.attr("class"))&&-1!==s.indexOf("mce-preview-object")?o.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):o.attr({width:r.attr("width"),height:r.attr("height")})),o.attr({style:r.attr("style")}),i=(u=r.attributes).length;i--;){var d=u[i].name;0===d.indexOf("data-mce-p-")&&o.attr(d.substr(11),u[i].value)}"script"===l&&o.attr("type","text/javascript"),(a=r.attr("data-mce-html"))&&((c=new ie("#text",3)).raw=!0,c.value=ce(e,unescape(a)),o.append(c)),r.replace(o)}}))})),e.on("SetContent",(function(){e.$("span.mce-preview-object").each((function(t,n){var r=e.$(n);0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')}))}))};n.add("media",(function(e){return function(e){e.addCommand("mceMedia",(function(){oe(e)}))}(e),function(e){var t=function(){return e.execCommand("mceMedia")};e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:function(t){var n=e.selection;return t.setActive(V(n.getNode())),n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t})}(e),function(e){e.on("ResolveName",(function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))}(e),ve(e),function(e){e.on("click keyup touchend",(function(){var t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectSelected",(function(e){"script"===e.target.getAttribute("data-mce-object")&&e.preventDefault()})),e.on("ObjectResized",(function(e){var t=e.target;if(t.getAttribute("data-mce-object")){var n=t.getAttribute("data-mce-html");n&&(n=unescape(n),t.setAttribute("data-mce-html",escape(W(n,{width:String(e.width),height:String(e.height)}))))}}))}(e),function(e){return{showDialog:function(){oe(e)}}}(e)}))}()},78471:function(){!function(){"use strict";function e(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"==r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}}function t(e){return null!=e}function n(e){return function(){return e}}function r(e){return e}function o(){return d}var i=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=e("string"),c=e("object"),l=e("array"),s=n(!1),f=n(!0),d={fold:function(e,t){return e()},isSome:s,isNone:f,getOr:r,getOrThunk:m,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:n(null),getOrUndefined:n(void 0),or:r,orThunk:m,map:o,each:function(){},bind:o,exists:s,forall:f,filter:function(){return d},toArray:function(){return[]},toString:n("none()")};function m(e){return e()}function g(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function p(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}function h(e,t){return K(e,t)?H.from(e[t]):H.none()}function v(e){return e.getParam("media_scripts")}function b(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]}function y(e){return e.replace(/px$/,"")}function w(e,t){var n=p(!1),r={};return G({validate:!1,allow_conditional_comments:!0,start:function(t,o){if(!n.get())if(K(o.map,"data-ephox-embed-iri"))n.set(!0),c=(a=(u=o).map.style)?Y.parseStyle(a):{},r={type:"ephox-embed-iri",source:u.map["data-ephox-embed-iri"],altsource:"",poster:"",width:h(c,"max-width").map(y).getOr(""),height:h(c,"max-height").map(y).getOr("")};else{if(r.source||"param"!==t||(r.source=o.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(r.type||(r.type=t),r=Z.extend(o.map,r)),"script"===t){var i=b(e,o.map.src);if(!i)return;r={type:"script",source:o.map.src,width:String(i.width),height:String(i.height)}}"source"===t&&(r.source?r.altsource||(r.altsource=o.map.src):r.source=o.map.src),"img"!==t||r.poster||(r.poster=o.map.src)}var u,a,c}}).parse(t),r.source=r.source||r.src||r.data,r.altsource=r.altsource||"",r.poster=r.poster||"",r}function x(e){return{mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[e.toLowerCase().split(".").pop()]||""}function S(e){return/^[0-9.]+$/.test(e)?e+"px":e}function C(e,t){!function(t){for(var n=U(t),r=0,o=n.length;r<o;r++){var i=n[r];!function(t,n){var r=""+t;if(e.map[n])for(var o=e.length;o--;){var i=e[o];i.name===n&&(r?(e.map[n]=r,i.value=r):(delete e.map[n],e.splice(o,1)))}else r&&(e.push({name:n,value:r}),e.map[n]=r)}(t[i],i)}}(t)}function T(e,t,n){var r,o=J(),i=p(!1),u=0;return G({validate:!1,allow_conditional_comments:!0,comment:function(e){o.comment(e)},cdata:function(e){o.cdata(e)},text:function(e,t){o.text(e,t)},start:function(e,a,c){if(!i.get())if(K(a.map,"data-ephox-embed-iri"))i.set(!0),l=t,(d=(f=(s=a).map.style)?ee.parseStyle(f):{})["max-width"]=S(l.width),d["max-height"]=S(l.height),C(s,{style:ee.serializeStyle(d)});else{switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&C(a,{width:t.width,height:t.height})}if(n)switch(e){case"video":C(a,{poster:t.poster,src:""}),t.altsource&&C(a,{src:""});break;case"iframe":C(a,{src:t.source});break;case"source":if(u<2&&(C(a,{src:t[te[u]],type:t[te[u]+"mime"]}),!t[te[u]]))return;u++;break;case"img":if(!t.poster)return;r=!0}}var l,s,f,d;o.start(e,a,c)},end:function(e){if(!i.get()){if("video"===e&&n)for(var a,c=0;c<2;c++)t[te[c]]&&((a=[]).map={},u<=c&&(C(a,{src:t[te[c]],type:t[te[c]+"mime"]}),o.start("source",a,!0)));var l;t.poster&&"object"===e&&n&&!r&&((l=[]).map={},C(l,{src:t.poster,width:t.width,height:t.height}),o.start("img",l,!0))}o.end(e)}},Q({})).parse(e),o.getContent()}function k(e,t){for(var n,r=(n=t.match(/^(https?:\/\/|www\.)(.+)$/i))&&1<n.length&&"www."!==n[1]?n[1]:"https://",o=e.regex.exec(t),i=r+e.url,u=0;u<o.length;u++)!function(e){i=i.replace("$"+e,(function(){return o[e]||""}))}(u);return i.replace(/\?$/,"")}function O(e,t){var n=Z.extend({},t);if(!n.source&&(Z.extend(n,w(v(e),n.embed)),!n.source))return"";n.altsource||(n.altsource=""),n.poster||(n.poster=""),n.source=e.convertURL(n.source,"source"),n.altsource=e.convertURL(n.altsource,"source"),n.sourcemime=x(n.source),n.altsourcemime=x(n.altsource),n.poster=e.convertURL(n.poster,"poster");var r,o,i=(r=n.source,0<(o=ne.filter((function(e){return e.regex.test(r)}))).length?Z.extend({},o[0],{url:k(o[0],r)}):null);if(i&&(n.source=i.url,n.type=i.type,n.allowfullscreen=i.allowFullscreen,n.width=n.width||String(i.w),n.height=n.height||String(i.h)),n.embed)return T(n.embed,n,!0);var u=b(v(e),n.source);u&&(n.type="script",n.width=String(u.width),n.height=String(u.height));var a,c,l,s,f=e.getParam("audio_template_callback"),d=e.getParam("video_template_callback");return n.width=n.width||"300",n.height=n.height||"150",Z.each(n,(function(t,r){n[r]=e.dom.encode(""+t)})),"iframe"===n.type?(s=n.allowfullscreen?' allowFullscreen="1"':"",'<iframe src="'+n.source+'" width="'+n.width+'" height="'+n.height+'"'+s+"></iframe>"):"application/x-shockwave-flash"===n.sourcemime?(l='<object data="'+n.source+'" width="'+n.width+'" height="'+n.height+'" type="application/x-shockwave-flash">',n.poster&&(l+='<img src="'+n.poster+'" width="'+n.width+'" height="'+n.height+'" />'),l+"</object>"):-1!==n.sourcemime.indexOf("audio")?(c=n,f?f(c):'<audio controls="controls" src="'+c.source+'">'+(c.altsource?'\n<source src="'+c.altsource+'"'+(c.altsourcemime?' type="'+c.altsourcemime+'"':"")+" />\n":"")+"</audio>"):"script"===n.type?'<script src="'+n.source+'"><\/script>':(a=n,d?d(a):'<video width="'+a.width+'" height="'+a.height+'"'+(a.poster?' poster="'+a.poster+'"':"")+' controls="controls">\n<source src="'+a.source+'"'+(a.sourcemime?' type="'+a.sourcemime+'"':"")+" />\n"+(a.altsource?'<source src="'+a.altsource+'"'+(a.altsourcemime?' type="'+a.altsourcemime+'"':"")+" />\n":"")+"</video>")}function A(e){return e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri")}function R(e){return function(t){return O(e,t)}}function P(e,t){var n,r,o,i,u,a=e.getParam("media_url_resolver");return a?(o=t,i=R(e),u=a,new re((function(e,t){function n(t){return t.html&&(oe[o.source]=t),e({url:o.source,html:t.html||i(o)})}oe[o.source]?n(oe[o.source]):u({url:o.source},n,t)}))):(r=R(e),re.resolve({html:r(n=t),url:n.source}))}function D(e,t){var n,r,o,i,a,l=t?h(e,t).bind((function(e){return h(e,"meta")})).getOr({}):{},s=(o=e,i=l,a=t,function(e){function t(){return h(o,e)}function n(){return h(i,e)}function r(e){return h(e,"value").bind((function(e){return 0<e.length?H.some(e):H.none()}))}var u={};return u[e]=(e===a?t().bind((function(e){return c(e)?r(e).orThunk(n):n().orThunk((function(){return H.from(e)}))})):n().orThunk((function(){return t().bind((function(e){return c(e)?r(e):H.from(e)}))}))).getOr(""),u});return u(u(u(u(u({},s("source")),s("altsource")),s("poster")),s("embed")),(n=l,r={},h(e,"dimensions").each((function(e){g(["width","height"],(function(t){h(n,t).orThunk((function(){return h(e,t)})).each((function(e){return r[t]=e}))}))})),r))}function _(e){var t=u(u({},e),{source:{value:h(e,"source").getOr("")},altsource:{value:h(e,"altsource").getOr("")},poster:{value:h(e,"poster").getOr("")}});return g(["width","height"],(function(n){h(e,n).each((function(e){var r=t.dimensions||{};r[n]=e,t.dimensions=r}))})),t}function E(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})}}function N(e,t){return w(v(e),t)}function F(e,t){return function(n){var r,o,i;a(n.url)&&0<n.url.trim().length&&(r=n.html,o=N(t,r),i=u(u({},o),{source:n.url,embed:r}),e.setData(_(i)))}}function B(e,t){var n=e.dom.select("*[data-mce-object]");e.insertContent(t),function(e,t){for(var n=e.dom.select("*[data-mce-object]"),r=0;r<t.length;r++)for(var o=n.length-1;0<=o;o--)t[r]===n[o]&&n.splice(o,1);e.selection.select(n[0])}(e,n),e.nodeChanged()}function M(e){var t,n,r,o=(r=A(n=(t=e).selection.getNode())?t.serializer.serialize(n,{selection:!0}):"",u({embed:r},w(v(t),r))),i=p(o),a=_(o),c={title:"General",name:"general",items:function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);q.apply(t,e[n])}return t}([[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],e.getParam("media_dimensions",!0)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[]])},s=[];e.getParam("media_alt_source",!0)&&s.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),e.getParam("media_poster",!0)&&s.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var f=[c,{title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]}];0<s.length&&f.push({title:"Advanced",name:"advanced",items:s});var d=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:{type:"tabpanel",tabs:f},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var n,r,o,u,a=D(t.getData());n=i.get(),o=e,(r=a).embed=T(r.embed,r),r.embed&&(n.source===r.source||(u=r.source,K(oe,u)))?B(o,r.embed):P(o,r).then((function(e){B(o,e.html)})).catch(E(o)),t.close()},onChange:function(t,n){switch(n.name){case"source":m=i.get(),g=D(t.getData(),"source"),m.source!==g.source&&(F(d,e)({url:g.source,html:""}),P(e,g).then(F(d,e)).catch(E(e)));break;case"embed":s=D((l=t).getData()),f=N(e,s.embed),l.setData(_(f));break;case"dimensions":case"altsource":case"poster":o=n.name,a=D((r=t).getData(),o),c=O(e,a),r.setData(_(u(u({},a),{embed:c})))}var r,o,a,c,l,s,f,m,g;i.set(D(t.getData()))},initialData:a})}function I(e,t){if(!1===e.getParam("media_filter_html",!0))return t;var n,r=J();return G({validate:!1,allow_conditional_comments:!1,comment:function(e){n||r.comment(e)},cdata:function(e){n||r.cdata(e)},text:function(e,t){n||r.text(e,t)},start:function(t,o,i){if(n=!0,"script"!==t&&"noscript"!==t&&"svg"!==t){for(var u=o.length-1;0<=u;u--){var a=o[u].name;0===a.indexOf("on")&&(delete o.map[a],o.splice(u,1)),"style"===a&&(o[u].value=e.dom.serializeStyle(e.dom.parseStyle(o[u].value),t))}r.start(t,o,i),n=!1}},end:function(e){n||r.end(e)}},Q({})).parse(t),r.getContent()}function L(e,n,r,o){void 0===o&&(o=null);var i=e.attr(r);return t(i)?i:K(n,r)?null:o}function j(e,t,n){var r="img"===t.name||"video"===e.name,o="audio"===e.name?"30":"150",i=r?o:null;t.attr({width:L(e,n,"width",r?"300":null),height:L(e,n,"height",i)})}function z(e,n){var r=n.name,o=new ie("span",1);o.attr({contentEditable:"false",style:n.attr("style"),"data-mce-object":r,class:"mce-preview-object mce-object-"+r}),ce(e,n,o);var i,u=e.dom.parseStyle(n.attr("style")),a=new ie(r,1);j(n,a,u),a.attr({src:n.attr("src"),style:n.attr("style"),class:n.attr("class")}),"iframe"===r?a.attr({allowfullscreen:n.attr("allowfullscreen"),frameborder:"0"}):(g(["controls","crossorigin","currentTime","loop","muted","poster","preload"],(function(e){a.attr(e,n.attr(e))})),t(i=o.attr("data-mce-html"))&&function(e,t,n,r){for(var o=ae({forced_root_block:!1,validate:!1},e.schema).parse(r,{context:t});o.firstChild;)n.append(o.firstChild)}(e,r,a,unescape(i)));var c=new ie("span",1);return c.attr("class","mce-shim"),o.append(a),o.append(c),o}function $(e){for(;e=e.parent;)if(e.attr("data-ephox-embed-iri")||(t=e.attr("class"))&&/\btiny-pageembed\b/.test(t))return 1;var t}var W=function(e){function t(){return i}function r(t){return t(e)}var o=n(e),i={fold:function(t,n){return n(e)},isSome:f,isNone:s,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:t,orThunk:t,map:function(t){return W(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:d},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},H={some:W,none:o,from:function(e){return null==e?d:W(e)}},q=Array.prototype.push,U=Object.keys,V=Object.hasOwnProperty,K=function(e,t){return V.call(e,t)},Z=tinymce.util.Tools.resolve("tinymce.util.Tools"),X=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),G=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),Y=X.DOM,Q=tinymce.util.Tools.resolve("tinymce.html.Schema"),J=tinymce.util.Tools.resolve("tinymce.html.Writer"),ee=X.DOM,te=["source","altsource"],ne=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],re=tinymce.util.Tools.resolve("tinymce.util.Promise"),oe={},ie=tinymce.util.Tools.resolve("tinymce.html.Node"),ue=tinymce.util.Tools.resolve("tinymce.Env"),ae=tinymce.util.Tools.resolve("tinymce.html.DomParser"),ce=function(e,t,n){for(var r=t.attributes,o=r.length;o--;){var i=r[o].name,u=r[o].value;"width"!==i&&"height"!==i&&"style"!==i&&("data"!==i&&"src"!==i||(u=e.convertURL(u,i)),n.attr("data-mce-p-"+i,u))}var a=t.firstChild&&t.firstChild.value;a&&(n.attr("data-mce-html",escape(I(e,a))),n.firstChild=null)};i.add("media",(function(e){var t,n,r,o,i;function u(){return n.execCommand("mceMedia")}return(t=e).addCommand("mceMedia",(function(){M(t)})),(n=e).ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:u,onSetup:function(e){var t=n.selection;return e.setActive(A(t.getNode())),t.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",e.setActive).unbind}}),n.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:u}),e.on("ResolveName",(function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)})),(r=e).on("preInit",(function(){var e=r.schema.getSpecialElements();Z.each("video audio iframe object".split(" "),(function(t){e[t]=new RegExp("</"+t+"[^>]*>","gi")}));var t,n=r.schema.getBoolAttrs();Z.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(e){n[e]={}})),r.parser.addNodeFilter("iframe,video,audio,object,embed,script",(t=r,function(e){for(var n,r,o,i,u,a,c,l=e.length;l--;)(n=e[l]).parent&&(n.parent.attr("data-mce-object")||"script"===n.name&&!(r=b(v(t),n.attr("src")))||(r&&(r.width&&n.attr("width",r.width.toString()),r.height&&n.attr("height",r.height.toString())),("iframe"===(c=n.name)||"video"===c||"audio"===c)&&t.getParam("media_live_embeds",!0)&&ue.ceFalse?$(n)||n.replace(z(t,n)):$(n)||n.replace((o=t,a=void 0,u=(i=n).name,(a=new ie("img",1)).shortEnded=!0,ce(o,i,a),j(i,a,{}),a.attr({style:i.attr("style"),src:ue.transparentSrc,"data-mce-object":u,class:"mce-object mce-object-"+u}),a))))})),r.serializer.addAttributeFilter("data-mce-object",(function(e,t){for(var n,o,i,u,a,c,l,s,f=e.length;f--;)if((n=e[f]).parent){for(l=n.attr(t),o=new ie(l,1),"audio"!==l&&"script"!==l&&((s=n.attr("class"))&&-1!==s.indexOf("mce-preview-object")?o.attr({width:n.firstChild.attr("width"),height:n.firstChild.attr("height")}):o.attr({width:n.attr("width"),height:n.attr("height")})),o.attr({style:n.attr("style")}),i=(u=n.attributes).length;i--;){var d=u[i].name;0===d.indexOf("data-mce-p-")&&o.attr(d.substr(11),u[i].value)}"script"===l&&o.attr("type","text/javascript"),(a=n.attr("data-mce-html"))&&((c=new ie("#text",3)).raw=!0,c.value=I(r,unescape(a)),o.append(c)),n.replace(o)}}))})),r.on("SetContent",(function(){r.$("span.mce-preview-object").each((function(e,t){var n=r.$(t);0===n.find("span.mce-shim").length&&n.append('<span class="mce-shim"></span>')}))})),(o=e).on("click keyup touchend",(function(){var e=o.selection.getNode();e&&o.dom.hasClass(e,"mce-preview-object")&&o.dom.getAttrib(e,"data-mce-selected")&&e.setAttribute("data-mce-selected","2")})),o.on("ObjectSelected",(function(e){"script"===e.target.getAttribute("data-mce-object")&&e.preventDefault()})),o.on("ObjectResized",(function(e){var t,n=e.target;!n.getAttribute("data-mce-object")||(t=n.getAttribute("data-mce-html"))&&(t=unescape(t),n.setAttribute("data-mce-html",escape(T(t,{width:String(e.width),height:String(e.height)}))))})),i=e,{showDialog:function(){M(i)}}}))}()},31528:function(e,t,n){n(41100)},41100:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},n=function(e,n){var r=function(e){return e.getParam("nonbreaking_wrap",!0,"boolean")}(e),o=r||e.plugins.visualchars?'<span class="'+(function(e){return!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled()}(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap")+'" contenteditable="false">'+t("&nbsp;",n)+"</span>":t("&nbsp;",n);e.undoManager.transact((function(){return e.insertContent(o)}))},r=tinymce.util.Tools.resolve("tinymce.util.VK");e.add("nonbreaking",(function(e){!function(e){e.addCommand("mceNonBreaking",(function(){n(e,1)}))}(e),function(e){var t=function(){return e.execCommand("mceNonBreaking")};e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t})}(e),function(e){var t=function(e){var t=e.getParam("nonbreaking_force_tab",0);return"boolean"==typeof t?!0===t?3:0:t}(e);t>0&&e.on("keydown",(function(o){if(o.keyCode===r.TAB&&!o.isDefaultPrevented()){if(o.shiftKey)return;o.preventDefault(),o.stopImmediatePropagation(),n(e,t)}}))}(e)}))}()},9358:function(){!function(){"use strict";function e(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}function t(t,n){var r=t.getParam("nonbreaking_wrap",!0,"boolean")||t.plugins.visualchars?'<span class="'+(t.plugins.visualchars&&t.plugins.visualchars.isEnabled()?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap")+'" contenteditable="false">'+e("&nbsp;",n)+"</span>":e("&nbsp;",n);t.undoManager.transact((function(){return t.insertContent(r)}))}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.util.VK");n.add("nonbreaking",(function(e){var n,o,i,u,a;function c(){return o.execCommand("mceNonBreaking")}(n=e).addCommand("mceNonBreaking",(function(){t(n,1)})),(o=e).ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:c}),o.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:c}),0<(a="boolean"==typeof(u=(i=e).getParam("nonbreaking_force_tab",0))?!0===u?3:0:u)&&i.on("keydown",(function(e){e.keyCode!==r.TAB||e.isDefaultPrevented()||e.shiftKey||(e.preventDefault(),e.stopImmediatePropagation(),t(i,a))}))}))}()},45031:function(e,t,n){n(67814)},67814:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),n=function(e){return e.getParam("noneditable_noneditable_class","mceNonEditable")},r=function(e){return function(t){return-1!==(" "+t.attr("class")+" ").indexOf(e)}},o=function(e,t,n){return function(r){var o=arguments,i=o[o.length-2],u=i>0?t.charAt(i-1):"";if('"'===u)return r;if(">"===u){var a=t.lastIndexOf("<",i);if(-1!==a){var c=t.substring(a,i);if(-1!==c.indexOf('contenteditable="false"'))return r}}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode("string"==typeof o[1]?o[1]:o[0])+"</span>"}},i=function(e){var i="contenteditable",u=" "+t.trim(function(e){return e.getParam("noneditable_editable_class","mceEditable")}(e))+" ",a=" "+t.trim(n(e))+" ",c=r(u),l=r(a),s=function(e){var t=e.getParam("noneditable_regexp",[]);return t&&t.constructor===RegExp?[t]:t}(e);e.on("PreInit",(function(){s.length>0&&e.on("BeforeSetContent",(function(t){!function(e,t,r){var i=t.length,u=r.content;if("raw"!==r.format){for(;i--;)u=u.replace(t[i],o(e,u,n(e)));r.content=u}}(e,s,t)})),e.parser.addAttributeFilter("class",(function(e){for(var t,n=e.length;n--;)t=e[n],c(t)?t.attr(i,"true"):l(t)&&t.attr(i,"false")})),e.serializer.addAttributeFilter(i,(function(e){for(var t,n=e.length;n--;)t=e[n],(c(t)||l(t))&&(s.length>0&&t.attr("data-mce-content")?(t.name="#text",t.type=3,t.raw=!0,t.value=t.attr("data-mce-content")):t.attr(i,null))}))}))};e.add("noneditable",(function(e){i(e)}))}()},84039:function(){!function(){"use strict";function e(e){return e.getParam("noneditable_noneditable_class","mceNonEditable")}function t(e){return function(t){return-1!==(" "+t.attr("class")+" ").indexOf(e)}}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.util.Tools");n.add("noneditable",(function(n){!function(n){var o,i="contenteditable",u=" "+r.trim(n.getParam("noneditable_editable_class","mceEditable"))+" ",a=" "+r.trim(e(n))+" ",c=t(u),l=t(a),s=(o=n.getParam("noneditable_regexp",[]))&&o.constructor===RegExp?[o]:o;n.on("PreInit",(function(){0<s.length&&n.on("BeforeSetContent",(function(t){!function(t,n,r){var o=n.length,i=r.content;if("raw"!==r.format){for(;o--;)i=i.replace(n[o],function(e,t,n){return function(r){var o=arguments,i=o[o.length-2],u=0<i?t.charAt(i-1):"";if('"'===u)return r;if(">"===u){var a=t.lastIndexOf("<",i);if(-1!==a&&-1!==t.substring(a,i).indexOf('contenteditable="false"'))return r}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode("string"==typeof o[1]?o[1]:o[0])+"</span>"}}(t,i,e(t)));r.content=i}}(n,s,t)})),n.parser.addAttributeFilter("class",(function(e){for(var t,n=e.length;n--;)t=e[n],c(t)?t.attr(i,"true"):l(t)&&t.attr(i,"false")})),n.serializer.addAttributeFilter(i,(function(e){for(var t,n=e.length;n--;)t=e[n],(c(t)||l(t))&&(0<s.length&&t.attr("data-mce-content")?(t.name="#text",t.type=3,t.raw=!0,t.value=t.attr("data-mce-content")):t.attr(i,null))}))}))}(n)}))}()},78843:function(e,t,n){n(40243)},40243:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=function(e){return e.getParam("pagebreak_split_block",!1)},r="mce-pagebreak",o=function(e){var n='<img src="'+t.transparentSrc+'" class="'+'mce-pagebreak" data-mce-resize="false" data-mce-placeholder />';return e?"<p>"+n+"</p>":n};e.add("pagebreak",(function(e){!function(e){e.addCommand("mcePageBreak",(function(){e.insertContent(o(n(e)))}))}(e),function(e){var t=function(){return e.execCommand("mcePageBreak")};e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t})}(e),function(e){var t=function(e){return e.getParam("pagebreak_separator","\x3c!-- pagebreak --\x3e")}(e),i=function(){return n(e)},u=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(function(e){return"\\"+e})),"gi");e.on("BeforeSetContent",(function(e){e.content=e.content.replace(u,o(i()))})),e.on("PreInit",(function(){e.serializer.addNodeFilter("img",(function(n){for(var o,u,a=n.length;a--;)if((u=(o=n[a]).attr("class"))&&-1!==u.indexOf(r)){var c=o.parent;if(e.schema.getBlockElements()[c.name]&&i()){c.type=3,c.value=t,c.raw=!0,o.remove();continue}o.type=3,o.value=t,o.raw=!0}}))}))}(e),function(e){e.on("ResolveName",(function(t){"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,r)&&(t.name="pagebreak")}))}(e)}))}()},33042:function(){!function(){"use strict";function e(e){return e.getParam("pagebreak_split_block",!1)}function t(e){var t='<img src="'+r.transparentSrc+'" class="'+o+'" data-mce-resize="false" data-mce-placeholder />';return e?"<p>"+t+"</p>":t}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.Env"),o="mce-pagebreak";n.add("pagebreak",(function(n){var r,i,u,a,c,l;function s(){return i.execCommand("mcePageBreak")}function f(){return e(u)}(r=n).addCommand("mcePageBreak",(function(){r.insertContent(t(e(r)))})),(i=n).ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:s}),i.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:s}),a=(u=n).getParam("pagebreak_separator","\x3c!-- pagebreak --\x3e"),c=new RegExp(a.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(function(e){return"\\"+e})),"gi"),u.on("BeforeSetContent",(function(e){e.content=e.content.replace(c,t(f()))})),u.on("PreInit",(function(){u.serializer.addNodeFilter("img",(function(e){for(var t,n,r,i=e.length;i--;)(r=(n=e[i]).attr("class"))&&-1!==r.indexOf(o)&&(t=n.parent,u.schema.getBlockElements()[t.name]&&f()?(t.type=3,t.value=a,t.raw=!0,n.remove()):(n.type=3,n.value=a,n.raw=!0))}))})),(l=n).on("ResolveName",(function(e){"IMG"===e.target.nodeName&&l.dom.hasClass(e.target,o)&&(e.name="pagebreak")}))}))}()},22875:function(e,t,n){n(25103)},25103:function(){!function(){"use strict";var e,t,n,r,o,i=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},u=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=(e="array",function(t){return r=typeof(n=t),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}),c=function(e){return!function(e){return null==e}(e)},l=function(e){return function(t){return typeof t===e}}("function"),s=function(){},f=function(e){return function(){return e}},d=function(e){return e},m=f(!1),g=f(!0),p=function(){return h},h={fold:function(e,t){return e()},isSome:m,isNone:g,getOr:n=d,getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:n,orThunk:t,map:p,each:s,bind:p,exists:m,forall:g,filter:function(){return p()},toArray:function(){return[]},toString:f("none()")},v=function(e){var t=f(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:g,isNone:m,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return v(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:h},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},b={some:v,none:p,from:function(e){return null==e?h:v(e)}},y=Array.prototype.slice,w=Array.prototype.push,x=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},S=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},C=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},T=function(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);w.apply(t,e[n])}return t}(S(e,t))},k=l(Array.from)?Array.from:function(e){return y.call(e)},O=function(){return O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},O.apply(this,arguments)},A=function(){var e=function(e){var t=i(b.none()),n=function(){return t.get().each(e)};return{clear:function(){n(),t.set(b.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){n(),t.set(b.some(e))}}}(s);return O(O({},e),{on:function(t){return e.get().each(t)}})},R=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},P=tinymce.util.Tools.resolve("tinymce.Env"),D=tinymce.util.Tools.resolve("tinymce.util.Delay"),_=tinymce.util.Tools.resolve("tinymce.util.Promise"),E=tinymce.util.Tools.resolve("tinymce.util.VK"),N=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},F=tinymce.util.Tools.resolve("tinymce.util.Tools"),B=function(e){return e.getParam("paste_data_images",!1)},M=function(e){return e.getParam("paste_merge_formats",!0)},I=function(e){return e.getParam("paste_retain_style_properties")},L=function(e){return e.getParam("validate")},j=function(e){return e.getParam("allow_html_data_urls",!1,"boolean")},z=function(e){return e.getParam("paste_data_images",!1,"boolean")},$=function(e){return F.explode(e.getParam("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string"))},W="x-tinymce/html",H="\x3c!-- x-tinymce/html --\x3e",q=function(e){return-1!==e.indexOf(H)},U=f(W),V=Object.hasOwnProperty,K=function(e,t){return V.call(e,t)},Z=tinymce.util.Tools.resolve("tinymce.html.Entities"),X=function(e,t,n){var r=e.split(/\n\n/),o=function(e,t){var n=[],r="<"+e;if("object"==typeof t){for(var o in t)K(t,o)&&n.push(o+'="'+Z.encodeAllRaw(t[o])+'"');n.length&&(r+=" "+n.join(" "))}return r+">"}(t,n),i="</"+t+">",u=F.map(r,(function(e){return e.split(/\n/).join("<br />")}));return 1===u.length?u[0]:F.map(u,(function(e){return o+e+i})).join("")},G=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Y=tinymce.util.Tools.resolve("tinymce.html.Serializer"),Q="",J=tinymce.util.Tools.resolve("tinymce.html.Node"),ee=tinymce.util.Tools.resolve("tinymce.html.Schema"),te=function(e,t){return F.each(t,(function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])})),e},ne=function(e){return e=te(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?Q:" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},re=function(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)},oe=function(e){var t=!1;return e=e.replace(/^[\u00a0 ]+/,""),F.each([/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],(function(n){if(n.test(e))return t=!0,!1})),t},ie=function(e,t,n,r){var o={},i=e.dom.parseStyle(r);F.each(i,(function(i,u){switch(u){case"mso-list":var a=/\w+ \w+([0-9]+)/i.exec(r);a&&(n._listLevel=parseInt(a[1],10)),/Ignore/i.test(i)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":u="text-align";break;case"vert-align":u="vertical-align";break;case"font-color":case"mso-foreground":u="color";break;case"mso-background":case"mso-highlight":u="background";break;case"font-weight":case"font-style":return void("normal"!==i&&(o[u]=i));case"mso-element":if(/^(comment|comment-list)$/i.test(i))return void n.remove()}0!==u.indexOf("mso-comment")?0!==u.indexOf("mso-")&&("all"===I(e)||t&&t[u])&&(o[u]=i):n.remove()})),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],n.wrap(new J("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],n.wrap(new J("i",1)));var u=e.dom.serializeStyle(o,n.name);return u||null},ue=function(e,t){var n,r=I(e);r&&(n=F.makeMap(r.split(/[, ]/))),t=te(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,Q],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(Q):""}]]);var o=function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")}(e),i=ee({valid_elements:o,valid_children:"-li[p]"});F.each(i.elements,(function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))}));var u=G({},i);u.addAttributeFilter("style",(function(t){for(var r,o=t.length;o--;)(r=t[o]).attr("style",ie(e,n,r,r.attr("style"))),"span"===r.name&&r.parent&&!r.attributes.length&&r.unwrap()})),u.addAttributeFilter("class",(function(e){for(var t,n,r=e.length;r--;)n=(t=e[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)})),u.addNodeFilter("del",(function(e){for(var t=e.length;t--;)e[t].remove()})),u.addNodeFilter("a",(function(e){for(var t,n,r,o=e.length;o--;)if(n=(t=e[o]).attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()}));var a=u.parse(t);return function(e){return e.getParam("paste_convert_word_fake_lists",!0)}(e)&&function(e){for(var t,n,r=1,o=function(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)do{t+=o(e)}while(e=e.next);return t},i=function(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!i(e,t))return!1}while(e=e.next);return!0},u=function(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)do{u(e)}while(e=e.next)},a=function(e,o,a){var c=e._listLevel||r;c!==r&&(c<r?t&&(t=t.parent.parent):(n=t,t=null)),t&&t.name===o?t.append(e):(n=n||t,t=new J(o,1),a>1&&t.attr("start",""+a),e.wrap(t)),e.name="li",c>r&&n&&n.lastChild.append(t),r=c,u(e),i(e,/^\u00a0+/),i(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),i(e,/^\u00a0+/)},c=[],l=e.firstChild;null!=l;)if(c.push(l),null!==(l=l.walk()))for(;void 0!==l&&l.parent!==e;)l=l.walk();for(var s=0;s<c.length;s++)if("p"===(e=c[s]).name&&e.firstChild){var f=o(e);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(f)){a(e,"ul");continue}if(oe(f)){var d=/([0-9]+)\./.exec(f),m=1;d&&(m=parseInt(d[1],10)),a(e,"ol",m);continue}if(e._listLevel){a(e,"ul",1);continue}t=null}else n=t,t=null}(a),t=Y({validate:L(e)},i).serialize(a)},ae=function(e,t){return{content:e,cancelled:t}},ce=function(e,t,n,r){var o=function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})}(e,t,n,r),i=function(e,t){var n=G({},e.schema);n.addNodeFilter("meta",(function(e){F.each(e,(function(e){e.remove()}))}));var r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Y({validate:L(e)},e.schema).serialize(r)}(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?function(e,t,n,r){var o=e.dom.create("div",{style:"display:none"},t),i=function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})}(e,o,n,r);return ae(i.node.innerHTML,i.isDefaultPrevented())}(e,i,n,r):ae(i,o.isDefaultPrevented())},le=function(e,t,n){var r=re(t),o=r?function(e,t){return function(e){return e.getParam("paste_enable_default_filters",!0)}(e)?ue(e,t):t}(e,t):t;return ce(e,o,n,r)},se=function(e,t){return e.insertContent(t,{merge:M(e),paste:!0}),!0},fe=function(e){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e)},de=function(e,t){return fe(t)&&x($(e),(function(e){return n=t.toLowerCase(),r="."+e.toLowerCase(),R(n,r,n.length-r.length);var n,r}))},me=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!fe(t))&&function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.execCommand("mceInsertLink",!1,t)})),!0}(e,t,n)},ge=function(e,t,n){return!!de(e,t)&&function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.insertContent('<img src="'+t+'">')})),!0}(e,t,n)},pe=function(e,t,n){n||!1===function(e){return e.getParam("smart_paste",!0)}(e)?se(e,t):function(e,t){F.each([me,ge,se],(function(n){return!0!==n(e,t,se)}))}(e,t)},he=function(e){return"\n"===e||"\r"===e},ve=function(e,t){var n,r,o,i,u=(n=" ",r=function(e){return e.getParam("paste_tab_spaces",4,"number")}(e),r<=0?"":new Array(r+1).join(n)),a=t.replace(/\t/g,u),c=(o=function(e,t){return function(e){return-1!==" \f\t\v".indexOf(e)}(t)||t===Q?e.pcIsSpace||""===e.str||e.str.length===a.length-1||function(e,t){return t<e.length&&t>=0&&he(e[t])}(a,e.str.length+1)?{pcIsSpace:!1,str:e.str+Q}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:he(t),str:e.str+t}},i={pcIsSpace:!1,str:""},C(a,(function(e,t){i=o(i,e,t)})),i);return c.str},be=function(e,t,n,r){var o=le(e,t,n);!1===o.cancelled&&pe(e,o.content,r)},ye=function(e,t,n){var r=n||q(t);be(e,function(e){return e.replace(H,"")}(t),r,!1)},we=function(e,t){var n=e.dom.encode(t).replace(/\r\n/g,"\n"),r=function(e,t,n){return t?X(e,!0===t?"p":t,n):function(e){return e.replace(/\r?\n/g,"<br>")}(e)}(ve(e,n),function(e){return e.getParam("forced_root_block")}(e),function(e){return e.getParam("forced_root_block_attrs")}(e));be(e,r,!1,!0)},xe=function(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1===n.indexOf("data:text/mce-internal,")&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var o=e.types[r];try{t[o]=e.getData(o)}catch(e){t[o]=""}}}return t},Se=function(e,t){return t in e&&e[t].length>0},Ce=function(e){return Se(e,"text/html")||Se(e,"text/plain")},Te=(r="mceclip",o=0,function(){return r+o++}),ke=function(e,t){var n,r,o=(n=t.uri,(r=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(n))?{type:r[1],data:decodeURIComponent(r[2])}:{type:null,data:null}),i=o.data,u=o.type,a=Te(),l=t.blob,s=new Image;if(s.src=t.uri,function(e,t){var n=function(e){return e.getParam("images_dataimg_filter")}(e);return!n||n(t)}(e,s)){var f=e.editorUpload.blobCache,d=void 0,m=f.getByData(i,u);if(m)d=m;else{var g=function(e){return e.getParam("images_reuse_filename")}(e)&&c(l.name),p=g?function(e,t){var n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return c(n)?e.dom.encode(n[1]):null}(e,l.name):a,h=g?l.name:void 0;d=f.create(a,l,i,p,h),f.add(d)}ye(e,'<img src="'+d.blobUri()+'">',!1)}else ye(e,'<img src="'+t.uri+'">',!1)},Oe=function(e){return _.all(S(e,(function(e){return new _((function(t){var n=function(e){return c(e.getAsFile)}(e)?e.getAsFile():e,r=new window.FileReader;r.onload=function(){t({blob:n,uri:r.result})},r.readAsDataURL(n)}))})))},Ae=function(e){var t=$(e);return function(e){return function(e,t){return R(e,t,0)}(e.type,"image/")&&x(t,(function(t){return n=t.toLowerCase(),r={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"},(F.hasOwn(r,n)?"image/"+r[n]:"image/"+n)===e.type;var n,r}))}},Re=function(e,t,n){var r="paste"===t.type?t.clipboardData:t.dataTransfer;if(z(e)&&r){var o=function(e,t){var n=t.items?T(k(t.items),(function(e){return"file"===e.kind?[e.getAsFile()]:[]})):[],r=t.files?k(t.files):[];return function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}(n.length>0?n:r,Ae(e))}(e,r);if(o.length>0)return t.preventDefault(),Oe(o).then((function(t){n&&e.selection.setRng(n),C(t,(function(t){ke(e,t)}))})),!0}return!1},Pe=function(e){return E.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode},De=function(e,t,n){var r,o=A(),i=A();e.on("keyup",i.clear),e.on("keydown",(function(n){var u=function(e){Pe(e)&&!e.isDefaultPrevented()&&t.remove()};if(Pe(n)&&!n.isDefaultPrevented()){if((r=n.shiftKey&&86===n.keyCode)&&P.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return;if(n.stopImmediatePropagation(),o.set(n),i.set(!0),P.ie&&r)return n.preventDefault(),void function(e,t){e.fire("paste",{ieFake:t})}(e,!0);t.remove(),t.create(),e.once("keyup",u),e.once("paste",(function(){e.off("keyup",u)}))}}));var u=function(e,n,r,o,i){var u;Se(n,"text/html")?u=n["text/html"]:(u=t.getHtml(),i=i||q(u),t.isDefaultContent(u)&&(o=!0)),u=ne(u),t.remove();var a=!1===i&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(u),c=fe(u);(!u.length||a&&!c)&&(o=!0),(o||c)&&(u=Se(n,"text/plain")&&a?n["text/plain"]:function(e){var t=ee(),n=G({},t),r="",o=t.getShortEndedElements(),i=F.makeMap("script noscript style textarea video audio iframe object"," "),u=t.getBlockElements(),a=function(e){var t=e.name,n=e;if("br"!==t){if("wbr"!==t)if(o[t]&&(r+=" "),i[t])r+=" ";else{if(3===e.type&&(r+=e.value),!e.shortEnded&&(e=e.firstChild))do{a(e)}while(e=e.next);u[t]&&n.next&&(r+="\n","p"===t&&(r+="\n"))}}else r+="\n"};return e=te(e,[/<!\[[^\]]+\]>/g]),a(n.parse(e)),r}(u)),t.isDefaultContent(u)?r||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):o?we(e,u):ye(e,u,i)};e.on("paste",(function(a){var c=o.isSet()||i.isSet();c&&o.clear();var l=function(e,t){return xe(t.clipboardData||e.getDoc().dataTransfer)}(e,a),s="text"===n.get()||r,f=Se(l,U());r=!1,a.isDefaultPrevented()||function(e){var t=e.clipboardData;return-1!==navigator.userAgent.indexOf("Android")&&t&&t.items&&0===t.items.length}(a)?t.remove():Ce(l)||!Re(e,a,t.getLastRng()||e.selection.getRng())?(c||a.preventDefault(),!P.ie||c&&!a.ieFake||Se(l,"text/html")||(t.create(),e.dom.bind(t.getEl(),"paste",(function(e){e.stopPropagation()})),e.getDoc().execCommand("Paste",!1,null),l["text/html"]=t.getHtml()),Se(l,"text/html")?(a.preventDefault(),f||(f=q(l["text/html"])),u(e,l,c,s,f)):D.setEditorTimeout(e,(function(){u(e,l,c,s,f)}),0)):t.remove()}))},_e=function(e){return P.ie&&e.inline?document.body:e.getBody()},Ee=function(e,t,n){(function(e){return _e(e)!==e.getBody()})(e)&&e.dom.bind(t,"paste keyup",(function(t){Be(e,n)||e.fire("paste")}))},Ne=function(e){return e.dom.get("mcepastebin")},Fe=function(e,t){return t===e},Be=function(e,t){var n,r=Ne(e);return(n=r)&&"mcepastebin"===n.id&&Fe(t,r.innerHTML)},Me=function(e){var t=i(null),n="%MCEPASTEBIN%";return{create:function(){return function(e,t,n){var r=e.dom,o=e.getBody();t.set(e.selection.getRng());var i=e.dom.add(_e(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(P.ie||P.gecko)&&r.setStyle(i,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(i,"beforedeactivate focusin focusout",(function(e){e.stopPropagation()})),Ee(e,i,n),i.focus(),e.selection.select(i,!0)}(e,t,n)},remove:function(){return function(e,t){if(Ne(e)){for(var n=void 0,r=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);r&&e.selection.setRng(r)}t.set(null)}(e,t)},getEl:function(){return Ne(e)},getHtml:function(){return function(e){var t=function(t,n){t.appendChild(n),e.dom.remove(n,!0)},n=F.grep(_e(e).childNodes,(function(e){return"mcepastebin"===e.id})),r=n.shift();F.each(n,(function(e){t(r,e)}));for(var o=e.dom.select("div[id=mcepastebin]",r),i=o.length-1;i>=0;i--){var u=e.dom.create("div");r.insertBefore(u,o[i]),t(u,o[i])}return r?r.innerHTML:""}(e)},getLastRng:t.get,isDefault:function(){return Be(e,n)},isDefaultContent:function(e){return Fe(n,e)}}},Ie=function(e,t){var n=Me(e);return e.on("PreInit",(function(){return function(e,t,n){var r;De(e,t,n),e.parser.addNodeFilter("img",(function(t,n,o){var i=function(e){e.attr("data-mce-object")||r===P.transparentSrc||e.remove()},u=function(e){return 0===e.indexOf("webkit-fake-url")},a=function(e){return 0===e.indexOf("data:")};if(!z(e)&&function(e){return e.data&&!0===e.data.paste}(o))for(var c=t.length;c--;)(r=t[c].attr("src"))&&(u(r)||!j(e)&&a(r))&&i(t[c])}))}(e,n,t)})),{pasteFormat:t,pasteHtml:function(t,n){return ye(e,t,n)},pasteText:function(t){return we(e,t)},pasteImageData:function(t,n){return Re(e,t,n)},getDataTransferItems:xe,hasHtmlOrText:Ce,hasContentType:Se}},Le=function(e,t){e.addCommand("mceTogglePlainTextPaste",(function(){!function(e,t){"text"===t.pasteFormat.get()?(t.pasteFormat.set("html"),N(e,!1)):(t.pasteFormat.set("text"),N(e,!0)),e.focus()}(e,t)})),e.addCommand("mceInsertClipboardContent",(function(e,n){n.content&&t.pasteHtml(n.content,n.internal),n.text&&t.pasteText(n.text)}))},je=function(e,t,n){if(!function(e){return!1===P.iOS&&"function"==typeof(null==e?void 0:e.setData)}(e))return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(U(),t),!0}catch(e){return!1}},ze=function(e,t,n,r){je(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},$e=function(e){return function(t,n){var r=function(e){return H+e}(t),o=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=e.dom.create("div",{contenteditable:"true"},r);e.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),e.dom.add(e.getBody(),o);var u=e.selection.getRng();i.focus();var a=e.dom.createRng();a.selectNodeContents(i),e.selection.setRng(a),D.setTimeout((function(){e.selection.setRng(u),o.parentNode.removeChild(o),n()}),0)}},We=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},He=function(e){return!e.selection.isCollapsed()||function(e){return!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())}(e)},qe=function(e){e.on("cut",function(e){return function(t){He(e)&&ze(t,We(e),$e(e),(function(){if(P.browser.isChrome()||P.browser.isFirefox()){var t=e.selection.getRng();D.setEditorTimeout(e,(function(){e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))}}(e)),e.on("copy",function(e){return function(t){He(e)&&ze(t,We(e),$e(e),s)}}(e))},Ue=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ve=function(e,t){return Ue.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())},Ke=function(e,t){e.focus(),e.selection.setRng(t)},Ze=function(e,t){e.on("PastePreProcess",(function(n){n.content=t(e,n.content,n.internal,n.wordContent)}))},Xe=function(e,t){if(!re(t))return t;var n=[];F.each(e.schema.getBlockElements(),(function(e,t){n.push(t)}));var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return t=te(t,[[r,"$1"]]),t=te(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])},Ge=function(e,t,n,r){if(r||n)return t;var o,i=function(e){return e.getParam("paste_webkit_styles")}(e);if(!1===function(e){return e.getParam("paste_remove_styles_if_webkit",!0)}(e)||"all"===i)return t;if(i&&(o=i.split(/[, ]/)),o){var u=e.dom,a=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(e,t,n,r){var i=u.parseStyle(u.decode(n)),c={};if("none"===o)return t+r;for(var l=0;l<o.length;l++){var s=i[o[l]],f=u.getStyle(a,o[l],!0);/color/.test(o[l])&&(s=u.toHex(s),f=u.toHex(f)),f!==s&&(c[o[l]]=s)}var d=u.serializeStyle(c,"span");return d?t+' style="'+d+'"'+r:t+r}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(e,t,n,r){return t+' style="'+n+'"'+r})),t},Ye=function(e,t){e.$("a",t).find("font,u").each((function(t,n){e.dom.remove(n,!0)}))},Qe=function(e,t){return function(n){n.setActive("text"===t.pasteFormat.get());var r=function(e){return n.setActive(e.state)};return e.on("PastePlainTextToggle",r),function(){return e.off("PastePlainTextToggle",r)}}};u.add("paste",(function(e){if(!1===function(e){return!!e.hasPlugin("powerpaste",!0)&&(void 0!==window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)}(e)){var t=i(!1),n=i(function(e){return e.getParam("paste_as_text",!1)}(e)?"text":"html"),r=Ie(e,n);return function(e){P.webkit&&Ze(e,Ge),P.ie&&(Ze(e,Xe),function(e,t){e.on("PastePostProcess",(function(n){t(e,n.node)}))}(e,Ye))}(e),function(e,t){var n=function(){return e.execCommand("mceTogglePlainTextPaste")};e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:Qe(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:Qe(e,t)})}(e,r),Le(e,r),function(e){var t=e.plugins.paste,n=function(e){return e.getParam("paste_preprocess")}(e);n&&e.on("PastePreProcess",(function(e){n.call(t,t,e)}));var r=function(e){return e.getParam("paste_postprocess")}(e);r&&e.on("PastePostProcess",(function(e){r.call(t,t,e)}))}(e),qe(e),function(e,t,n){(function(e){return e.getParam("paste_block_drop",!1)})(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(function(e){e.preventDefault(),e.stopPropagation()})),B(e)||e.on("drop",(function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()})),e.on("drop",(function(r){var o=Ve(e,r);if(!r.isDefaultPrevented()&&!n.get()){var i,u=t.getDataTransferItems(r.dataTransfer),a=t.hasContentType(u,U());if((t.hasHtmlOrText(u)&&(!(i=u["text/plain"])||0!==i.indexOf("file://"))||!t.pasteImageData(r,o))&&o&&function(e){return e.getParam("paste_filter_drop",!0)}(e)){var c=u["mce-internal"]||u["text/html"]||u["text/plain"];c&&(r.preventDefault(),D.setEditorTimeout(e,(function(){e.undoManager.transact((function(){u["mce-internal"]&&e.execCommand("Delete"),Ke(e,o),c=ne(c),u["text/html"]?t.pasteHtml(c,a):t.pasteText(c)}))})))}}})),e.on("dragstart",(function(e){n.set(!0)})),e.on("dragover dragend",(function(t){B(e)&&!1===n.get()&&(t.preventDefault(),Ke(e,Ve(e,t))),"dragend"===t.type&&n.set(!1)}))}(e,r,t),function(e){return{clipboard:e}}(r)}}))}()},85692:function(){!function(){"use strict";function e(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}function t(e){return!(null==e)}function n(){}function r(e){return function(){return e}}function o(e){return e}function i(){return s}var u=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(e){return n=typeof(t=e),"array"==(null===t?"null":"object"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n);var t,n},c=r(!"function"),l=r(!0),s={fold:function(e,t){return e()},isSome:c,isNone:l,getOr:o,getOrThunk:f,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:o,orThunk:f,map:i,each:n,bind:i,exists:c,forall:l,filter:function(){return s},toArray:function(){return[]},toString:r("none()")};function f(e){return e()}function d(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1}function m(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}function g(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function p(){var t,r,o=(t=n,r=e(oe.none()),{clear:function(){i(),r.set(oe.none())},isSet:function(){return r.get().isSome()},get:function(){return r.get()},set:function(e){i(),r.set(oe.some(e))}});function i(){return r.get().each(t)}return ce(ce({},o),{on:function(e){return o.get().each(e)}})}function h(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}function v(e,t){return e.fire("PastePlainTextToggle",{state:t})}function b(e){return e.getParam("paste_data_images",!1)}function y(e){return e.getParam("paste_retain_style_properties")}function w(e){return e.getParam("validate")}function x(e){return e.getParam("paste_data_images",!1,"boolean")}function S(e){return me.explode(e.getParam("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string"))}function C(e){return-1!==e.indexOf(pe)}function T(e,t){return me.each(t,(function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])})),e}function k(e){return T(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?"":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function O(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function A(e,t){var n,r=y(e);r&&(n=me.makeMap(r.split(/[, ]/))),t=T(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,""],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return 0<t.length?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(""):""}]]);var o=e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody"),i=Se({valid_elements:o,valid_children:"-li[p]"});me.each(i.elements,(function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))}));var u=ye({},i);u.addAttributeFilter("style",(function(t){for(var r,o=t.length;o--;)(r=t[o]).attr("style",function(e,t,n,r){var o={},i=e.dom.parseStyle(r);return me.each(i,(function(i,u){switch(u){case"mso-list":var a=/\w+ \w+([0-9]+)/i.exec(r);a&&(n._listLevel=parseInt(a[1],10)),/Ignore/i.test(i)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":u="text-align";break;case"vert-align":u="vertical-align";break;case"font-color":case"mso-foreground":u="color";break;case"mso-background":case"mso-highlight":u="background";break;case"font-weight":case"font-style":return void("normal"!==i&&(o[u]=i));case"mso-element":if(/^(comment|comment-list)$/i.test(i))return void n.remove()}0!==u.indexOf("mso-comment")?0!==u.indexOf("mso-")&&("all"===y(e)||t&&t[u])&&(o[u]=i):n.remove()})),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],n.wrap(new xe("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],n.wrap(new xe("i",1))),e.dom.serializeStyle(o,n.name)||null}(e,n,r,r.attr("style"))),"span"===r.name&&r.parent&&!r.attributes.length&&r.unwrap()})),u.addAttributeFilter("class",(function(e){for(var t,n,r=e.length;r--;)n=(t=e[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)})),u.addNodeFilter("del",(function(e){for(var t=e.length;t--;)e[t].remove()})),u.addNodeFilter("a",(function(e){for(var t,n,r,o=e.length;o--;)n=(t=e[o]).attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_")?t.remove():!(n=n&&0===n.indexOf("file://")?(n=n.split("#")[1])&&"#"+n:n)&&!r||r&&!/^_?(?:toc|edn|ftn)/i.test(r)?t.unwrap():t.attr({href:n,name:r})}));var a=u.parse(t);return e.getParam("paste_convert_word_fake_lists",!0)&&function(e){for(var t,n,r=1,o=function(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)for(;t+=o(e),e=e.next;);return t},i=function(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!i(e,t))return!1}while(e=e.next);return!0},u=function(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)for(;u(e),e=e.next;);},a=function(e,o,a){var c=e._listLevel||r;(t=c!==r?c<r?t&&t.parent.parent:(n=t,null):t)&&t.name===o?t.append(e):(n=n||t,t=new xe(o,1),1<a&&t.attr("start",""+a),e.wrap(t)),e.name="li",r<c&&n&&n.lastChild.append(t),r=c,u(e),i(e,/^\u00a0+/),i(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),i(e,/^\u00a0+/)},c=[],l=e.firstChild;null!=l;)if(c.push(l),null!==(l=l.walk()))for(;void 0!==l&&l.parent!==e;)l=l.walk();for(var s,f,d,m=0;m<c.length;m++)"p"===(e=c[m]).name&&e.firstChild?(s=o(e),/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(s)?a(e,"ul"):function(e){var t=!1;return e=s.replace(/^[\u00a0 ]+/,""),me.each([/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],(function(n){if(n.test(e))return!(t=!0)})),t}(s)?(d=1,a(e,"ol",d=(f=/([0-9]+)\./.exec(s))?parseInt(f[1],10):d)):e._listLevel?a(e,"ul",1):t=null):(n=t,t=null)}(a),we({validate:w(e)},i).serialize(a)}function R(e,t){return{content:e,cancelled:t}}function P(e,t){return e.insertContent(t,{merge:e.getParam("paste_merge_formats",!0),paste:!0}),!0}function D(e){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e)}function _(e,t,n){return!(!1!==e.selection.isCollapsed()||!D(t)||(o=t,i=n,(r=e).undoManager.extra((function(){i(r,o)}),(function(){r.execCommand("mceInsertLink",!1,o)})),0));var r,o,i}function E(e,t,n){return r=e,!(!D(o=t)||!d(S(r),(function(e){return h(t=o.toLowerCase(),n="."+e.toLowerCase(),t.length-n.length);var t,n}))||(u=t,a=n,(i=e).undoManager.extra((function(){a(i,u)}),(function(){i.insertContent('<img src="'+u+'">')})),0));var r,o,i,u,a}function N(e){return"\n"===e||"\r"===e}function F(e,t,n,r){var o,i,u,a,c=function(e,t,n){var r,o,i,u,a,c,l,s,f,d,m,g,p=O(t),h=p?(o=t,(r=e).getParam("paste_enable_default_filters",!0)?A(r,o):o):t;return u=n,a=p,m=(i=e).fire("PastePreProcess",{content:h,internal:u,wordContent:a}),g=function(e,t){var n=ye({},e.schema);n.addNodeFilter("meta",(function(e){me.each(e,(function(e){e.remove()}))}));var r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return we({validate:w(e)},e.schema).serialize(r)}(i,m.content),i.hasEventListeners("PastePostProcess")&&!m.isDefaultPrevented()?(l=u,s=a,f=(c=i).dom.create("div",{style:"display:none"},g),R((d=c.fire("PastePostProcess",{node:f,internal:l,wordContent:s})).node.innerHTML,d.isDefaultPrevented())):R(g,m.isDefaultPrevented())}(e,t,n);!1===c.cancelled&&(o=e,i=c.content,r||!1===o.getParam("smart_paste",!0)?P(o,i):(u=o,a=i,me.each([_,E,P],(function(e){return!0!==e(u,a,P)}))))}function B(e,t,n){var r=n||C(t);F(e,t.replace(pe,""),r,!1)}function M(e,t){var n,r,o,i,u,a,c=function(e,t,n){return t?(r=!0===t?"p":t,o=n,i=e.split(/\n\n/),u=function(e,t){var n,r=[],o="<"+e;if("object"==typeof t){for(var i in t)n=i,ve.call(t,n)&&r.push(i+'="'+be.encodeAllRaw(t[i])+'"');r.length&&(o+=" "+r.join(" "))}return o+">"}(r,o),a="</"+r+">",1===(c=me.map(i,(function(e){return e.split(/\n/).join("<br />")}))).length?c[0]:me.map(c,(function(e){return u+e+a})).join("")):e.replace(/\r?\n/g,"<br>");var r,o,i,u,a,c}((n=e.dom.encode(t).replace(/\r\n/g,"\n"),i=(r=e.getParam("paste_tab_spaces",4,"number"))<=0?"":new Array(r+1).join(" "),u=n.replace(/\t/g,i),a={pcIsSpace:!(o=function(e,t){return-1!==" \f\t\v".indexOf(t)||""===t?e.pcIsSpace||""===e.str||e.str.length===u.length-1||(n=e.str.length+1)<u.length&&0<=n&&N(u[n])?{pcIsSpace:!1,str:e.str+""}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:N(t),str:e.str+t};var n}),str:""},g(u,(function(e,t){a=o(a,e)})),a.str),e.getParam("forced_root_block"),e.getParam("forced_root_block_attrs"));F(e,c,!1,!0)}function I(e){var t,n={};if(e&&(!e.getData||(t=e.getData("Text"))&&0<t.length&&-1===t.indexOf("data:text/mce-internal,")&&(n["text/plain"]=t),e.types))for(var r=0;r<e.types.length;r++){var o=e.types[r];try{n[o]=e.getData(o)}catch(e){n[o]=""}}return n}function L(e,t){return t in e&&0<e[t].length}function j(e){return L(e,"text/html")||L(e,"text/plain")}function z(e,n,r){var o,i,u,c,l,s="paste"===n.type?n.clipboardData:n.dataTransfer;if(x(e)&&s){var f=(o=e,u=(i=s).items?function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);ue.apply(t,e[n])}return t}(m(ae(i.items),(function(e){return"file"===e.kind?[e.getAsFile()]:[]}))):[],c=i.files?ae(i.files):[],function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}(0<u.length?u:c,(l=S(o),function(e){return h(e.type,"image/",0)&&d(l,(function(t){return n=t.toLowerCase(),(me.hasOwn(r={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"},n)?"image/"+r[n]:"image/"+n)===e.type;var n,r}))})));if(0<f.length)return n.preventDefault(),fe.all(m(f,(function(e){return new fe((function(n){var r=t(e.getAsFile)?e.getAsFile():e,o=new window.FileReader;o.onload=function(){n({blob:r,uri:o.result})},o.readAsDataURL(r)}))}))).then((function(n){r&&e.selection.setRng(r),g(n,(function(n){var r,o,i,u,a,c,l,s,f,d,m,g,p,h,v,b,y,w,x,S;r=e,i=(o=n).uri,b=(v=(u=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(i))?{type:u[1],data:decodeURIComponent(u[2])}:{type:null,data:null}).data,y=v.type,w=Ce(),x=o.blob,(S=new Image).src=o.uri,p=S,!(h=r.getParam("images_dataimg_filter"))||h(p)?(d=void 0,(c=(a=r.editorUpload.blobCache).getByData(b,y))?d=c:(s=(l=r.getParam("images_reuse_filename")&&t(x.name))?(m=r,t(g=x.name.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i))?m.dom.encode(g[1]):null):w,f=l?x.name:void 0,d=a.create(w,x,b,s,f),a.add(d)),B(r,'<img src="'+d.blobUri()+'">',!1)):B(r,'<img src="'+o.uri+'">',!1)}))})),!0}return!1}function $(e){return de.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode}function W(e,t,n){var r,o,i,u,a,c,l;function s(e,t,n,r,o){var u;L(t,"text/html")?u=t["text/html"]:(u=i.getHtml(),o=o||C(u),i.isDefaultContent(u)&&(r=!0)),u=k(u),i.remove();var a,c,l,s,f,d,m,g,p=!1===o&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(u),h=D(u);((r=!u.length||p&&!h||r)||h)&&(u=L(t,"text/plain")&&p?t["text/plain"]:(a=u,c=Se(),l=ye({},c),s="",f=c.getShortEndedElements(),d=me.makeMap("script noscript style textarea video audio iframe object"," "),m=c.getBlockElements(),g=function(e){var t=e.name,n=e;if("br"!==t){if("wbr"!==t)if(f[t]&&(s+=" "),d[t])s+=" ";else{if(3===e.type&&(s+=e.value),!e.shortEnded&&(e=e.firstChild))for(;g(e),e=e.next;);m[t]&&n.next&&(s+="\n","p"===t&&(s+="\n"))}}else s+="\n"},a=T(a,[/<!\[[^\]]+\]>/g]),g(l.parse(a)),s)),i.isDefaultContent(u)?n||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):r?M(e,u):B(e,u,o)}o=e,i=t,u=n,c=p(),l=p(),o.on("keyup",l.clear),o.on("keydown",(function(e){function t(e){$(e)&&!e.isDefaultPrevented()&&i.remove()}if($(e)&&!e.isDefaultPrevented()&&(!(a=e.shiftKey&&86===e.keyCode)||!le.webkit||-1===navigator.userAgent.indexOf("Version/"))){if(e.stopImmediatePropagation(),c.set(e),l.set(!0),le.ie&&a)return e.preventDefault(),void o.fire("paste",{ieFake:!0});i.remove(),i.create(),o.once("keyup",t),o.once("paste",(function(){o.off("keyup",t)}))}})),o.on("paste",(function(e){var t=c.isSet()||l.isSet();t&&c.clear();var n,r=I(e.clipboardData||o.getDoc().dataTransfer),f="text"===u.get()||a,d=L(r,he());a=!1,e.isDefaultPrevented()||(n=e.clipboardData,-1!==navigator.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length)||!j(r)&&z(o,e,i.getLastRng()||o.selection.getRng())?i.remove():(t||e.preventDefault(),!le.ie||t&&!e.ieFake||L(r,"text/html")||(i.create(),o.dom.bind(i.getEl(),"paste",(function(e){e.stopPropagation()})),o.getDoc().execCommand("Paste",!1,null),r["text/html"]=i.getHtml()),L(r,"text/html")?(e.preventDefault(),d=d||C(r["text/html"]),s(o,r,t,f,d)):se.setEditorTimeout(o,(function(){s(o,r,t,f,d)}),0))})),e.parser.addNodeFilter("img",(function(t,n,o){var i;if(!x(e)&&o.data&&!0===o.data.paste)for(var u=t.length;u--;)(r=t[u].attr("src"))&&(0!==r.indexOf("webkit-fake-url")&&(e.getParam("allow_html_data_urls",!1,"boolean")||0!==r.indexOf("data:"))||(i=t[u]).attr("data-mce-object")||r===le.transparentSrc||i.remove())}))}function H(e){return le.ie&&e.inline?document.body:e.getBody()}function q(e,t,n,r){!function(e,t,n){if(!1===le.iOS&&"function"==typeof(null==e?void 0:e.setData))try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(he(),t),1}catch(e){return}}(e.clipboardData,t.html,t.text)?n(t.html,r):(e.preventDefault(),r())}function U(e){return function(t,n){var r=pe+t,o=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=e.dom.create("div",{contenteditable:"true"},r);e.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),e.dom.add(e.getBody(),o);var u=e.selection.getRng();i.focus();var a=e.dom.createRng();a.selectNodeContents(i),e.selection.setRng(a),se.setTimeout((function(){e.selection.setRng(u),o.parentNode.removeChild(o),n()}),0)}}function V(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}}function K(e){return!e.selection.isCollapsed()||(t=e).dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody());var t}function Z(e,t){return ke.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())}function X(e,t){e.focus(),e.selection.setRng(t)}function G(e,t){e.on("PastePreProcess",(function(n){n.content=t(e,n.content,n.internal,n.wordContent)}))}function Y(e,t){if(!O(t))return t;var n=[];return me.each(e.schema.getBlockElements(),(function(e,t){n.push(t)})),t=T(t,[[new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g"),"$1"]]),T(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function Q(e,t,n,r){if(r||n)return t;var o,i,u,a=e.getParam("paste_webkit_styles");return!1===e.getParam("paste_remove_styles_if_webkit",!0)||"all"===a?t:(t=(o=a?a.split(/[, ]/):o)?(i=e.dom,u=e.selection.getNode(),t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(e,t,n,r){var a=i.parseStyle(i.decode(n)),c={};if("none"===o)return t+r;for(var l=0;l<o.length;l++){var s=a[o[l]],f=i.getStyle(u,o[l],!0);/color/.test(o[l])&&(s=i.toHex(s),f=i.toHex(f)),f!==s&&(c[o[l]]=s)}var d=i.serializeStyle(c,"span");return d?t+' style="'+d+'"'+r:t+r}))):t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")).replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(e,t,n,r){return t+' style="'+n+'"'+r}))}function J(e,t){e.$("a",t).find("font,u").each((function(t,n){e.dom.remove(n,!0)}))}function ee(e,t){return function(n){function r(e){return n.setActive(e.state)}return n.setActive("text"===t.pasteFormat.get()),e.on("PastePlainTextToggle",r),function(){return e.off("PastePlainTextToggle",r)}}}function te(e){return e.dom.get("mcepastebin")}var ne,re=function(e){function t(){return i}function n(t){return t(e)}var o=r(e),i={fold:function(t,n){return n(e)},isSome:l,isNone:c,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:t,orThunk:t,map:function(t){return re(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?i:s},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},oe={some:re,none:i,from:function(e){return null==e?s:re(e)}},ie=Array.prototype.slice,ue=Array.prototype.push,ae="function"==typeof Array.from?Array.from:function(e){return ie.call(e)},ce=function(){return(ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},le=tinymce.util.Tools.resolve("tinymce.Env"),se=tinymce.util.Tools.resolve("tinymce.util.Delay"),fe=tinymce.util.Tools.resolve("tinymce.util.Promise"),de=tinymce.util.Tools.resolve("tinymce.util.VK"),me=tinymce.util.Tools.resolve("tinymce.util.Tools"),ge="x-tinymce/html",pe="\x3c!-- "+ge+" --\x3e",he=r(ge),ve=Object.hasOwnProperty,be=tinymce.util.Tools.resolve("tinymce.html.Entities"),ye=tinymce.util.Tools.resolve("tinymce.html.DomParser"),we=tinymce.util.Tools.resolve("tinymce.html.Serializer"),xe=tinymce.util.Tools.resolve("tinymce.html.Node"),Se=tinymce.util.Tools.resolve("tinymce.html.Schema"),Ce=(ne=0,function(){return"mceclip"+ne++}),Te=function(e,t){var n=te(e);return n&&"mcepastebin"===n.id&&n.innerHTML===t},ke=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils");u.add("paste",(function(t){if(0==(!!t.hasPlugin("powerpaste",!0)&&(void 0!==window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0))){var r=e(!1),o=e(t.getParam("paste_as_text",!1)?"text":"html"),i=(S=o,C=function(t){var n=e(null),r="%MCEPASTEBIN%";return{create:function(){return function(e,t,n){var r=e.dom,o=e.getBody();t.set(e.selection.getRng());var i,u,a,c=e.dom.add(H(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(le.ie||le.gecko)&&r.setStyle(c,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(c,"beforedeactivate focusin focusout",(function(e){e.stopPropagation()})),u=c,H(a=i=e)!==a.getBody()&&i.dom.bind(u,"paste keyup",(function(e){Te(i,"%MCEPASTEBIN%")||i.fire("paste")})),c.focus(),e.selection.select(c,!0)}(t,n,r)},remove:function(){return function(e,t){if(te(e)){for(var n,r=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);r&&e.selection.setRng(r)}t.set(null)}(t,n)},getEl:function(){return te(t)},getHtml:function(){return function(e){function t(t,n){t.appendChild(n),e.dom.remove(n,!0)}var n=me.grep(H(e).childNodes,(function(e){return"mcepastebin"===e.id})),r=n.shift();me.each(n,(function(e){t(r,e)}));for(var o=e.dom.select("div[id=mcepastebin]",r),i=o.length-1;0<=i;i--){var u=e.dom.create("div");r.insertBefore(u,o[i]),t(u,o[i])}return r?r.innerHTML:""}(t)},getLastRng:n.get,isDefault:function(){return Te(t,r)},isDefaultContent:function(e){return e===r}}}(x=t),x.on("PreInit",(function(){return W(x,C,S)})),{pasteFormat:S,pasteHtml:function(e,t){return B(x,e,t)},pasteText:function(e){return M(x,e)},pasteImageData:function(e,t){return z(x,e,t)},getDataTransferItems:I,hasHtmlOrText:j,hasContentType:L}),u=t;return le.webkit&&G(u,Q),le.ie&&(G(u,Y),w=J,(y=u).on("PastePostProcess",(function(e){w(y,e.node)}))),(p=t).ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:T,onSetup:ee(p,h=i)}),p.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:T,onSetup:ee(p,h)}),g=i,(m=t).addCommand("mceTogglePlainTextPaste",(function(){var e,t=m;"text"===(e=g).pasteFormat.get()?(e.pasteFormat.set("html"),v(t,!1)):(e.pasteFormat.set("text"),v(t,!0)),t.focus()})),m.addCommand("mceInsertClipboardContent",(function(e,t){t.content&&g.pasteHtml(t.content,t.internal),t.text&&g.pasteText(t.text)})),function(e){var t=e.plugins.paste,n=e.getParam("paste_preprocess");n&&e.on("PastePreProcess",(function(e){n.call(t,t,e)}));var r=e.getParam("paste_postprocess");r&&e.on("PastePostProcess",(function(e){r.call(t,t,e)}))}(t),(s=t).on("cut",(f=s,function(e){K(f)&&q(e,V(f),U(f),(function(){var e;le.browser.isChrome()||le.browser.isFirefox()?(e=f.selection.getRng(),se.setEditorTimeout(f,(function(){f.selection.setRng(e),f.execCommand("Delete")}),0)):f.execCommand("Delete")}))})),s.on("copy",(d=s,function(e){K(d)&&q(e,V(d),U(d),n)})),c=i,l=r,(a=t).getParam("paste_block_drop",!1)&&a.on("dragend dragover draggesture dragdrop drop drag",(function(e){e.preventDefault(),e.stopPropagation()})),b(a)||a.on("drop",(function(e){var t=e.dataTransfer;t&&t.files&&0<t.files.length&&e.preventDefault()})),a.on("drop",(function(e){var t,n,r,o,i=Z(a,e);e.isDefaultPrevented()||l.get()||(t=c.getDataTransferItems(e.dataTransfer),n=c.hasContentType(t,he()),(!c.hasHtmlOrText(t)||(r=t["text/plain"])&&0===r.indexOf("file://"))&&c.pasteImageData(e,i)||!i||!a.getParam("paste_filter_drop",!0)||(o=t["mce-internal"]||t["text/html"]||t["text/plain"])&&(e.preventDefault(),se.setEditorTimeout(a,(function(){a.undoManager.transact((function(){t["mce-internal"]&&a.execCommand("Delete"),X(a,i),o=k(o),t["text/html"]?c.pasteHtml(o,n):c.pasteText(o)}))}))))})),a.on("dragstart",(function(e){l.set(!0)})),a.on("dragover dragend",(function(e){b(a)&&!1===l.get()&&(e.preventDefault(),X(a,Z(a,e))),"dragend"===e.type&&l.set(!1)})),{clipboard:i}}var a,c,l,s,f,d,m,g,p,h,y,w,x,S,C;function T(){return p.execCommand("mceTogglePlainTextPaste")}}))}()},44446:function(e,t,n){n(18495)},18495:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(e){var r=function(e){var r="",o=e.dom.encode,i=function(e){return e.getParam("content_style","","string")}(e);r+='<base href="'+o(e.documentBaseURI.getURI())+'">';var u=function(e){return e.getParam("content_css_cors",!1,"boolean")}(e)?' crossorigin="anonymous"':"";n.each(e.contentCSS,(function(t){r+='<link type="text/css" rel="stylesheet" href="'+o(e.documentBaseURI.toAbsolute(t))+'"'+u+">"})),i&&(r+='<style type="text/css">'+i+"</style>");var a=function(e){var t=e.getParam("body_id","tinymce","string");return-1===t.indexOf("=")?t:function(e){var t=e.getParam("body_id","","hash");return t[e.id]||t}(e)}(e),c=function(e){var t=e.getParam("body_class","","string");return-1===t.indexOf("=")?t:function(e){return e.getParam("body_class","","hash")[e.id]||""}(e)}(e),l='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(t.mac?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",s=e.getBody().dir,f=s?' dir="'+o(s)+'"':"";return"<!DOCTYPE html><html><head>"+r+'</head><body id="'+o(a)+'" class="mce-content-body '+o(c)+'"'+f+">"+e.getContent()+l+"</body></html>"}(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:r}}).focus("close")};e.add("preview",(function(e){!function(e){e.addCommand("mcePreview",(function(){r(e)}))}(e),function(e){var t=function(){return e.execCommand("mcePreview")};e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t})}(e)}))}()},39707:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools");e.add("preview",(function(e){var r,o;function i(){return o.execCommand("mcePreview")}(r=e).addCommand("mcePreview",(function(){var e,o;o=function(e){var r="",o=e.dom.encode,i=e.getParam("content_style","","string");r+='<base href="'+o(e.documentBaseURI.getURI())+'">';var u=e.getParam("content_css_cors",!1,"boolean")?' crossorigin="anonymous"':"";n.each(e.contentCSS,(function(t){r+='<link type="text/css" rel="stylesheet" href="'+o(e.documentBaseURI.toAbsolute(t))+'"'+u+">"})),i&&(r+='<style type="text/css">'+i+"</style>");var a,c,l,s,f,d,m,g=-1===(s=(a=e).getParam("body_id","tinymce","string")).indexOf("=")?s:(l=(c=a).getParam("body_id","","hash"))[c.id]||l,p=-1===(m=(f=e).getParam("body_class","","string")).indexOf("=")?m:(d=f).getParam("body_class","","hash")[d.id]||"",h='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(t.mac?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",v=e.getBody().dir,b=v?' dir="'+o(v)+'"':"";return"<!DOCTYPE html><html><head>"+r+'</head><body id="'+o(g)+'" class="mce-content-body '+o(p)+'"'+b+">"+e.getContent()+h+"</body></html>"}(e=r),e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:o}}).focus("close")})),(o=e).ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:i}),o.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:i})}))}()},69497:function(e,t,n){n(82162)},82162:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");e.add("print",(function(e){!function(e){e.addCommand("mcePrint",(function(){t.browser.isIE()?e.getDoc().execCommand("print",!1,null):e.getWin().print()}))}(e),function(e){var t=function(){return e.execCommand("mcePrint")};e.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:t}),e.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:t})}(e),e.addShortcut("Meta+P","","mcePrint")}))}()},4529:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");e.add("print",(function(e){var n,r;function o(){return r.execCommand("mcePrint")}(n=e).addCommand("mcePrint",(function(){t.browser.isIE()?n.getDoc().execCommand("print",!1,null):n.getWin().print()})),(r=e).ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:o}),r.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:o}),e.addShortcut("Meta+P","","mcePrint")}))}()},31295:function(e,t,n){n(76834)},76834:function(){!function(){"use strict";var e,t,n=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=function(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}},u=function(e){return function(t){return typeof t===e}},a=i("string"),c=i("array"),l=u("boolean"),s=u("number"),f=function(){},d=function(e){return function(){return e}},m=function(e){return e},g=d(!1),p=d(!0),h=d("[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]"),v=function(){return b},b={fold:function(e,t){return e()},isSome:g,isNone:p,getOr:t=m,getOrThunk:e=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:t,orThunk:e,map:v,each:f,bind:v,exists:g,forall:p,filter:function(){return v()},toArray:function(){return[]},toString:d("none()")},y=function(e){var t=d(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:p,isNone:g,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return y(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:b},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},w={some:y,none:v,from:function(e){return null==e?b:y(e)}},x=h,S=tinymce.util.Tools.resolve("tinymce.Env"),C=tinymce.util.Tools.resolve("tinymce.util.Tools"),T=Array.prototype.slice,k=Array.prototype.push,O=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},A=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},R=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},P=function(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!c(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);k.apply(t,e[n])}return t}(O(e,t))},D=Object.hasOwnProperty,_=function(e,t){return D.call(e,t)};"undefined"!=typeof window?window:Function("return this;")();var E,N,F,B,M=(E=3,function(e){return function(e){return e.dom.nodeType}(e)===E}),I=function(e,t,n){!function(e,t,n){if(!(a(n)||l(n)||s(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)},L=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},j={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return L(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return L(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return L(n)},fromDom:L,fromPoint:function(e,t,n){return w.from(e.dom.elementFromPoint(t,n)).map(L)}},z=function(e,t){return{element:e,offset:t}},$=function(e,t){var n=function(e){return O(e.dom.childNodes,j.fromDom)}(e);return n.length>0&&t<n.length?z(n[t],0):z(e,t)},W=function(e,t){var n=function(e){return w.from(e.dom.parentNode).map(j.fromDom)}(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},H=function(e,t){W(e,t),function(e,t){e.dom.appendChild(t.dom)}(t,e)},q=(N=M,F="text",{get:function(e){if(!N(e))throw new Error("Can only get "+F+" value of a "+F+" node");return B(e).getOr("")},getOption:B=function(e){return N(e)?w.from(e.dom.nodeValue):w.none()},set:function(e,t){if(!N(e))throw new Error("Can only set raw "+F+" value of a "+F+" node");e.dom.nodeValue=t}}),U=function(e){return q.get(e)},V=function(e,t){return function(e,t){var n,r=void 0===t?document:t.dom;return 1!==(n=r).nodeType&&9!==n.nodeType&&11!==n.nodeType||0===n.childElementCount?[]:O(r.querySelectorAll(e),j.fromDom)}(t,e)},K=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Z=function(e,t){return e.isBlock(t)||_(e.schema.getShortEndedElements(),t.nodeName)},X=function(e,t){return"false"===e.getContentEditable(t)},G=function(e,t){return!e.isBlock(t)&&_(e.schema.getWhiteSpaceElements(),t.nodeName)},Y=function(e,t){return $(j.fromDom(e),t)},Q=function(e,t,n,r,o,i){void 0===i&&(i=!0);for(var u=i?t(!1):n;u;){var a=X(e,u);if(a||G(e,u)){if(a?r.cef(u):r.boundary(u))break;u=t(!0)}else{if(Z(e,u)){if(r.boundary(u))break}else 3===u.nodeType&&r.text(u);if(u===o)break;u=t(!1)}}},J=function(e,t,n,r,o){if(!function(e,t){return Z(e,t)||X(e,t)||G(e,t)||function(e,t){return"true"===e.getContentEditable(t)&&"false"===e.getContentEditableParent(t.parentNode)}(e,t)}(e,n)){var i=e.getParent(r,e.isBlock),u=new K(n,i),a=o?u.next.bind(u):u.prev.bind(u);Q(e,a,n,{boundary:p,cef:p,text:function(e){o?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(j.fromDom(e))}})}},ee=function(e,t,n,r,o,i){void 0===i&&(i=!0);var u=new K(n,t),a=[],c={sOffset:0,fOffset:0,elements:[]};J(e,c,n,t,!1);var l=function(){return c.elements.length>0&&(a.push(c),c={sOffset:0,fOffset:0,elements:[]}),!1};return Q(e,u.next.bind(u),n,{boundary:l,cef:function(e){return l(),o&&a.push.apply(a,o.cef(e)),!1},text:function(e){c.elements.push(j.fromDom(e)),o&&o.text(e,c)}},r,i),r&&J(e,c,r,t,!0),l(),a},te=function(e,t){var n=Y(t.startContainer,t.startOffset),r=n.element.dom,o=Y(t.endContainer,t.endOffset),i=o.element.dom;return ee(e,t.commonAncestorContainer,r,i,{text:function(e,t){e===i?t.fOffset+=e.length-o.offset:e===r&&(t.sOffset+=n.offset)},cef:function(t){var n,r,o,i=P(V(j.fromDom(t),"*[contenteditable=true]"),(function(t){var n=t.dom;return ee(e,n,n)}));return n=i,r=function(e,t){return function(e,t){return function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(e,t,Node.DOCUMENT_POSITION_PRECEDING)}(e.elements[0].dom,t.elements[0].dom)?1:-1},(o=T.call(n,0)).sort(r),o}},!1)},ne=function(e,t){return t.collapsed?[]:te(e,t)},re=function(e,t){var n=e.createRng();return n.selectNode(t),ne(e,n)},oe=function(e,t){var n,r,o,i=(n=e,r=function(e,n){var r=U(n),o=e.last,i=o+r.length,u=P(t,(function(e,t){return e.start<i&&e.finish>o?[{element:n,start:Math.max(o,e.start)-o,finish:Math.min(i,e.finish)-o,matchId:t}]:[]}));return{results:e.results.concat(u),last:i}},o={results:[],last:0},A(n,(function(e,t){o=r(o,e,t)})),o).results;return function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,u=e.length;i<u;i++){var a=e[i],c=t(a);c!==n&&(r.push(o),o=[]),n=c,o.push(a)}return 0!==o.length&&r.push(o),r}(i,(function(e){return e.matchId}))},ie=function(e,t){return P(t,(function(t){var n=t.elements,r=O(n,U).join(""),o=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=e.length);var o=t.regex;o.lastIndex=n;for(var i,u=[];i=o.exec(e);){var a=i[t.matchIndex],c=i.index+i[0].indexOf(a),l=c+a.length;if(l>r)break;u.push({start:c,finish:l}),o.lastIndex=l}return u}(r,e,t.sOffset,r.length-t.fOffset);return oe(n,o)}))},ue=function(e,t){R(e,(function(e,n){R(e,(function(e){var r=j.fromDom(t.cloneNode(!1));I(r,"data-mce-index",n);var o=e.element.dom;if(o.length===e.finish&&0===e.start)H(e.element,r);else{o.length!==e.finish&&o.splitText(e.finish);var i=o.splitText(e.start);H(j.fromDom(i),r)}}))}))},ae=function(e,t,n,r){var o=n.getBookmark(),i=e.select("td[data-mce-selected],th[data-mce-selected]"),u=i.length>0?function(e,t){return P(t,(function(t){return re(e,t)}))}(e,i):ne(e,n.getRng()),a=ie(t,u);return ue(a,r),n.moveToBookmark(o),a.length},ce=function(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t},le=function(e,t,n,r){var o=e.dom.create("span",{"data-mce-bogus":1});o.className="mce-match-marker";var i=e.getBody();return ye(e,t,!1),r?ae(e.dom,n,e.selection,o):function(e,t,n,r){var o=re(e,n),i=ie(t,o);return ue(i,r),i.length}(e.dom,n,i,o)},se=function(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)},fe=function(e,t){var n=[],r=C.toArray(e.getBody().getElementsByTagName("span"));if(r.length)for(var o=0;o<r.length;o++){var i=ce(r[o]);null!==i&&i.length&&(i===t.toString()&&n.push(r[o]))}return n},de=function(e,t,n){var r=t.get(),o=r.index,i=e.dom;(n=!1!==n)?o+1===r.count?o=0:o++:o-1==-1?o=r.count-1:o--,i.removeClass(fe(e,r.index),"mce-match-marker-selected");var u=fe(e,o);return u.length?(i.addClass(fe(e,o),"mce-match-marker-selected"),e.selection.scrollIntoView(u[0]),o):-1},me=function(e,t){var n=t.parentNode;e.remove(t),e.isEmpty(n)&&e.remove(n)},ge=function(e,t,n,r,o,i){var u=e.selection,a=function(e,t){var n="("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return t?"(?:^|\\s|"+x()+")"+n+"(?=$|\\s|"+x()+")":n}(n,o),c=u.isForward(),l={regex:new RegExp(a,r?"g":"gi"),matchIndex:1},s=le(e,t,l,i);if(S.browser.isSafari()&&u.setRng(u.getRng(),c),s){var f=de(e,t,!0);t.set({index:f,count:s,text:n,matchCase:r,wholeWord:o,inSelection:i})}return s},pe=function(e,t){var n=de(e,t,!0);t.set(o(o({},t.get()),{index:n}))},he=function(e,t){var n=de(e,t,!1);t.set(o(o({},t.get()),{index:n}))},ve=function(e){var t=ce(e);return null!==t&&t.length>0},be=function(e,t,n,r,i){var u,a=t.get(),c=a.index,l=c;r=!1!==r;for(var s=e.getBody(),f=C.grep(C.toArray(s.getElementsByTagName("span")),ve),d=0;d<f.length;d++){var m=ce(f[d]),g=u=parseInt(m,10);if(i||g===a.index){for(n.length?(f[d].firstChild.nodeValue=n,se(f[d])):me(e.dom,f[d]);f[++d];){if((g=parseInt(ce(f[d]),10))!==u){d--;break}me(e.dom,f[d])}r&&l--}else u>c&&f[d].setAttribute("data-mce-index",String(u-1))}return t.set(o(o({},a),{count:i?0:a.count-1,index:l})),r?pe(e,t):he(e,t),!i&&t.get().count>0},ye=function(e,t,n){for(var r,i,u=t.get(),a=C.toArray(e.getBody().getElementsByTagName("span")),c=0;c<a.length;c++){var l=ce(a[c]);null!==l&&l.length&&(l===u.index.toString()&&(r||(r=a[c].firstChild),i=a[c].firstChild),se(a[c]))}if(t.set(o(o({},u),{index:-1,count:0,text:""})),r&&i){var s=e.dom.createRng();return s.setStart(r,0),s.setEnd(i,i.data.length),!1!==n&&e.selection.setRng(s),s}},we=function(){var e=function(e){var t=n(w.none()),r=function(){return t.get().each(e)};return{clear:function(){r(),t.set(w.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){r(),t.set(w.some(e))}}}(f);return o(o({},e),{on:function(t){return e.get().each(t)}})},xe=function(e,t){var n=we();e.undoManager.add();var r=C.trim(e.selection.getContent({format:"text"})),i=function(e){var n=function(e,t){return t.get().count>1}(0,t)?e.enable:e.disable;n("next");var r=function(e,t){return t.get().count>1}(0,t)?e.enable:e.disable;r("prev")},u=function(e,t){var n=t?e.disable:e.enable;A(["replace","replaceall","prev","next"],n)},a=function(e,t){S.browser.isSafari()&&S.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},c=function(n){ye(e,t,!1),u(n,!0),i(n)},l=function(n){var r=n.getData(),o=t.get();if(r.findtext.length){if(o.text===r.findtext&&o.matchCase===r.matchcase&&o.wholeWord===r.wholewords)pe(e,t);else{var a=ge(e,t,r.findtext,r.matchcase,r.wholewords,r.inselection);a<=0&&function(t){e.windowManager.alert("Could not find the specified string.",(function(){t.focus("findtext")}))}(n),u(n,0===a)}i(n)}else c(n)},s=t.get(),f={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:{findtext:r,replacetext:"",wholewords:s.wholeWord,matchcase:s.matchCase,inselection:s.inSelection},onChange:function(e,n){"findtext"===n.name&&t.get().count>0&&c(e)},onAction:function(n,r){var u=n.getData();switch(r.name){case"find":l(n);break;case"replace":be(e,t,u.replacetext)?i(n):c(n);break;case"replaceall":be(e,t,u.replacetext,!0,!0),c(n);break;case"prev":he(e,t),i(n);break;case"next":pe(e,t),i(n);break;case"matchcase":case"wholewords":case"inselection":!function(e){var n=e.getData(),r=t.get();t.set(o(o({},r),{matchCase:n.matchcase,wholeWord:n.wholewords,inSelection:n.inselection}))}(n),c(n)}a(n,r.name)},onSubmit:function(e){l(e),a(e,"find")},onClose:function(){e.focus(),ye(e,t),e.undoManager.add()}};n.set(e.windowManager.open(f,{inline:"toolbar"}))},Se=function(e,t){return function(){xe(e,t)}};r.add("searchreplace",(function(e){var t=n({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return function(e,t){e.addCommand("SearchReplace",(function(){xe(e,t)}))}(e,t),function(e,t){e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Se(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Se(e,t),icon:"search"}),e.shortcuts.add("Meta+F","",Se(e,t))}(e,t),function(e,t){return{done:function(n){return ye(e,t,n)},find:function(n,r,o,i){return void 0===i&&(i=!1),ge(e,t,n,r,o,i)},next:function(){return pe(e,t)},prev:function(){return he(e,t)},replace:function(n,r,o){return be(e,t,n,r,o)}}}(e,t)}))}()},55710:function(){!function(){"use strict";function e(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}function t(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"==r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}}function n(e){return function(t){return typeof t===e}}function r(){}function o(e){return function(){return e}}function i(e){return e}function u(){return h}var a=tinymce.util.Tools.resolve("tinymce.PluginManager"),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=t("string"),s=t("array"),f=n("boolean"),d=n("number"),m=o(!1),g=o(!0),p=o("[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]"),h={fold:function(e,t){return e()},isSome:m,isNone:g,getOr:i,getOrThunk:v,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:i,orThunk:v,map:u,each:r,bind:u,exists:m,forall:g,filter:function(){return h},toArray:function(){return[]},toString:o("none()")};function v(e){return e()}function b(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}function y(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function w(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n)}function x(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!s(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);P.apply(t,e[n])}return t}(b(e,t))}function S(e,t){return D.call(e,t)}var C=function(e){function t(){return i}function n(t){return t(e)}var r=o(e),i={fold:function(t,n){return n(e)},isSome:g,isNone:m,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:t,orThunk:t,map:function(t){return C(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?i:h},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},T={some:C,none:u,from:function(e){return null==e?h:C(e)}},k=p,O=tinymce.util.Tools.resolve("tinymce.Env"),A=tinymce.util.Tools.resolve("tinymce.util.Tools"),R=Array.prototype.slice,P=Array.prototype.push,D=Object.hasOwnProperty;function _(e,t){return{element:e,offset:t}}function E(e,t){var n,r;n=e,r=t,T.from(n.dom.parentNode).map(ue.fromDom).each((function(e){e.dom.insertBefore(r.dom,n.dom)})),t.dom.appendChild(e.dom)}function N(e){return ae.get(e)}function F(e,t){return e.isBlock(t)||S(e.schema.getShortEndedElements(),t.nodeName)}function B(e,t){return"false"===e.getContentEditable(t)}function M(e,t){return!e.isBlock(t)&&S(e.schema.getWhiteSpaceElements(),t.nodeName)}function I(e,t){return r=t,0<(o=b((n=ue.fromDom(e)).dom.childNodes,ue.fromDom)).length&&r<o.length?_(o[r],0):_(n,r);var n,r,o}function L(e,t,n,r,o,i){for(var u=(i=void 0===i||i)?t(!1):n;u;){var a=B(e,u);if(a||M(e,u)){if(a?r.cef(u):r.boundary(u))break;u=t(!0)}else{if(F(e,u)){if(r.boundary(u))break}else 3===u.nodeType&&r.text(u);if(u===o)break;u=t(!1)}}}function j(e,t,n,r,o){var i,u,a,c,l,s;F(i=e,u=n)||B(i,u)||M(i,u)||"true"===(a=i).getContentEditable(c=u)&&"false"===a.getContentEditableParent(c.parentNode)||(l=e.getParent(r,e.isBlock),s=new ce(n,l),L(e,(o?s.next:s.prev).bind(s),n,{boundary:g,cef:g,text:function(e){o?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(ue.fromDom(e))}}))}function z(e,t,n,r,o,i){void 0===i&&(i=!0);var u=new ce(n,t),a=[],c={sOffset:0,fOffset:0,elements:[]};function l(){return 0<c.elements.length&&(a.push(c),c={sOffset:0,fOffset:0,elements:[]}),!1}return j(e,c,n,t,!1),L(e,u.next.bind(u),n,{boundary:l,cef:function(e){return l(),o&&a.push.apply(a,o.cef(e)),!1},text:function(e){c.elements.push(ue.fromDom(e)),o&&o.text(e,c)}},r,i),r&&j(e,c,r,t,!0),l(),a}function $(e,t){return t.collapsed?[]:function(e,t){var n=I(t.startContainer,t.startOffset),r=n.element.dom,o=I(t.endContainer,t.endOffset),i=o.element.dom;return z(e,t.commonAncestorContainer,r,i,{text:function(e,t){e===i?t.fOffset+=e.length-o.offset:e===r&&(t.sOffset+=n.offset)},cef:function(t){var n,r,o,i,u=x(1!==(o=i=void 0===(r=ue.fromDom(t))?document:r.dom).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:b(i.querySelectorAll("*[contenteditable=true]"),ue.fromDom),(function(t){var n=t.dom;return z(e,n,n)}));return(n=R.call(u,0)).sort((function(e,t){return n=e.elements[0].dom,r=t.elements[0].dom,o=Node.DOCUMENT_POSITION_PRECEDING,0!=(n.compareDocumentPosition(r)&o)?1:-1;var n,r,o})),n}},!1)}(e,t)}function W(e,t){var n=e.createRng();return n.selectNode(t),$(e,n)}function H(e,t){return x(t,(function(t){var n,r,o,i=t.elements,u=b(i,N).join(""),a=function(e,t,n,r){void 0===r&&(r=e.length);var o=t.regex;o.lastIndex=n=void 0===n?0:n;for(var i,u=[];i=o.exec(e);){var a=i[t.matchIndex],c=i.index+i[0].indexOf(a),l=c+a.length;if(r<l)break;u.push({start:c,finish:l}),o.lastIndex=l}return u}(u,e,t.sOffset,u.length-t.fOffset);return n=a,function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,u=e.length;i<u;i++){var a=e[i],c=t(a);c!==n&&(r.push(o),o=[]),n=c,o.push(a)}return 0!==o.length&&r.push(o),r}((r=function(e,t){var r=N(t),o=e.last,i=o+r.length,u=x(n,(function(e,n){return e.start<i&&e.finish>o?[{element:t,start:Math.max(o,e.start)-o,finish:Math.min(i,e.finish)-o,matchId:n}]:[]}));return{results:e.results.concat(u),last:i}},o={results:[],last:0},y(i,(function(e,t){o=r(o,e)})),o.results),(function(e){return e.matchId}))}))}function q(e,t){w(e,(function(e,n){w(e,(function(e){var r=ue.fromDom(t.cloneNode(!1));!function(e,t,n){!function(e,t,n){if(!(l(n)||f(n)||d(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)}(r,"data-mce-index",n);var o,i=e.element.dom;i.length===e.finish&&0===e.start?E(e.element,r):(i.length!==e.finish&&i.splitText(e.finish),o=i.splitText(e.start),E(ue.fromDom(o),r))}))}))}function U(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t}function V(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)}function K(e,t){var n=[],r=A.toArray(e.getBody().getElementsByTagName("span"));if(r.length)for(var o=0;o<r.length;o++){var i=U(r[o]);null!==i&&i.length&&i===t.toString()&&n.push(r[o])}return n}function Z(e,t,n){var r=t.get(),o=r.index,i=e.dom;(n=!1!==n)?o+1===r.count?o=0:o++:o-1==-1?o=r.count-1:o--,i.removeClass(K(e,r.index),"mce-match-marker-selected");var u=K(e,o);return u.length?(i.addClass(K(e,o),"mce-match-marker-selected"),e.selection.scrollIntoView(u[0]),o):-1}function X(e,t){var n=t.parentNode;e.remove(t),e.isEmpty(n)&&e.remove(n)}function G(e,t,n,r,o,i){var u,a,c,l=e.selection,s=(u=o,a="("+n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")",u?"(?:^|\\s|"+k()+")"+a+"(?=$|\\s|"+k()+")":a),f=l.isForward(),d=function(e,t,n,r){var o=e.dom.create("span",{"data-mce-bogus":1});o.className="mce-match-marker";var i,u,a,c,l,s,f,d,m,g,p=e.getBody();return le(e,t,!1),r?(a=e.dom,c=n,s=o,d=(l=e.selection).getBookmark(),q(g=H(c,0<(m=a.select("td[data-mce-selected],th[data-mce-selected]")).length?(f=a,x(m,(function(e){return W(f,e)}))):$(a,l.getRng())),s),l.moveToBookmark(d),g.length):(i=o,q(u=H(n,W(e.dom,p)),i),u.length)}(e,t,{regex:new RegExp(s,r?"g":"gi"),matchIndex:1},i);return O.browser.isSafari()&&l.setRng(l.getRng(),f),d&&(c=Z(e,t,!0),t.set({index:c,count:d,text:n,matchCase:r,wholeWord:o,inSelection:i})),d}function Y(e,t){var n=Z(e,t,!0);t.set(c(c({},t.get()),{index:n}))}function Q(e,t){var n=Z(e,t,!1);t.set(c(c({},t.get()),{index:n}))}function J(e){var t=U(e);return null!==t&&0<t.length}function ee(e,t,n,r,o){var i,u=t.get(),a=u.index,l=a;r=!1!==r;for(var s=e.getBody(),f=A.grep(A.toArray(s.getElementsByTagName("span")),J),d=0;d<f.length;d++){var m=U(f[d]),g=i=parseInt(m,10);if(o||g===u.index){for(n.length?(f[d].firstChild.nodeValue=n,V(f[d])):X(e.dom,f[d]);f[++d];){if((g=parseInt(U(f[d]),10))!==i){d--;break}X(e.dom,f[d])}r&&l--}else a<i&&f[d].setAttribute("data-mce-index",String(i-1))}return t.set(c(c({},u),{count:o?0:u.count-1,index:l})),(r?Y:Q)(e,t),!o&&0<t.get().count}function te(t,n){var o,i,u,a=(o=r,i=e(T.none()),c(c({},u={clear:function(){l(),i.set(T.none())},isSet:function(){return i.get().isSome()},get:function(){return i.get()},set:function(e){l(),i.set(T.some(e))}}),{on:function(e){return u.get().each(e)}}));function l(){return i.get().each(o)}function s(e){(1<n.get().count?e.enable:e.disable)("next"),(1<n.get().count?e.enable:e.disable)("prev")}function f(e,t){y(["replace","replaceall","prev","next"],t?e.disable:e.enable)}function d(e,t){O.browser.isSafari()&&O.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)}function m(e){le(t,n,!1),f(e,!0),s(e)}function g(e){var r,o,i=e.getData(),u=n.get();i.findtext.length?(u.text===i.findtext&&u.matchCase===i.matchcase&&u.wholeWord===i.wholewords?Y(t,n):((r=G(t,n,i.findtext,i.matchcase,i.wholewords,i.inselection))<=0&&(o=e,t.windowManager.alert("Could not find the specified string.",(function(){o.focus("findtext")}))),f(e,0===r)),s(e)):m(e)}t.undoManager.add();var p=A.trim(t.selection.getContent({format:"text"})),h=n.get(),v={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:{findtext:p,replacetext:"",wholewords:h.wholeWord,matchcase:h.matchCase,inselection:h.inSelection},onChange:function(e,t){"findtext"===t.name&&0<n.get().count&&m(e)},onAction:function(e,r){var o,i,u=e.getData();switch(r.name){case"find":g(e);break;case"replace":(ee(t,n,u.replacetext)?s:m)(e);break;case"replaceall":ee(t,n,u.replacetext,!0,!0),m(e);break;case"prev":Q(t,n),s(e);break;case"next":Y(t,n),s(e);break;case"matchcase":case"wholewords":case"inselection":o=e.getData(),i=n.get(),n.set(c(c({},i),{matchCase:o.matchcase,wholeWord:o.wholewords,inSelection:o.inselection})),m(e)}d(e,r.name)},onSubmit:function(e){g(e),d(e,"find")},onClose:function(){t.focus(),le(t,n),t.undoManager.add()}};a.set(t.windowManager.open(v,{inline:"toolbar"}))}function ne(e,t){return function(){te(e,t)}}function re(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}}"undefined"!=typeof window||Function("return this;")();var oe,ie,ue={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return re(n.childNodes[0])},fromTag:function(e,t){return re((t||document).createElement(e))},fromText:function(e,t){return re((t||document).createTextNode(e))},fromDom:re,fromPoint:function(e,t,n){return T.from(e.dom.elementFromPoint(t,n)).map(re)}},ae=(oe=function(e){return 3===e.dom.nodeType},{get:function(e){if(!oe(e))throw new Error("Can only get text value of a text node");return ie(e).getOr("")},getOption:ie=function(e){return oe(e)?T.from(e.dom.nodeValue):T.none()},set:function(e,t){if(!oe(e))throw new Error("Can only set raw text value of a text node");e.dom.nodeValue=t}}),ce=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),le=function(e,t,n){for(var r,o,i=t.get(),u=A.toArray(e.getBody().getElementsByTagName("span")),a=0;a<u.length;a++){var l=U(u[a]);null!==l&&l.length&&(l===i.index.toString()&&(r=r||u[a].firstChild,o=u[a].firstChild),V(u[a]))}if(t.set(c(c({},i),{index:-1,count:0,text:""})),r&&o){var s=e.dom.createRng();return s.setStart(r,0),s.setEnd(o,o.data.length),!1!==n&&e.selection.setRng(s),s}};a.add("searchreplace",(function(t){var n,r,o,i,u,a=e({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1}),c=a;return(n=t).addCommand("SearchReplace",(function(){te(n,c)})),(r=t).ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:ne(r,o=a),icon:"search"}),r.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:ne(r,o),icon:"search"}),r.shortcuts.add("Meta+F","",ne(r,o)),i=t,u=a,{done:function(e){return le(i,u,e)},find:function(e,t,n,r){return G(i,u,e,t,n,r=void 0!==r&&r)},next:function(){return Y(i,u)},prev:function(){return Q(i,u)},replace:function(e,t,n){return ee(i,u,e,t,n)}}}))}()},41505:function(e,t,n){n(78775)},78775:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=tinymce.util.Tools.resolve("tinymce.EditorManager"),r=tinymce.util.Tools.resolve("tinymce.Env"),o=tinymce.util.Tools.resolve("tinymce.util.Delay"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),u=tinymce.util.Tools.resolve("tinymce.util.VK"),a=t.DOM,c=function(e){e.keyCode!==u.TAB||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()};e.add("tabfocus",(function(e){!function(e){var t=function(t){var c;if(!(t.keyCode!==u.TAB||t.ctrlKey||t.altKey||t.metaKey||t.isDefaultPrevented())){var l,s=function(r){var o=a.select(":input:enabled,*[tabindex]:not(iframe)"),u=function(e){var t=e;return"BODY"===e.nodeName||"hidden"!==t.type&&"none"!==t.style.display&&"hidden"!==t.style.visibility&&u(e.parentNode)},l=function(e){return/INPUT|TEXTAREA|BUTTON/.test(e.tagName)&&n.get(t.id)&&-1!==e.tabIndex&&u(e)};if(i.each(o,(function(t,n){if(t.id===e.id)return c=n,!1})),r>0){for(var s=c+1;s<o.length;s++)if(l(o[s]))return o[s]}else for(s=c-1;s>=0;s--)if(l(o[s]))return o[s];return null},f=i.explode(function(e){return e.getParam("tab_focus",function(e){return e.getParam("tabfocus_elements",":prev,:next")}(e))}(e));if(1===f.length&&(f[1]=f[0],f[0]=":prev"),l=t.shiftKey?":prev"===f[0]?s(-1):a.get(f[0]):":next"===f[1]?s(1):a.get(f[1])){var d=n.get(l.id||l.name);l.id&&d?d.focus():o.setTimeout((function(){r.webkit||window.focus(),l.focus()}),10),t.preventDefault()}}};e.on("init",(function(){e.inline&&a.setAttrib(e.getBody(),"tabIndex",null),e.on("keyup",c),r.gecko?e.on("keypress keydown",t):e.on("keydown",t)}))}(e)}))}()},13877:function(){!function(){"use strict";function e(e){e.keyCode!==a.TAB||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),r=tinymce.util.Tools.resolve("tinymce.EditorManager"),o=tinymce.util.Tools.resolve("tinymce.Env"),i=tinymce.util.Tools.resolve("tinymce.util.Delay"),u=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=tinymce.util.Tools.resolve("tinymce.util.VK"),c=n.DOM;t.add("tabfocus",(function(t){function n(e){var t,n,s,f,d;e.keyCode!==a.TAB||e.ctrlKey||e.altKey||e.metaKey||e.isDefaultPrevented()||(n=function(n){function o(t){return/INPUT|TEXTAREA|BUTTON/.test(t.tagName)&&r.get(e.id)&&-1!==t.tabIndex&&a(t)}var i=c.select(":input:enabled,*[tabindex]:not(iframe)"),a=function(e){return"BODY"===e.nodeName||"hidden"!==e.type&&"none"!==e.style.display&&"hidden"!==e.style.visibility&&a(e.parentNode)};if(u.each(i,(function(e,n){if(e.id===l.id)return t=n,!1})),0<n){for(var s=t+1;s<i.length;s++)if(o(i[s]))return i[s]}else for(s=t-1;0<=s;s--)if(o(i[s]))return i[s];return null},1===(s=u.explode(l.getParam("tab_focus",l.getParam("tabfocus_elements",":prev,:next")))).length&&(s[1]=s[0],s[0]=":prev"),(f=e.shiftKey?":prev"===s[0]?n(-1):c.get(s[0]):":next"===s[1]?n(1):c.get(s[1]))&&(d=r.get(f.id||f.name),f.id&&d?d.focus():i.setTimeout((function(){o.webkit||window.focus(),f.focus()}),10),e.preventDefault()))}var l;(l=t).on("init",(function(){l.inline&&c.setAttrib(l.getBody(),"tabIndex",null),l.on("keyup",e),o.gecko?l.on("keypress keydown",n):l.on("keydown",n)}))}))}()},38619:function(e,t,n){n(42590)},42590:function(){!function(){"use strict";var e=function(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}},t=function(e){return function(t){return typeof t===e}},n=function(e){return function(t){return e===t}},r=e("string"),o=e("object"),i=e("array"),u=n(null),a=t("boolean"),c=n(void 0),l=function(e){return!function(e){return null==e}(e)},s=t("function"),f=t("number"),d=function(){},m=function(e){return function(){return e}},g=function(e){return e},p=function(e,t){return e===t};function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var v,b,y=function(e){return function(t){return!e(t)}},w=m(!1),x=m(!0),S=function(){return C},C={fold:function(e,t){return e()},isSome:w,isNone:x,getOr:b=g,getOrThunk:v=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:m(null),getOrUndefined:m(void 0),or:b,orThunk:v,map:S,each:d,bind:S,exists:w,forall:x,filter:function(){return S()},toArray:function(){return[]},toString:m("none()")},T=function(e){var t=m(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:x,isNone:w,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return T(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:C},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},k={some:T,none:S,from:function(e){return null==e?C:T(e)}},O=Array.prototype.slice,A=Array.prototype.indexOf,R=Array.prototype.push,P=function(e,t){return n=e,r=t,A.call(n,r)>-1;var n,r},D=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},_=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},E=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},N=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},F=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var u=e[o];(t(u,o)?n:r).push(u)}return{pass:n,fail:r}},B=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},M=function(e,t,n){return function(e,t){for(var n=e.length-1;n>=0;n--)t(e[n],n)}(e,(function(e,r){n=t(n,e,r)})),n},I=function(e,t,n){return N(e,(function(e,r){n=t(n,e,r)})),n},L=function(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return k.some(i);if(n(i,r))break}return k.none()}(e,t,w)},j=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return k.some(n)}return k.none()},z=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!i(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);R.apply(t,e[n])}return t},$=function(e,t){return z(E(e,t))},W=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},H=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},q=function(e){return[e]},U=function(e,t){return t>=0&&t<e.length?k.some(e[t]):k.none()},V=function(e){return U(e,0)},K=function(e){return U(e,e.length-1)},Z=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return k.none()},X=function(){return X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},X.apply(this,arguments)};function G(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var Y=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},Q=function(){return J(0,0)},J=function(e,t){return{major:e,minor:t}},ee={nu:J,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?Q():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return J(r(1),r(2))}(e,n)},unknown:Q},te=function(e,t){var n=String(t).toLowerCase();return L(e,(function(e){return e.search(n)}))},ne=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},re=function(e,t){return-1!==e.indexOf(t)},oe=function(e,t){return ne(e,t,0)},ie=function(e,t){return ne(e,t,e.length-t.length)},ue=function(e){return function(t){return t.replace(e,"")}}(/^\s+|\s+$/g),ae=function(e){return e.length>0},ce=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,le=function(e){return function(t){return re(t,e)}},se=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return re(e,"edge/")&&re(e,"chrome")&&re(e,"safari")&&re(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ce],search:function(e){return re(e,"chrome")&&!re(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return re(e,"msie")||re(e,"trident")}},{name:"Opera",versionRegexes:[ce,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:le("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:le("firefox")},{name:"Safari",versionRegexes:[ce,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(re(e,"safari")||re(e,"mobile/"))&&re(e,"applewebkit")}}],fe=[{name:"Windows",search:le("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return re(e,"iphone")||re(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:le("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:le("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:le("linux"),versionRegexes:[]},{name:"Solaris",search:le("sunos"),versionRegexes:[]},{name:"FreeBSD",search:le("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:le("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],de={browsers:m(se),oses:m(fe)},me="Edge",ge="Chrome",pe="Opera",he="Firefox",ve="Safari",be=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(me),isChrome:r(ge),isIE:r("IE"),isOpera:r(pe),isFirefox:r(he),isSafari:r(ve)}},ye={unknown:function(){return be({current:void 0,version:ee.unknown()})},nu:be,edge:m(me),chrome:m(ge),ie:m("IE"),opera:m(pe),firefox:m(he),safari:m(ve)},we="Windows",xe="Android",Se="Linux",Ce="Solaris",Te="FreeBSD",ke="ChromeOS",Oe=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(we),isiOS:r("iOS"),isAndroid:r(xe),isOSX:r("OSX"),isLinux:r(Se),isSolaris:r(Ce),isFreeBSD:r(Te),isChromeOS:r(ke)}},Ae={unknown:function(){return Oe({current:void 0,version:ee.unknown()})},nu:Oe,windows:m(we),ios:m("iOS"),android:m(xe),linux:m(Se),osx:m("OSX"),solaris:m(Ce),freebsd:m(Te),chromeos:m(ke)},Re=function(e,t,n){var r=de.browsers(),o=de.oses(),i=t.bind((function(e){return function(e,t){return Z(t.brands,(function(t){var n=t.brand.toLowerCase();return L(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:ee.nu(parseInt(t.version,10),0)}}))}))}(r,e)})).orThunk((function(){return function(e,t){return te(e,t).map((function(e){var n=ee.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(r,e)})).fold(ye.unknown,ye.nu),u=function(e,t){return te(e,t).map((function(e){var n=ee.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(o,e).fold(Ae.unknown,Ae.nu),a=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,u=e.isiOS()||e.isAndroid(),a=u||r("(pointer:coarse)"),c=o||!i&&u&&r("(min-device-width:768px)"),l=i||u&&!c,s=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!l&&!c&&!s;return{isiPad:m(o),isiPhone:m(i),isTablet:m(c),isPhone:m(l),isTouch:m(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:m(s),isDesktop:m(f)}}(u,i,e,n);return{browser:i,os:u,deviceType:a}},Pe=function(e){return window.matchMedia(e).matches},De=Y((function(){return Re(navigator.userAgent,k.from(navigator.userAgentData),Pe)})),_e=function(){return De()},Ee=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Ne={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Ee(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return Ee(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return Ee(n)},fromDom:Ee,fromPoint:function(e,t,n){return k.from(e.dom.elementFromPoint(t,n)).map(Ee)}},Fe=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Be=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},Me=function(e,t){var n=void 0===t?document:t.dom;return Be(n)?k.none():k.from(n.querySelector(e)).map(Ne.fromDom)},Ie=function(e,t){return e.dom===t.dom},Le=function(e,t){return n=e.dom,r=t.dom,function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(n,r,Node.DOCUMENT_POSITION_CONTAINED_BY);var n,r},je=function(e,t){return _e().browser.isIE()?Le(e,t):function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)}(e,t)},ze=Fe,$e=Object.keys,We=Object.hasOwnProperty,He=function(e,t){for(var n=$e(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},qe=function(e,t){return Ue(e,(function(e,n){return{k:n,v:t(e,n)}}))},Ue=function(e,t){var n={};return He(e,(function(e,r){var o=t(e,r);n[o.k]=o.v})),n},Ve=function(e,t){var n={};return function(e,t,n,r){He(e,(function(e,o){(t(e,o)?n:r)(e,o)}))}(e,t,function(e){return function(t,n){e[n]=t}}(n),d),n},Ke=function(e,t){var n=[];return He(e,(function(e,r){n.push(t(e,r))})),n},Ze=function(e){return Ke(e,g)},Xe=function(e){return $e(e).length},Ge=function(e,t){return Ye(e,t)?k.from(e[t]):k.none()},Ye=function(e,t){return We.call(e,t)},Qe=function(e,t){return Ye(e,t)&&void 0!==e[t]&&null!==e[t]},Je=["tfoot","thead","tbody","colgroup"],et=function(e,t,n){return{element:e,rowspan:t,colspan:n}},tt=function(e,t,n){return{element:e,cells:t,section:n}},nt=function(e,t,n){return{element:e,isNew:t,isLocked:n}},rt=function(e,t,n,r){return{element:e,cells:t,section:n,isNew:r}};"undefined"!=typeof window?window:Function("return this;")();var ot=function(e){return e.dom.nodeName.toLowerCase()},it=function(e){return e.dom.nodeType},ut=function(e){return function(t){return it(t)===e}},at=function(e){return 8===it(e)||"#comment"===ot(e)},ct=ut(1),lt=ut(3),st=ut(9),ft=ut(11),dt=function(e){return function(t){return ct(t)&&ot(t)===e}},mt=function(e){return Ne.fromDom(e.dom.ownerDocument)},gt=function(e){return st(e)?e:mt(e)},pt=function(e){return k.from(e.dom.parentNode).map(Ne.fromDom)},ht=function(e,t){for(var n=s(t)?t:w,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,u=Ne.fromDom(i);if(o.push(u),!0===n(u))break;r=i}return o},vt=function(e){return k.from(e.dom.previousSibling).map(Ne.fromDom)},bt=function(e){return k.from(e.dom.nextSibling).map(Ne.fromDom)},yt=function(e){return E(e.dom.childNodes,Ne.fromDom)},wt=function(e,t){var n=e.dom.childNodes;return k.from(n[t]).map(Ne.fromDom)},xt=s(Element.prototype.attachShadow)&&s(Node.prototype.getRootNode),St=m(xt),Ct=xt?function(e){return Ne.fromDom(e.dom.getRootNode())}:gt,Tt=function(e){var t,n=Ct(e);return ft(t=n)&&l(t.dom.host)?k.some(n):k.none()},kt=function(e){return Ne.fromDom(e.dom.host)},Ot=function(e){return l(e.dom.shadowRoot)},At=function(e){var t=lt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return Tt(Ne.fromDom(t)).fold((function(){return o.body.contains(t)}),(n=At,r=kt,function(e){return n(r(e))}))},Rt=function(e){var t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return Ne.fromDom(t)},Pt=function(e,t){var n=[];return N(yt(e),(function(e){t(e)&&(n=n.concat([e])),n=n.concat(Pt(e,t))})),n},Dt=function(e,t,n){return function(e,t,n){return B(ht(e,n),t)}(e,(function(e){return Fe(e,t)}),n)},_t=function(e,t){return function(e,t){return B(yt(e),t)}(e,(function(e){return Fe(e,t)}))},Et=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return Be(n)?[]:E(n.querySelectorAll(e),Ne.fromDom)}(t,e)};function Nt(e,t,n,r,o){return e(n,r)?k.some(n):s(o)&&o(n)?k.none():t(n,r,o)}var Ft=function(e,t,n){for(var r=e.dom,o=s(n)?n:w;r.parentNode;){r=r.parentNode;var i=Ne.fromDom(r);if(t(i))return k.some(i);if(o(i))break}return k.none()},Bt=function(e,t,n){return Ft(e,(function(e){return Fe(e,t)}),n)},Mt=function(e,t){return function(e,t){return L(e.dom.childNodes,(function(e){return t(Ne.fromDom(e))})).map(Ne.fromDom)}(e,(function(e){return Fe(e,t)}))},It=function(e,t){return Me(t,e)},Lt=function(e,t,n){return Nt((function(e,t){return Fe(e,t)}),Bt,e,t,n)},jt=function(e,t,n){if(!(r(n)||a(n)||f(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},zt=function(e,t,n){jt(e.dom,t,n)},$t=function(e,t){var n=e.dom;He(t,(function(e,t){jt(n,t,e)}))},Wt=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},Ht=function(e,t){return k.from(Wt(e,t))},qt=function(e,t){e.dom.removeAttribute(t)},Ut=function(e){return I(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})},Vt=function(e,t,n){return void 0===n&&(n=p),e.exists((function(e){return n(e,t)}))},Kt=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Zt=function(e,t,n){return e.isSome()&&t.isSome()?k.some(n(e.getOrDie(),t.getOrDie())):k.none()},Xt=function(e,t){return e?k.some(t):k.none()},Gt=function(e){return void 0!==e.style&&s(e.style.getPropertyValue)},Yt=function(e,t,n){if(!r(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Gt(e)&&e.style.setProperty(t,n)},Qt=function(e,t,n){var r=e.dom;Yt(r,t,n)},Jt=function(e,t){var n=e.dom;He(t,(function(e,t){Yt(n,t,e)}))},en=function(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||At(e)?r:tn(n,t)},tn=function(e,t){return Gt(e)?e.style.getPropertyValue(t):""},nn=function(e,t){var n=e.dom,r=tn(n,t);return k.from(r).filter((function(e){return e.length>0}))},rn=function(e,t){!function(e,t){Gt(e)&&e.style.removeProperty(t)}(e.dom,t),Vt(Ht(e,"style").map(ue),"")&&qt(e,"style")},on=function(e,t,n){return void 0===n&&(n=0),Ht(e,t).map((function(e){return parseInt(e,10)})).getOr(n)},un=function(e,t){return on(e,t,1)},an=function(e){return dt("col")(e)?on(e,"span",1)>1:un(e,"colspan")>1},cn=function(e){return un(e,"rowspan")>1},ln=function(e,t){return parseInt(en(e,t),10)},sn=m(10),fn=m(10),dn=function(e,t){return mn(e,t,x)},mn=function(e,t,n){return $(yt(e),(function(e){return Fe(e,t)?n(e)?[e]:[]:mn(e,t,n)}))},gn=function(e,t){return function(e,t,n){return void 0===n&&(n=w),n(t)?k.none():P(e,ot(t))?k.some(t):Bt(t,e.join(","),(function(e){return Fe(e,"table")||n(e)}))}(["td","th"],e,t)},pn=function(e){return dn(e,"th,td")},hn=function(e){return Fe(e,"colgroup")?_t(e,"col"):$(yn(e),(function(e){return _t(e,"col")}))},vn=function(e,t){return Lt(e,"table",t)},bn=function(e){return dn(e,"tr")},yn=function(e){return vn(e).fold(m([]),(function(e){return _t(e,"colgroup")}))},wn=function(e,t){return E(e,(function(e){if("colgroup"===ot(e)){var n=E(hn(e),(function(e){var t=on(e,"span",1);return et(e,1,t)}));return tt(e,n,"colgroup")}n=E(pn(e),(function(e){var t=on(e,"rowspan",1),n=on(e,"colspan",1);return et(e,t,n)}));return tt(e,n,t(e))}))},xn=function(e){return pt(e).map((function(e){var t=ot(e);return function(e){return P(Je,e)}(t)?t:"tbody"})).getOr("tbody")},Sn=function(e){var t=bn(e),n=G(G([],yn(e),!0),t,!0);return wn(n,xn)},Cn=function(e,t,n){var r=e.cells,o=r.slice(0,t),i=r.slice(t),u=o.concat(n).concat(i);return On(e,u)},Tn=function(e,t,n){return Cn(e,t,[n])},kn=function(e,t,n){e.cells[t]=n},On=function(e,t){return rt(e.element,t,e.section,e.isNew)},An=function(e,t){return e.cells[t]},Rn=function(e,t){return An(e,t).element},Pn=function(e){return e.cells.length},Dn=function(e){var t=F(e,(function(e){return"colgroup"===e.section}));return{rows:t.fail,cols:t.pass}},_n=function(e,t,n){var r=E(e.cells,n);return rt(t(e.element),r,e.section,!0)},En="data-snooker-locked-cols",Nn=function(e){return Ht(e,En).bind((function(e){return k.from(e.match(/\d+/g))})).map((function(e){return H(e,x)}))},Fn=function(e){var t=I(Dn(e).rows,(function(e,t){return N(t.cells,(function(t,n){t.isLocked&&(e[n]=!0)})),e}),{}),n=Ke(t,(function(e,t){return parseInt(t,10)}));return function(e,t){var n=O.call(e,0);return n.sort(t),n}(n)},Bn=function(e,t){return e+","+t},Mn=function(e,t){var n=$(e.all,(function(e){return e.cells}));return B(n,t)},In=function(e){var t={},n=[],r=V(e).map((function(e){return e.element})).bind(vn).bind(Nn).getOr({}),o=0,i=0,u=0,a=F(e,(function(e){return"colgroup"===e.section})),c=a.pass,l=a.fail;N(l,(function(e){var a=[];N(e.cells,(function(e){for(var n=0;void 0!==t[Bn(u,n)];)n++;for(var o=Qe(r,n.toString()),c=function(e,t,n,r,o,i){return{element:e,rowspan:t,colspan:n,row:r,column:o,isLocked:i}}(e.element,e.rowspan,e.colspan,u,n,o),l=0;l<e.colspan;l++)for(var s=0;s<e.rowspan;s++){var f=n+l,d=Bn(u+s,f);t[d]=c,i=Math.max(i,f+1)}a.push(c)})),o++,n.push(tt(e.element,a,e.section)),u++}));var s=K(c).map((function(e){var t=function(e){var t={},n=0;return N(e.cells,(function(e){var r=e.colspan;_(r,(function(o){var i=n+o;t[i]=function(e,t,n){return{element:e,colspan:t,column:n}}(e.element,r,i)})),n+=r})),t}(e),n=function(e,t){return{element:e,columns:t}}(e.element,Ze(t));return{colgroups:[n],columns:t}})).getOrThunk((function(){return{colgroups:[],columns:{}}})),f=s.columns,d=s.colgroups,m=function(e,t){return{rows:e,columns:t}}(o,i);return{grid:m,access:t,all:n,columns:f,colgroups:d}},Ln={fromTable:function(e){var t=Sn(e);return In(t)},generate:In,getAt:function(e,t,n){return k.from(e.access[Bn(t,n)])},findItem:function(e,t,n){var r=Mn(e,(function(e){return n(t,e.element)}));return r.length>0?k.some(r[0]):k.none()},filterItems:Mn,justCells:function(e){return $(e.all,(function(e){return e.cells}))},justColumns:function(e){return Ze(e.columns)},hasColumns:function(e){return $e(e.columns).length>0},getColumnAt:function(e,t){return k.from(e.columns[t])}},jn=function(e,t){var n=t.column,r=t.column+t.colspan-1,o=t.row,i=t.row+t.rowspan-1;return n<=e.finishCol&&r>=e.startCol&&o<=e.finishRow&&i>=e.startRow},zn=function(e,t){return t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow},$n=function(e,t,n){var r=Ln.findItem(e,t,Ie),o=Ln.findItem(e,n,Ie);return r.bind((function(e){return o.map((function(t){return n=e,r=t,o=Math.min(n.row,r.row),i=Math.min(n.column,r.column),u=Math.max(n.row+n.rowspan-1,r.row+r.rowspan-1),a=Math.max(n.column+n.colspan-1,r.column+r.colspan-1),{startRow:o,startCol:i,finishRow:u,finishCol:a};var n,r,o,i,u,a}))}))},Wn=function(e,t,n){return $n(e,t,n).bind((function(t){return function(e,t){for(var n=!0,r=h(zn,t),o=t.startRow;o<=t.finishRow;o++)for(var i=t.startCol;i<=t.finishCol;i++)n=n&&Ln.getAt(e,o,i).exists(r);return n?k.some(t):k.none()}(e,t)}))},Hn=function(e,t,n){return $n(e,t,n).map((function(t){var n=Ln.filterItems(e,h(jn,t));return E(n,(function(e){return e.element}))}))},qn=function(e,t){return Ln.findItem(e,t,(function(e,t){return je(t,e)})).map((function(e){return e.element}))},Un=function(e,t,n){return vn(e).bind((function(r){return function(e,t,n,r){return Ln.findItem(e,t,Ie).bind((function(t){var o=n>0?t.row+t.rowspan-1:t.row,i=r>0?t.column+t.colspan-1:t.column;return Ln.getAt(e,o+n,i+r).map((function(e){return e.element}))}))}(Zn(r),e,t,n)}))},Vn=function(e,t,n){var r=Zn(e);return Hn(r,t,n)},Kn=function(e,t,n,r,o){var i=Zn(e),u=Ie(e,n)?k.some(t):qn(i,t),a=Ie(e,o)?k.some(r):qn(i,r);return u.bind((function(e){return a.bind((function(t){return Hn(i,e,t)}))}))},Zn=Ln.fromTable,Xn=function(e,t){pt(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},Gn=function(e,t){bt(e).fold((function(){pt(e).each((function(e){Qn(e,t)}))}),(function(e){Xn(e,t)}))},Yn=function(e,t){var n=function(e){return wt(e,0)}(e);n.fold((function(){Qn(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},Qn=function(e,t){e.dom.appendChild(t.dom)},Jn=function(e,t){Xn(e,t),Qn(t,e)},er=function(e,t){N(t,(function(n,r){var o=0===r?e:t[r-1];Gn(o,n)}))},tr=function(e,t){N(t,(function(t){Qn(e,t)}))},nr=function(e){e.dom.textContent="",N(yt(e),(function(e){rr(e)}))},rr=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},or=function(e){var t,n=yt(e);n.length>0&&(t=e,N(n,(function(e){Xn(t,e)}))),rr(e)},ir=function(e,t){var n=function(t){return e(t)?k.from(t.dom.nodeValue):k.none()};return{get:function(r){if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node");return n(r).getOr("")},getOption:n,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=r}}}(lt,"text"),ur=function(e){return ir.get(e)},ar=function(e){return ir.getOption(e)},cr=function(e,t){return ir.set(e,t)},lr=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function sr(){return{up:m({selector:Bt,closest:Lt,predicate:Ft,all:ht}),down:m({selector:Et,predicate:Pt}),styles:m({get:en,getRaw:nn,set:Qt,remove:rn}),attrs:m({get:Wt,set:zt,remove:qt,copyTo:function(e,t){var n=Ut(e);$t(t,n)}}),insert:m({before:Xn,after:Gn,afterAll:er,append:Qn,appendAll:tr,prepend:Yn,wrap:Jn}),remove:m({unwrap:or,remove:rr}),create:m({nu:Ne.fromTag,clone:function(e){return Ne.fromDom(e.dom.cloneNode(!1))},text:Ne.fromText}),query:m({comparePosition:function(e,t){return e.dom.compareDocumentPosition(t.dom)},prevSibling:vt,nextSibling:bt}),property:m({children:yt,name:ot,parent:pt,document:function(e){return gt(e).dom},isText:lt,isComment:at,isElement:ct,isSpecial:function(e){var t=ot(e);return P(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:function(e){return ct(e)?Ht(e,"lang"):k.none()},getText:ur,setText:cr,isBoundary:function(e){return!!ct(e)&&("body"===ot(e)||P(lr,ot(e)))},isEmptyTag:function(e){return!!ct(e)&&P(["br","img","hr","input"],ot(e))},isNonEditable:function(e){return ct(e)&&"false"===Wt(e,"contenteditable")}}),eq:Ie,is:ze}}var fr,dr,mr,gr,pr=function(e,t,n,r){var o=t(e,n);return M(r,(function(n,r){var o=t(e,r);return hr(e,n,o)}),o)},hr=function(e,t,n){return t.bind((function(t){return n.filter(h(e.eq,t))}))},vr=function(e,t,n){return n.length>0?function(e,t,n,r){return r(e,t,n[0],n.slice(1))}(e,t,n,pr):k.none()},br=function(e,t,n,r){void 0===r&&(r=w);var o=[t].concat(e.up().all(t)),i=[n].concat(e.up().all(n)),u=function(e){return j(e,r).fold((function(){return e}),(function(t){return e.slice(0,t+1)}))},a=u(o),c=u(i),l=L(a,(function(t){return D(c,function(e,t){return h(e.eq,t)}(e,t))}));return{firstpath:a,secondpath:c,shared:l}},yr=sr(),wr=function(e,t){return vr(yr,(function(t,n){return e(n)}),t)},xr=function(e){return Bt(e,"table")},Sr=function(e,t,n){var r=function(e){return function(t){return void 0!==n&&n(t)||Ie(t,e)}};return Ie(e,t)?k.some({boxes:k.some([e]),start:e,finish:t}):xr(e).bind((function(o){return xr(t).bind((function(i){if(Ie(o,i))return k.some({boxes:Vn(o,e,t),start:e,finish:t});if(je(o,i)){var u=(a=Dt(t,"td,th",r(o))).length>0?a[a.length-1]:t;return k.some({boxes:Kn(o,e,o,t,i),start:e,finish:u})}if(je(i,o)){var a,c=(a=Dt(e,"td,th",r(i))).length>0?a[a.length-1]:e;return k.some({boxes:Kn(i,e,o,t,i),start:e,finish:c})}return function(e,t,n){return br(yr,e,t,n)}(e,t).shared.bind((function(u){return Lt(u,"table",n).bind((function(n){var u=Dt(t,"td,th",r(n)),a=u.length>0?u[u.length-1]:t,c=Dt(e,"td,th",r(n)),l=c.length>0?c[c.length-1]:e;return k.some({boxes:Kn(n,e,o,t,i),start:l,finish:a})}))}))}))}))},Cr=function(e,t){var n=Et(e,t);return n.length>0?k.some(n):k.none()},Tr=function(e,t,n){return It(e,t).bind((function(t){return It(e,n).bind((function(e){return wr(xr,[t,e]).map((function(n){return{first:t,last:e,table:n}}))}))}))},kr=function(e,t,n,r,o){return function(e,t){return L(e,(function(e){return Fe(e,t)}))}(e,o).bind((function(e){return Un(e,t,n).bind((function(e){return function(e,t){return Bt(e,"table").bind((function(n){return It(n,t).bind((function(t){return Sr(t,e).bind((function(e){return e.boxes.map((function(t){return{boxes:t,start:e.start,finish:e.finish}}))}))}))}))}(e,r)}))}))},Or=function(e,t){return Cr(e,t)},Ar=function(e,t,n){return Tr(e,t,n).bind((function(t){var n=function(t){return Ie(e,t)},r="thead,tfoot,tbody,table",o=Bt(t.first,r,n),i=Bt(t.last,r,n);return o.bind((function(e){return i.bind((function(n){return Ie(e,n)?function(e,t,n){var r=Zn(e);return Wn(r,t,n)}(t.table,t.first,t.last):k.none()}))}))}))},Rr=function(e){if(!i(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return N(e,(function(r,o){var u=$e(r);if(1!==u.length)throw new Error("one and only one name per case");var a=u[0],c=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!i(c))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==c.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+i);var u=function(e){var r=$e(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!W(t,(function(e){return P(r,e)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)};return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);var i=t[o];return i.apply(null,n)},match:u,log:function(e){console.log(e,{constructors:t,constructor:a,params:n})}}}})),n},Pr=Rr([{none:[]},{multiple:["elements"]},{single:["element"]}]),Dr=function(e,t,n,r){return e.fold(t,n,r)},_r=Pr.none,Er=Pr.multiple,Nr=Pr.single,Fr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Br=function(e,t){return Ne.fromDom(e.dom.cloneNode(t))},Mr=function(e){return Br(e,!1)},Ir=function(e){return Br(e,!0)},Lr=function(e,t){var n=Ne.fromTag(t),r=Ut(e);return $t(n,r),n},jr=function(e,t){var n=function(n){var r=t(n);if(r<=0||null===r){var o=en(n,e);return parseFloat(o)||0}return r},r=function(e,t){return I(t,(function(t,n){var r=en(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)};return{set:function(t,n){if(!f(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom;Gt(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){var o=r(e,n);return t>o?t-o:0}}},zr=function(){var e=_e().browser;return e.isIE()||e.isEdge()},$r=function(e,t){return function(e){var t=parseFloat(e);return isNaN(t)?k.none():k.some(t)}(e).getOr(t)},Wr=function(e,t,n){return $r(en(e,t),n)},Hr=function(e){return en(e,"box-sizing")},qr=function(e,t,n,r){return t-Wr(e,"padding-"+n,0)-Wr(e,"padding-"+r,0)-Wr(e,"border-"+n+"-width",0)-Wr(e,"border-"+r+"-width",0)},Ur=function(e,t){var n=e.dom,r=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?r:qr(e,r,"left","right")},Vr=jr("width",(function(e){return e.dom.offsetWidth})),Kr=function(e){return Vr.get(e)},Zr=function(e){return Vr.getOuter(e)},Xr=function(e){return Ur(e,"content-box")},Gr=function(e){return zr()?Ur(e,Hr(e)):Wr(e,"width",e.dom.offsetWidth)},Yr=function(e,t){void 0===t&&(t=x);var n=e.grid,r=_(n.columns,g),o=_(n.rows,g);return E(r,(function(n){return Qr((function(){return $(o,(function(t){return Ln.getAt(e,t,n).filter((function(e){return e.column===n})).toArray()}))}),(function(e){return 1===e.colspan&&t(e.element)}),(function(){return Ln.getAt(e,0,n)}))}))},Qr=function(e,t,n){var r=e();return L(r,t).orThunk((function(){return k.from(r[0]).orThunk(n)})).map((function(e){return e.element}))},Jr=function(e){var t=e.grid,n=_(t.rows,g),r=_(t.columns,g);return E(n,(function(t){return Qr((function(){return $(r,(function(n){return Ln.getAt(e,t,n).filter((function(e){return e.row===t})).fold(m([]),(function(e){return[e]}))}))}),(function(e){return 1===e.rowspan}),(function(){return Ln.getAt(e,t,0)}))}))},eo=function(e,t){if(t<0||t>=e.length-1)return k.none();var n=e[t].fold((function(){var n=function(e){var t=O.call(e,0);return t.reverse(),t}(e.slice(0,t));return Z(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return k.some({value:e,delta:0})})),r=e[t+1].fold((function(){var n=e.slice(t+1);return Z(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return k.some({value:e,delta:1})}));return n.bind((function(e){return r.map((function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))}))},to=function(e,t){return function(n){return"rtl"===no(n)?t:e}},no=function(e){return"rtl"===en(e,"direction")?"rtl":"ltr"},ro=jr("height",(function(e){var t=e.dom;return At(e)?t.getBoundingClientRect().height:t.offsetHeight})),oo=function(e){return ro.get(e)},io=function(e){return ro.getOuter(e)},uo=function(e){return zr()?function(e,t){var n=e.dom,r=n.getBoundingClientRect().height||n.offsetHeight;return"border-box"===t?r:qr(e,r,"top","bottom")}(e,Hr(e)):Wr(e,"height",e.dom.offsetHeight)},ao=function(e,t){return{left:e,top:t,translate:function(n,r){return ao(e+n,t+r)}}},co=ao,lo=function(e,t){return void 0!==e?e:void 0!==t?t:0},so=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return co(n.offsetLeft,n.offsetTop);var i=lo(null==r?void 0:r.pageYOffset,o.scrollTop),u=lo(null==r?void 0:r.pageXOffset,o.scrollLeft),a=lo(o.clientTop,n.clientTop),c=lo(o.clientLeft,n.clientLeft);return fo(e).translate(u-c,i-a)},fo=function(e){var t=e.dom,n=t.ownerDocument.body;return n===t?co(n.offsetLeft,n.offsetTop):At(e)?function(e){var t=e.getBoundingClientRect();return co(t.left,t.top)}(t):co(0,0)},mo=function(e,t){return{row:e,y:t}},go=function(e,t){return{col:e,x:t}},po=function(e){return so(e).left+Zr(e)},ho=function(e){return so(e).left},vo=function(e,t){return go(e,ho(t))},bo=function(e,t){return go(e,po(t))},yo=function(e){return so(e).top},wo=function(e,t){return mo(e,yo(t))},xo=function(e,t){return mo(e,yo(t)+io(t))},So=function(e,t,n){if(0===n.length)return[];var r=E(n.slice(1),(function(t,n){return t.map((function(t){return e(n,t)}))})),o=n[n.length-1].map((function(e){return t(n.length-1,e)}));return r.concat([o])},Co={delta:g,positions:function(e){return So(wo,xo,e)},edge:yo},To={delta:g,edge:ho,positions:function(e){return So(vo,bo,e)}},ko={delta:function(e){return-e},edge:po,positions:function(e){return So(bo,vo,e)}},Oo=to(To,ko),Ao={delta:function(e,t){return Oo(t).delta(e,t)},positions:function(e,t){return Oo(t).positions(e,t)},edge:function(e){return Oo(e).edge(e)}},Ro={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Po=(fr="[0-9]+",dr="[eE][+-]?[0-9]+",mr=function(e){return"(?:"+e+")?"},gr=["Infinity","[0-9]+\\."+mr(fr)+mr(dr),"\\.[0-9]+"+mr(dr),fr+mr(dr)].join("|"),new RegExp("^([+-]?(?:"+gr+"))(.*)$")),Do=function(e,t){return k.from(Po.exec(e)).bind((function(e){var n=Number(e[1]),r=e[2];return function(e,t){return D(t,(function(t){return D(Ro[t],(function(t){return e===t}))}))}(r,t)?k.some({value:n,unit:r}):k.none()}))},_o=/(\d+(\.\d+)?)%/,Eo=/(\d+(\.\d+)?)px|em/,No=dt("col"),Fo=function(e,t,n){var r,o=(r=e,k.from(r.dom.parentElement).map(Ne.fromDom)).getOrThunk((function(){return Rt(mt(e))}));return t(e)/n(o)*100},Bo=function(e,t){Qt(e,"width",t+"px")},Mo=function(e,t){Qt(e,"width",t+"%")},Io=function(e,t){Qt(e,"height",t+"px")},Lo=function(e,t,n,r){var o=parseFloat(e);return ie(e,"%")&&"table"!==ot(t)?function(e,t,n,r){var o=vn(e).map((function(e){var r=n(e);return Math.floor(t/100*r)})).getOr(t);return r(e,o),o}(t,o,n,r):o},jo=function(e){var t=function(e){return uo(e)+"px"}(e);return t?Lo(t,e,oo,Io):oo(e)},zo=function(e,t){return nn(e,t).orThunk((function(){return Ht(e,t).map((function(e){return e+"px"}))}))},$o=function(e){return zo(e,"width")},Wo=function(e){return Fo(e,Kr,Xr)},Ho=function(e){return No(e)?Kr(e):Gr(e)},qo=function(e){return function(e,t,n){return n(e)/un(e,t)}(e,"rowspan",jo)},Uo=function(e,t,n){Qt(e,"width",t+n)},Vo=function(e){return Fo(e,Kr,Xr)+"%"},Ko=m(_o),Zo=dt("col"),Xo=function(e){return $o(e).getOrThunk((function(){return Ho(e)+"px"}))},Go=function(e){return(t=e,zo(t,"height")).getOrThunk((function(){return qo(e)+"px"}));var t},Yo=function(e,t,n,r,o,i){return e.filter(r).fold((function(){return i(eo(n,t))}),(function(e){return o(e)}))},Qo=function(e,t,n,r){var o=Yr(e),i=Ln.hasColumns(e)?function(e){return E(Ln.justColumns(e),(function(e){return k.from(e.element)}))}(e):o,u=[k.some(Ao.edge(t))].concat(E(Ao.positions(o,t),(function(e){return e.map((function(e){return e.x}))}))),a=y(an);return E(i,(function(e,t){return Yo(e,t,u,a,(function(e){if(function(e){var t=_e().browser,n=t.isChrome()||t.isFirefox();return!Zo(e)||n}(e))return n(e);var i,c,l=(i=o[t],c=g,null!=i?c(i):k.none());return Yo(l,t,u,a,(function(e){return r(k.some(Kr(e)))}),r)}),r)}))},Jo=function(e){return e.map((function(e){return e+"px"})).getOr("")},ei=function(e,t,n){return Qo(e,t,Ho,(function(e){return e.getOrThunk(n.minCellWidth)}))},ti=function(e,t,n,r,o){var i=Jr(e),u=[k.some(n.edge(t))].concat(E(n.positions(i,t),(function(e){return e.map((function(e){return e.y}))})));return E(i,(function(e,t){return Yo(e,t,u,y(cn),r,o)}))},ni=function(e,t){return function(){return At(e)?t(e):parseFloat(nn(e,"width").getOr("0"))}},ri=function(e){var t=ni(e,Kr),n=m(0);return{width:t,pixelWidth:t,getWidths:function(t,n){return ei(t,e,n)},getCellDelta:n,singleColumnWidth:m([0]),minCellWidth:n,setElementWidth:d,adjustTableWidth:d,isRelative:!0,label:"none"}},oi=function(e){var t=ni(e,(function(e){return parseFloat(Vo(e))})),n=ni(e,Kr);return{width:t,pixelWidth:n,getWidths:function(t,n){return function(e,t,n){return Qo(e,t,Wo,(function(e){return e.fold((function(){return n.minCellWidth()}),(function(e){return e/n.pixelWidth()*100}))}))}(t,e,n)},getCellDelta:function(e){return e/n()*100},singleColumnWidth:function(e,t){return[100-e]},minCellWidth:function(){return sn()/n()*100},setElementWidth:Mo,adjustTableWidth:function(n){var r=t();Mo(e,r+n/100*r)},isRelative:!0,label:"percent"}},ii=function(e){var t=ni(e,Kr);return{width:t,pixelWidth:t,getWidths:function(t,n){return ei(t,e,n)},getCellDelta:g,singleColumnWidth:function(e,t){return[Math.max(sn(),e+t)-e]},minCellWidth:sn,setElementWidth:Bo,adjustTableWidth:function(n){var r=t()+n;Bo(e,r)},isRelative:!1,label:"pixel"}},ui=function(e){return $o(e).fold((function(){return ri(e)}),(function(t){return function(e,t){return null!==Ko().exec(t)?oi(e):ii(e)}(e,t)}))},ai=ii,ci=oi,li=function(e,t,n){var r=e[n].element,o=Ne.fromTag("td");Qn(o,Ne.fromTag("br")),(t?Qn:Yn)(r,o)},si=function(e,t){var n=function(e){return Fe(e.element,t)},r=Ir(e),o=Sn(r),i=ui(e),u=Ln.generate(o),a=function(e,t){var n=e.grid.columns,r=e.grid.rows,o=n,i=0,u=0,a=[],c=[];return He(e.access,(function(e){if(a.push(e),t(e)){c.push(e);var n=e.row,l=n+e.rowspan-1,s=e.column,f=s+e.colspan-1;n<r?r=n:l>i&&(i=l),s<o?o=s:f>u&&(u=f)}})),function(e,t,n,r,o,i){return{minRow:e,minCol:t,maxRow:n,maxCol:r,allCells:o,selectedCells:i}}(r,o,i,u,a,c)}(u,n),c="th:not("+t+"),td:not("+t+")",l=mn(r,"th,td",(function(e){return Fe(e,c)}));N(l,rr),function(e,t,n,r){for(var o=t.grid.columns,i=t.grid.rows,u=0;u<i;u++)for(var a=!1,c=0;c<o;c++)u<n.minRow||u>n.maxRow||c<n.minCol||c>n.maxCol||(Ln.getAt(t,u,c).filter(r).isNone()?li(e,a,u):a=!0)}(o,u,a,n);var s=function(e,t,n,r){if(0===r.minCol&&t.grid.columns===r.maxCol+1)return 0;var o=ei(t,e,n),i=I(o,(function(e,t){return e+t}),0),u=I(o.slice(r.minCol,r.maxCol+1),(function(e,t){return e+t}),0),a=u/i*n.pixelWidth()-n.pixelWidth();return n.getCellDelta(a)}(e,Ln.fromTable(e),i,a);return function(e,t,n,r){He(n.columns,(function(e){(e.column<t.minCol||e.column>t.maxCol)&&rr(e.element)}));var o=B(dn(e,"tr"),(function(e){return 0===e.dom.childElementCount}));N(o,rr),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||N(dn(e,"th,td"),(function(e){qt(e,"rowspan"),qt(e,"colspan")})),qt(e,En),qt(e,"data-snooker-col-series"),ui(e).adjustTableWidth(r)}(r,a,u,s),r},fi=function(e){return"img"===ot(e)?1:ar(e).fold((function(){return yt(e).length}),(function(e){return e.length}))},di=["img","br"],mi=function(e){return ar(e).filter((function(e){return 0!==e.trim().length||e.indexOf("")>-1})).isSome()||P(di,ot(e))},gi=function(e){return t=mi,(n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=Ne.fromDom(e.childNodes[r]);if(t(o))return k.some(o);var i=n(e.childNodes[r]);if(i.isSome())return i}return k.none()})(e.dom);var t,n},pi=function(e){return hi(e,mi)},hi=function(e,t){var n=function(e){for(var r=yt(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return k.some(i);var u=n(i);if(u.isSome())return u}return k.none()};return n(e)},vi={scope:["row","col"]},bi=function(e){return function(){var t=Ne.fromTag("td",e.dom);return Qn(t,Ne.fromTag("br",e.dom)),t}},yi=function(e){return function(){return Ne.fromTag("col",e.dom)}},wi=function(e){return function(){return Ne.fromTag("colgroup",e.dom)}},xi=function(e){return function(){return Ne.fromTag("tr",e.dom)}},Si=function(e,t,n){var r=function(e,t){var n=Lr(e,t),r=yt(Ir(e));return tr(n,r),n}(e,t);return He(n,(function(e,t){null===e?qt(r,t):zt(r,t,e)})),r},Ci=function(e){return e},Ti=function(e,t,n){var r=function(e,t){var n,r,o,i;n=e.element,r=t,o=n.dom,i=r.dom,Gt(o)&&Gt(i)&&(i.style.cssText=o.style.cssText),rn(t,"height"),1!==e.colspan&&rn(t,"width")};return{col:function(n){var o=Ne.fromTag(ot(n.element),t.dom);return r(n,o),e(n.element,o),o},colgroup:wi(t),row:xi(t),cell:function(o){var i=Ne.fromTag(ot(o.element),t.dom),u=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),a=u.length>0?function(e,t,n){return gi(e).map((function(r){var o=n.join(","),i=Dt(r,o,(function(t){return Ie(t,e)}));return M(i,(function(e,t){var n=Mr(t);return qt(n,"contenteditable"),Qn(e,n),n}),t)})).getOr(t)}(o.element,i,u):i;return Qn(a,Ne.fromTag("br")),r(o,i),function(e,t){He(vi,(function(n,r){return Ht(e,r).filter((function(e){return P(n,e)})).each((function(e){return zt(t,r,e)}))}))}(o.element,i),e(o.element,i),i},replace:Si,colGap:yi(t),gap:bi(t)}},ki=function(e){return{col:yi(e),colgroup:wi(e),row:xi(e),cell:bi(e),replace:Ci,colGap:yi(e),gap:bi(e)}},Oi=function(e){return E(e,Ne.fromDom)},Ai=function(e){return Ne.fromDom(e.getBody())},Ri=function(e){return e.getBoundingClientRect().width},Pi=function(e){return e.getBoundingClientRect().height},Di=function(e){return function(t){return Ie(t,Ai(e))}},_i=function(e){return/^\d+(\.\d+)?$/.test(e)?e+"px":e},Ei=function(e){qt(e,"data-mce-style");var t=function(e){return qt(e,"data-mce-style")};N(pn(e),t),N(hn(e),t),N(bn(e),t)},Ni=function(e){return Ne.fromDom(e.selection.getStart())},Fi=function(e){return Dr(e.get(),m([]),g,q)},Bi=function(e){var t=function(e,t){return Ht(e,t).exists((function(e){return parseInt(e,10)>1}))},n=Fi(e);return n.length>0&&W(n,(function(e){return t(e,"rowspan")||t(e,"colspan")}))?k.some(n):k.none()},Mi=function(e,t,n){return Dr(t.get(),k.none,(function(t){return t.length<=1?k.none():Ar(e,n.firstSelectedSelector,n.lastSelectedSelector).map((function(e){return{bounds:e,cells:t}}))}),k.none)},Ii="data-mce-selected",Li="data-mce-first-selected",ji="data-mce-last-selected",zi={selected:Ii,selectedSelector:"td[data-mce-selected],th[data-mce-selected]",firstSelected:Li,firstSelectedSelector:"td[data-mce-first-selected],th[data-mce-first-selected]",lastSelected:ji,lastSelectedSelector:"td[data-mce-last-selected],th[data-mce-last-selected]"},$i=function(e,t,n){return{element:n,mergable:Mi(t,e,zi),unmergable:Bi(e),selection:Fi(e)}},Wi=function(e){return function(t,n){var r,o=ot(t),i="col"===o||"colgroup"===o?vn(r=t).bind((function(e){return Or(e,zi.firstSelectedSelector)})).fold(m(r),(function(e){return e[0]})):t;return Lt(i,e,n)}},Hi=Wi("th,td,caption"),qi=Wi("th,td"),Ui=function(e){return Fi(e)},Vi=function(e,t,n){e.on("BeforeGetContent",(function(n){!0===n.selection&&Dr(t.get(),d,(function(t){n.preventDefault(),function(e){return vn(e[0]).map((function(e){var t=si(e,"[data-mce-selected]");return Ei(t),[t]}))}(t).each((function(t){n.content="text"===n.format?function(e){return E(e,(function(e){return e.dom.innerText})).join("")}(t):function(e,t){return E(t,(function(t){return e.selection.serializer.serialize(t.dom,{})})).join("")}(e,t)}))}),d)})),e.on("BeforeSetContent",(function(r){if(!0===r.selection&&!0===r.paste){var o=Ui(t);V(o).each((function(t){vn(t).each((function(o){var i,u,a,c=B((i=r.content,(a=(u||document).createElement("div")).innerHTML=i,yt(Ne.fromDom(a))),(function(e){return"meta"!==ot(e)})),l=dt("table");if(1===c.length&&l(c[0])){r.preventDefault();var s=Ne.fromDom(e.getDoc()),f=ki(s),d=function(e,t,n){return{element:e,clipboard:t,generators:n}}(t,c[0],f);n.pasteCells(o,d).each((function(){e.focus()}))}}))}))}}))},Ki=Rr([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Zi=X({},Ki),Xi=function(e,t,n,r,o){var i=e.slice(0),u=function(e,t){return 0===e.length?Zi.none():1===e.length?Zi.only(0):0===t?Zi.left(0,1):t===e.length-1?Zi.right(t-1,t):t>0&&t<e.length-1?Zi.middle(t-1,t,t+1):Zi.none()}(e,t),a=m(E(i,m(0)));return u.fold(a,(function(e){return r.singleColumnWidth(i[e],n)}),(function(e,t){return o.calcLeftEdgeDeltas(i,e,t,n,r.minCellWidth(),r.isRelative)}),(function(e,t,u){return o.calcMiddleDeltas(i,e,t,u,n,r.minCellWidth(),r.isRelative)}),(function(e,t){return o.calcRightEdgeDeltas(i,e,t,n,r.minCellWidth(),r.isRelative)}))},Gi=function(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r},Yi=function(e,t){var n=Ln.justCells(e);return E(n,(function(e){var n=Gi(e.row,e.row+e.rowspan,t);return{element:e.element,height:n,rowspan:e.rowspan}}))},Qi=function(e,t){return Ln.hasColumns(e)?function(e,t){var n=Ln.justColumns(e);return E(n,(function(e,n){return{element:e.element,width:t[n],colspan:e.colspan}}))}(e,t):function(e,t){var n=Ln.justCells(e);return E(n,(function(e){var n=Gi(e.column,e.column+e.colspan,t);return{element:e.element,width:n,colspan:e.colspan}}))}(e,t)},Ji=function(e,t,n){var r=Qi(e,t);N(r,(function(e){n.setElementWidth(e.element,e.width)}))},eu=function(e,t,n,r,o){var i=Ln.fromTable(e),u=o.getCellDelta(t),a=o.getWidths(i,o),c=n===i.grid.columns-1,l=r.clampTableDelta(a,n,u,o.minCellWidth(),c),s=Xi(a,n,l,o,r),f=E(s,(function(e,t){return e+a[t]}));Ji(i,f,o),r.resizeTable(o.adjustTableWidth,l,c)},tu=function(e,t,n,r){var o=Ln.fromTable(e),i=function(e,t,n){return ti(e,t,n,qo,(function(e){return e.getOrThunk(fn)}))}(o,e,r),u=E(i,(function(e,r){return n===r?Math.max(t+e,fn()):e})),a=Yi(o,u),c=function(e,t){return E(e.all,(function(e,n){return{element:e.element,height:t[n]}}))}(o,u);N(c,(function(e){Io(e.element,e.height)})),N(a,(function(e){Io(e.element,e.height)}));var l=M(u,(function(e,t){return e+t}),0);Io(e,l)},nu=function(e){return E(e,m(0))},ru=function(e,t,n,r,o){return o(e.slice(0,t)).concat(r).concat(o(e.slice(n)))},ou=function(e){return function(t,n,r,o){if(e(r)){var i=Math.max(o,t[n]-Math.abs(r)),u=Math.abs(i-t[n]);return r>=0?u:-u}return r}},iu=ou((function(e){return e<0})),uu=ou(x),au=function(){var e=function(e,t,n,r){var o=(100+n)/100,i=Math.max(r,(e[t]+n)/o);return E(e,(function(e,n){return(n===t?i:e/o)-e}))},t=function(t,n,r,o,i,u){return u?e(t,n,o,i):function(e,t,n,r,o){var i=iu(e,t,r,o);return ru(e,t,n+1,[i,0],nu)}(t,n,r,o,i)};return{resizeTable:function(e,t){return e(t)},clampTableDelta:iu,calcLeftEdgeDeltas:t,calcMiddleDeltas:function(e,n,r,o,i,u,a){return t(e,r,o,i,u,a)},calcRightEdgeDeltas:function(t,n,r,o,i,u){if(u)return e(t,r,o,i);var a=iu(t,r,o,i);return nu(t.slice(0,r)).concat([a])},calcRedestributedWidths:function(e,t,n,r){if(r){var o=(t+n)/t,i=E(e,(function(e){return e/o}));return{delta:100*o-100,newSizes:i}}return{delta:n,newSizes:e}}}},cu=function(){var e=function(e,t,n,r,o){var i=uu(e,r>=0?n:t,r,o);return ru(e,t,n+1,[i,-i],nu)};return{resizeTable:function(e,t,n){n&&e(t)},clampTableDelta:function(e,t,n,r,o){if(o){if(n>=0)return n;var i=I(e,(function(e,t){return e+t-r}),0);return Math.max(-i,n)}return iu(e,t,n,r)},calcLeftEdgeDeltas:e,calcMiddleDeltas:function(t,n,r,o,i,u){return e(t,r,o,i,u)},calcRightEdgeDeltas:function(e,t,n,r,o,i){if(i)return nu(e);var u=r/e.length;return E(e,m(u))},calcRedestributedWidths:function(e,t,n,r){return{delta:0,newSizes:e}}}},lu=function(e,t){var n=k.from(e.dom.documentElement).map(Ne.fromDom).getOr(e);return{parent:m(n),view:m(e),origin:m(co(0,0)),isResizable:t}},su=function(e,t,n){return{parent:m(t),view:m(e),origin:m(co(0,0)),isResizable:n}},fu=Rr([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),du=function(e,t,n){var r=n.substring(0,n.length-e.length),o=parseFloat(r);return r===o.toString()?t(o):fu.invalid(n)},mu=X(X({},fu),{from:function(e){return ie(e,"%")?du("%",fu.percent,e):ie(e,"px")?du("px",fu.pixels,e):fu.invalid(e)}}),gu=function(e,t,n){return e.fold((function(){return t}),(function(e){return function(e,t,n){var r=n/t;return E(e,(function(e){return mu.from(e).fold((function(){return e}),(function(e){return e*r+"px"}),(function(e){return e/100*n+"px"}))}))}(t,n,e)}),(function(e){return function(e,t){return E(e,(function(e){return mu.from(e).fold((function(){return e}),(function(e){return e/t*100+"%"}),(function(e){return e+"%"}))}))}(t,n)}))},pu=function(e,t,n){var r=mu.from(n),o=W(e,(function(e){return"0px"===e}))?function(e,t){var n=e.fold((function(){return m("")}),(function(e){return m(e/t+"px")}),(function(){return m(100/t+"%")}));return _(t,n)}(r,e.length):gu(r,e,t);return bu(o)},hu=function(e,t){return 0===e.length?t:M(e,(function(e,t){return mu.from(t).fold(m(0),g,g)+e}),0)},vu=function(e,t){return mu.from(e).fold(m(e),(function(e){return e+t+"px"}),(function(e){return e+t+"%"}))},bu=function(e){if(0===e.length)return e;var t=M(e,(function(e,t){var n=mu.from(t).fold((function(){return{value:t,remainder:0}}),(function(e){return function(e,t){var n=Math.floor(e);return{value:n+t,remainder:e-n}}(e,"px")}),(function(e){return{value:e+"%",remainder:0}}));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0}),n=t.output;return n.slice(0,n.length-1).concat([vu(n[n.length-1],Math.round(t.remainder))])},yu=mu.from,wu=function(e){return yu(e).fold(m("px"),m("px"),m("%"))},xu=function(e,t,n){var r=Ln.fromTable(e),o=r.all,i=Ln.justCells(r),u=Ln.justColumns(r);t.each((function(t){var n=wu(t),o=Kr(e),a=function(e,t){return Qo(e,t,Xo,Jo)}(r,e),c=pu(a,o,t);Ln.hasColumns(r)?function(e,t,n){N(t,(function(t,r){var o=hu([e[r]],sn());Qt(t.element,"width",o+n)}))}(c,u,n):function(e,t,n){N(t,(function(t){var r=e.slice(t.column,t.colspan+t.column),o=hu(r,sn());Qt(t.element,"width",o+n)}))}(c,i,n),Qt(e,"width",t)})),n.each((function(t){var n=wu(t),u=oo(e),a=function(e,t,n){return ti(e,t,n,Go,Jo)}(r,e,Co);!function(e,t,n,r){N(n,(function(t){var n=e.slice(t.row,t.rowspan+t.row),o=hu(n,fn());Qt(t.element,"height",o+r)})),N(t,(function(t,n){Qt(t.element,"height",e[n])}))}(pu(a,u,t),o,i,n),Qt(e,"height",t)}))},Su=function(e){return $o(e).exists((function(e){return _o.test(e)}))},Cu=function(e){return $o(e).exists((function(e){return Eo.test(e)}))},Tu=function(e){return $o(e).isNone()},ku=function(e){return Ln.fromTable(e).grid},Ou=function(e){var t=[];return{bind:function(e){if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},unbind:function(e){t=B(t,(function(t){return t!==e}))},trigger:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o={};N(e,(function(e,t){o[e]=n[t]})),N(t,(function(e){e(o)}))}}},Au=function(e){return{registry:qe(e,(function(e){return{bind:e.bind,unbind:e.unbind}})),trigger:qe(e,(function(e){return e.trigger}))}},Ru=function(e){return e.slice(0).sort()},Pu=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");var o;return function(e,t){if(!i(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");N(t,(function(t){if(!r(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))}("required",t),o=Ru(t),L(o,(function(e,t){return t<o.length-1&&e===o[t+1]})).each((function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+o.join(", ")+"].")})),function(r){var o=$e(r);W(t,(function(e){return P(o,e)}))||function(e,t){throw new Error("All required keys ("+Ru(e).join(", ")+") were not specified. Specified keys were: "+Ru(t).join(", ")+".")}(t,o),e(t,o);var i=B(t,(function(e){return!n.validate(r[e],e)}));return i.length>0&&function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+Ru(e).join(", ")+") were not.")}(i,n.label),r}},Du=function(e,t){var n=B(t,(function(t){return!P(e,t)}));n.length>0&&function(e){throw new Error("Unsupported keys for object: "+Ru(e).join(", "))}(n)},_u=function(e){return function(e,t){return Pu(e,t,{validate:s,label:"function"})}(Du,e)},Eu=_u(["compare","extract","mutate","sink"]),Nu=_u(["element","start","stop","destroy"]),Fu=_u(["forceDrop","drop","move","delayDrop"]),Bu=function(){var e=k.none(),t=Au({move:Ou(["info"])});return{onEvent:function(n,r){r.extract(n).each((function(n){var o=function(t,n){var r=e.map((function(e){return t.compare(e,n)}));return e=k.some(n),r}(r,n);o.each((function(e){t.trigger.move(e)}))}))},reset:function(){e=k.none()},events:t.registry}},Mu=function(){var e,t=(e=Au({move:Ou(["info"])}),{onEvent:d,reset:d,events:e.registry}),n=Bu(),r=t;return{on:function(){r.reset(),r=n},off:function(){r.reset(),r=t},isOn:function(){return r===n},onEvent:function(e,t){r.onEvent(e,t)},events:n.events}},Iu=function(e,t,n){var r,o,i,a,c=!1,l=Au({start:Ou([]),stop:Ou([])}),s=Mu(),f=function(){g.stop(),s.isOn()&&(s.off(),l.trigger.stop())},d=(r=f,o=200,i=null,{cancel:a=function(){u(i)||(clearTimeout(i),i=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a(),i=setTimeout((function(){i=null,r.apply(null,e)}),o)}});s.events.move.bind((function(n){t.mutate(e,n.info)}));var m=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];c&&e.apply(null,t)}},g=t.sink(Fu({forceDrop:f,drop:m(f),move:m((function(e){d.cancel(),s.onEvent(e,t)})),delayDrop:m(d.throttle)}),n);return{element:g.element,go:function(e){g.start(e),s.on(),l.trigger.start()},on:function(){c=!0},off:function(){c=!1},destroy:function(){g.destroy()},events:l.registry}},Lu=function(e){var t,n,r=Ne.fromDom(function(e){if(St()&&l(e.target)){var t=Ne.fromDom(e.target);if(ct(t)&&Ot(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return V(n)}}return k.from(e.target)}(e).getOr(e.target)),o=function(){return e.stopPropagation()},i=function(){return e.preventDefault()},u=(t=i,n=o,function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t(n.apply(null,e))});return function(e,t,n,r,o,i,u){return{target:e,x:t,y:n,stop:r,prevent:o,kill:i,raw:u}}(r,e.clientX,e.clientY,o,i,u,e)},ju=function(e,t,n,r,o){var i=function(e,t){return function(n){e(n)&&t(Lu(n))}}(n,r);return e.dom.addEventListener(t,i,o),{unbind:h(zu,e,t,i,o)}},zu=function(e,t,n,r){e.dom.removeEventListener(t,n,r)},$u=x,Wu=function(e,t,n){return function(e,t,n,r){return ju(e,t,n,r,!1)}(e,t,$u,n)},Hu=Lu,qu=function(e,t){var n=Wt(e,t);return void 0===n||""===n?[]:n.split(" ")},Uu=function(e){return void 0!==e.dom.classList},Vu=function(e,t){return function(e,t,n){var r=qu(e,t).concat([n]);return zt(e,t,r.join(" ")),!0}(e,"class",t)},Ku=function(e,t){Uu(e)?e.dom.classList.add(t):Vu(e,t)},Zu=function(e,t){return Uu(e)&&e.dom.classList.contains(t)},Xu=function(e){var t=e.replace(/\./g,"-");return{resolve:function(e){return t+"-"+e}}},Gu=Xu("ephox-dragster"),Yu=Gu.resolve,Qu=Eu({compare:function(e,t){return co(t.left-e.left,t.top-e.top)},extract:function(e){return k.some(co(e.x,e.y))},sink:function(e,t){var n=function(e){var t=X({layerClass:Yu("blocker")},e),n=Ne.fromTag("div");return zt(n,"role","presentation"),Jt(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ku(n,Yu("blocker")),Ku(n,t.layerClass),{element:m(n),destroy:function(){rr(n)}}}(t),r=Wu(n.element(),"mousedown",e.forceDrop),o=Wu(n.element(),"mouseup",e.drop),i=Wu(n.element(),"mousemove",e.move),u=Wu(n.element(),"mouseout",e.delayDrop);return Nu({element:n.element,start:function(e){Qn(e,n.element())},stop:function(){rr(n.element())},destroy:function(){n.destroy(),o.unbind(),i.unbind(),u.unbind(),r.unbind()}})},mutate:function(e,t){e.mutate(t.left,t.top)}}),Ju=function(e){return Lt(e,"[contenteditable]")},ea=function(e,t){return void 0===t&&(t=!1),!_e().browser.isIE()&&At(e)?e.dom.isContentEditable:Ju(e).fold(m(t),(function(e){return"true"===ta(e)}))},ta=function(e){return e.dom.contentEditable},na=Xu("ephox-snooker"),ra=na.resolve,oa=function(){var e=Au({drag:Ou(["xDelta","yDelta","target"])}),t=k.none(),n=function(){var e=Au({drag:Ou(["xDelta","yDelta"])});return{mutate:function(t,n){e.trigger.drag(t,n)},events:e.registry}}();n.events.drag.bind((function(n){t.each((function(t){e.trigger.drag(n.xDelta,n.yDelta,t)}))}));return{assign:function(e){t=k.some(e)},get:function(){return t},mutate:n.mutate,events:e.registry}},ia=ra("resizer-bar"),ua=ra("resizer-rows"),aa=ra("resizer-cols"),ca=function(e){var t=Et(e.parent(),"."+ia);N(t,rr)},la=function(e,t,n){var r=e.origin();N(t,(function(t){t.each((function(t){var o=n(r,t);Ku(o,ia),Qn(e.parent(),o)}))}))},sa=function(e,t,n,r){la(e,t,(function(e,t){var o,i,u,a,c,l,s=(o=t.col,i=t.x-e.left,u=n.top-e.top,a=7,c=r,l=Ne.fromTag("div"),Jt(l,{position:"absolute",left:i-a/2+"px",top:u+"px",height:c+"px",width:a+"px"}),$t(l,{"data-column":o,role:"presentation"}),l);return Ku(s,aa),s}))},fa=function(e,t,n,r){la(e,t,(function(e,t){var o=function(e,t,n,r,o){var i=Ne.fromTag("div");return Jt(i,{position:"absolute",left:t+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),$t(i,{"data-row":e,role:"presentation"}),i}(t.row,n.left-e.left,t.y-e.top,r,7);return Ku(o,ua),o}))},da=function(e,t,n,r,o){var i=so(n),u=t.isResizable,a=r.length>0?Co.positions(r,n):[],c=a.length>0?function(e,t){return $(e.all,(function(e,n){return t(e.element)?[n]:[]}))}(e,u):[],l=B(a,(function(e,t){return D(c,(function(e){return t===e}))}));fa(t,l,i,Zr(n));var s=o.length>0?Ao.positions(o,n):[],f=s.length>0?function(e,t){var n=[];return _(e.grid.columns,(function(r){var o=Ln.getColumnAt(e,r).map((function(e){return e.element}));o.forall(t)&&n.push(r)})),B(n,(function(n){var r=Ln.filterItems(e,(function(e){return e.column===n}));return W(r,(function(e){return t(e.element)}))}))}(e,u):[],d=B(s,(function(e,t){return D(f,(function(e){return t===e}))}));sa(t,d,i,io(n))},ma=function(e,t){if(ca(e),e.isResizable(t)){var n=Ln.fromTable(t),r=Jr(n),o=Yr(n);da(n,e,t,r,o)}},ga=function(e,t){var n=Et(e.parent(),"."+ia);N(n,t)},pa=function(e){ga(e,(function(e){Qt(e,"display","none")}))},ha=function(e){ga(e,(function(e){Qt(e,"display","block")}))},va=ra("resizer-bar-dragging"),ba=function(e){var t=oa(),n=function(e,t){void 0===t&&(t={});var n=void 0!==t.mode?t.mode:Qu;return Iu(e,n,t)}(t,{}),r=k.none(),o=function(e,t){return k.from(Wt(e,t))};t.events.drag.bind((function(e){o(e.target,"data-row").each((function(t){var n=ln(e.target,"top");Qt(e.target,"top",n+e.yDelta+"px")})),o(e.target,"data-column").each((function(t){var n=ln(e.target,"left");Qt(e.target,"left",n+e.xDelta+"px")}))}));var i=function(e,t){return ln(e,t)-on(e,"data-initial-"+t,0)};n.events.stop.bind((function(){t.get().each((function(t){r.each((function(n){o(t,"data-row").each((function(e){var r=i(t,"top");qt(t,"data-initial-top"),s.trigger.adjustHeight(n,r,parseInt(e,10))})),o(t,"data-column").each((function(e){var r=i(t,"left");qt(t,"data-initial-left"),s.trigger.adjustWidth(n,r,parseInt(e,10))})),ma(e,n)}))}))}));var u=function(r,o){s.trigger.startAdjust(),t.assign(r),zt(r,"data-initial-"+o,ln(r,o)),Ku(r,va),Qt(r,"opacity","0.2"),n.go(e.parent())},a=Wu(e.parent(),"mousedown",(function(e){var t;t=e.target,Zu(t,ua)&&u(e.target,"top"),function(e){return Zu(e,aa)}(e.target)&&u(e.target,"left")})),c=function(t){return Ie(t,e.view())},l=Wu(e.view(),"mouseover",(function(t){var n;(n=t.target,Lt(n,"table",c).filter(ea)).fold((function(){At(t.target)&&ca(e)}),(function(t){r=k.some(t),ma(e,t)}))})),s=Au({adjustHeight:Ou(["table","delta","row"]),adjustWidth:Ou(["table","delta","column"]),startAdjust:Ou([])});return{destroy:function(){a.unbind(),l.unbind(),n.destroy(),ca(e)},refresh:function(t){ma(e,t)},on:n.on,off:n.off,hideBars:h(pa,e),showBars:h(ha,e),events:s.registry}},ya=function(e,t,n){var r=Co,o=Ao,i=ba(e),u=Au({beforeResize:Ou(["table","type"]),afterResize:Ou(["table","type"]),startDrag:Ou([])});return i.events.adjustHeight.bind((function(e){var t=e.table;u.trigger.beforeResize(t,"row");var n=r.delta(e.delta,t);tu(t,n,e.row,r),u.trigger.afterResize(t,"row")})),i.events.startAdjust.bind((function(e){u.trigger.startDrag()})),i.events.adjustWidth.bind((function(e){var r=e.table;u.trigger.beforeResize(r,"col");var i=o.delta(e.delta,r),a=n(r);eu(r,i,e.column,t,a),u.trigger.afterResize(r,"col")})),{on:i.on,off:i.off,hideBars:i.hideBars,showBars:i.showBars,destroy:i.destroy,events:u.registry}},wa=function(e,t){return e.fire("newrow",{node:t})},xa=function(e,t){return e.fire("newcell",{node:t})},Sa=function(e,t,n){e.fire("TableModified",X(X({},n),{table:t}))},Ca={structure:!1,style:!0},Ta={structure:!0,style:!1},ka={structure:!0,style:!0},Oa={"border-collapse":"collapse",width:"100%"},Aa=_(5,(function(e){var t=e+1+"px";return{title:t,value:t}})),Ra=E(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(function(e){return{title:e,value:e.toLowerCase()}})),Pa={border:"1"},Da="preservetable",_a=function(e){return e.getParam("table_sizing_mode","auto")},Ea=function(e){return e.getParam("table_responsive_width")},Na=function(e){return e.getParam("table_border_widths",Aa,"array")},Fa=function(e){return e.getParam("table_border_styles",Ra,"array")},Ba=function(e){return e.getParam("table_default_attributes",Pa,"object")},Ma=function(e){return e.getParam("table_default_styles",function(e){var t;if(qa(e)){var n=e.dom,r=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody(),o=Xr(Ne.fromDom(r));return X(X({},Oa),{width:o+"px"})}return Ua(e)?Ve(Oa,(function(e,t){return"width"!==t})):Oa}(e),"object")},Ia=function(e){return e.getParam("table_cell_advtab",!0,"boolean")},La=function(e){return e.getParam("table_row_advtab",!0,"boolean")},ja=function(e){return e.getParam("table_advtab",!0,"boolean")},za=function(e){return e.getParam("table_style_by_css",!1,"boolean")},$a=function(e){return e.getParam("table_cell_class_list",[],"array")},Wa=function(e){return e.getParam("table_class_list",[],"array")},Ha=function(e){return"relative"===_a(e)||!0===Ea(e)},qa=function(e){return"fixed"===_a(e)||!1===Ea(e)},Ua=function(e){return"responsive"===_a(e)},Va=function(e){return e.getParam("table_use_colgroups",!1,"boolean")},Ka=function(e){var t="section",n=e.getParam("table_header_type",t,"string");return P(["section","cells","sectionCells","auto"],n)?n:t},Za=function(e){var t=e.getParam("table_column_resizing",Da,"string");return L(["preservetable","resizetable"],(function(e){return e===t})).getOr(Da)},Xa=function(e){return"preservetable"===Za(e)},Ga=function(e){return"resizetable"===Za(e)},Ya=function(e){var t=e.getParam("table_clone_elements");return r(t)?k.some(t.split(/[ ,]/)):Array.isArray(t)?k.some(t):k.none()},Qa=function(e){return e.getParam("table_background_color_map",[],"array")},Ja=function(e){return e.getParam("table_border_color_map",[],"array")},ec=function(e,t){return Ha(e)?ci(t):qa(e)?ai(t):ui(t)},tc=function(e){qt(e,"width")},nc=function(e){var t=Vo(e);xu(e,k.some(t),k.none()),tc(e)},rc=function(e){var t=function(e){return Kr(e)+"px"}(e);xu(e,k.some(t),k.none()),tc(e)},oc=function(e){rn(e,"width");var t=hn(e),n=t.length>0?t:pn(e);N(n,(function(e){rn(e,"width"),tc(e)})),tc(e)},ic=function(){var e=Ne.fromTag("div");return Jt(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Qn(Rt(Ne.fromDom(document)),e),e},uc="bar-",ac=function(e){return"false"!==Wt(e,"data-mce-resize")},cc=function(e){var t,n,o=k.none(),i=k.none(),u=k.none(),a=function(e){return"TABLE"===e.nodeName},c=function(){return i},l=function(t){return ec(e,t)},s=function(){return Xa(e)?cu():au()},f=function(r,o,i){var u=ie(o,"e");if(""===n&&nc(r),i!==t&&""!==n){Qt(r,"width",n);var a=s(),c=l(r),f=Xa(e)||u?function(e){return ku(e).columns}(r)-1:0;eu(r,i-t,f,a,c)}else if(function(e){return/^(\d+(\.\d+)?)%$/.test(e)}(n)){var d=parseFloat(n.replace("%",""));Qt(r,"width",i*d/t+"%")}(function(e){return/^(\d+(\.\d+)?)px$/.test(e)})(n)&&function(e){var t=Ln.fromTable(e);Ln.hasColumns(t)||N(pn(e),(function(e){var t=en(e,"width");Qt(e,"width",t),qt(e,"width")}))}(r)};return e.on("init",(function(){var t=function(e,t){return e.inline?su(Ai(e),ic(),t):lu(Ne.fromDom(e.getDoc()),t)}(e,ac);if(u=k.some(t),function(e){var t=e.getParam("object_resizing",!0);return r(t)?"table"===t:t}(e)&&function(e){return e.getParam("table_resize_bars",!0,"boolean")}(e)){var n=s(),a=ya(t,n,l);a.on(),a.events.startDrag.bind((function(t){o=k.some(e.selection.getRng())})),a.events.beforeResize.bind((function(t){var n=t.table.dom;!function(e,t,n,r,o){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:o})}(e,n,Ri(n),Pi(n),uc+t.type)})),a.events.afterResize.bind((function(t){var n=t.table,r=n.dom;Ei(n),o.each((function(t){e.selection.setRng(t),e.focus()})),function(e,t,n,r,o){e.fire("ObjectResized",{target:t,width:n,height:r,origin:o})}(e,r,Ri(r),Pi(r),uc+t.type),e.undoManager.add()})),i=k.some(a)}})),e.on("ObjectResizeStart",(function(r){var o=r.target;if(a(o)){var i=Ne.fromDom(o);N(e.dom.select(".mce-clonedresizable"),(function(t){e.dom.addClass(t,"mce-"+Za(e)+"-columns")})),!Cu(i)&&qa(e)?rc(i):!Su(i)&&Ha(e)&&nc(i),Tu(i)&&oe(r.origin,uc)&&nc(i),t=r.width,n=Ua(e)?"":function(e,t){var n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return k.from(n).filter(ae)}(e,o).getOr("")}})),e.on("ObjectResized",(function(t){var n=t.target;if(a(n)){var r=Ne.fromDom(n),o=t.origin;oe(o,"corner-")&&f(r,o,t.width),Ei(r),Sa(e,r.dom,Ca)}})),e.on("SwitchMode",(function(){c().each((function(t){e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),{lazyResize:c,lazyWire:function(){return u.getOr(lu(Ne.fromDom(e.getBody()),ac))},destroy:function(){i.each((function(e){e.destroy()})),u.each((function(t){!function(e,t){e.inline&&rr(t.parent())}(e,t)}))}}},lc=function(e,t){return{element:e,offset:t}},sc=function(e,t,n){return e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind((function(t){return sc(e,t,n).orThunk((function(){return k.some(t)}))})):k.none()},fc=function(e,t){return e.property().isText(t)?e.property().getText(t).length:e.property().children(t).length},dc=function(e,t){var n=sc(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return lc(n,fc(e,n));var r=e.property().children(n);return r.length>0?dc(e,r[r.length-1]):lc(n,fc(e,n))},mc=dc,gc=sr(),pc=function(e,t){if(1===un(e,"colspan")){var n=function(e){return $o(e).bind((function(e){return Do(e,["fixed","relative","empty"])}))}(e);n.each((function(n){var r=n.value/2;Uo(e,r,n.unit),Uo(t,r,n.unit)}))}},hc=dt("th"),vc=function(e){return W(e,(function(e){return hc(e.element)}))},bc=function(e,t){return e&&t?"sectionCells":e?"section":"cells"},yc=function(e){var t="thead"===e.section,n=Vt(wc(e.cells),"th");return t||n?{type:"header",subType:bc(t,n)}:"tfoot"===e.section?{type:"footer"}:{type:"body"}},wc=function(e){var t=B(e,(function(e){return hc(e.element)}));return 0===t.length?k.some("td"):t.length===e.length?k.some("th"):k.none()},xc=function(e,t,n){return nt(n(e.element,t),!0,e.isLocked)},Sc=function(e,t){return e.section!==t?rt(e.element,e.cells,t,e.isNew):e},Cc=function(){return{transformRow:Sc,transformCell:function(e,t,n){var r=n(e.element,t),o="td"!==ot(r)?function(e,t){var n=Lr(e,t);Xn(e,n);var r=yt(e);return tr(n,r),rr(e),n}(r,"td"):r;return nt(o,e.isNew,e.isLocked)}}},Tc=function(){return{transformRow:Sc,transformCell:xc}},kc=function(){return{transformRow:function(e,t){return Sc(e,"thead"===t?"tbody":t)},transformCell:xc}},Oc=function(e,t){var n=function(e){return Z(e.all,(function(e){var t=yc(e);return"header"===t.type?k.from(t.subType):k.none()}))}(Ln.fromTable(e)).getOr(t);switch(n){case"section":return Cc();case"sectionCells":return Tc();case"cells":return kc()}},Ac=Cc,Rc=Tc,Pc=kc,Dc=function(){return{transformRow:g,transformCell:xc}},_c=function(e,t,n,r){n===r?qt(e,t):zt(e,t,n)},Ec=function(e,t,n){K(_t(e,t)).fold((function(){return Yn(e,n)}),(function(e){return Gn(e,n)}))},Nc=function(e,t){var n=[],r=[],o=function(e){return E(e,(function(e){e.isNew&&n.push(e.element);var t=e.element;return nr(t),N(e.cells,(function(e){e.isNew&&r.push(e.element),_c(e.element,"colspan",e.colspan,1),_c(e.element,"rowspan",e.rowspan,1),Qn(t,e.element)})),t}))},i=function(e){return $(e,(function(e){return E(e.cells,(function(e){return _c(e.element,"span",e.colspan,1),e.element}))}))},u=function(t,n){var r=function(e,t){var n=Mt(e,t).getOrThunk((function(){var n=Ne.fromTag(t,mt(e).dom);return"thead"===t?Ec(e,"caption,colgroup",n):"colgroup"===t?Ec(e,"caption",n):Qn(e,n),n}));return nr(n),n}(e,n),u=("colgroup"===n?i:o)(t);tr(r,u)},a=function(t,n){t.length>0?u(t,n):function(t){Mt(e,t).each(rr)}(n)},c=[],l=[],s=[],f=[];return N(t,(function(e){switch(e.section){case"thead":c.push(e);break;case"tbody":l.push(e);break;case"tfoot":s.push(e);break;case"colgroup":f.push(e)}})),a(f,"colgroup"),a(c,"thead"),a(l,"tbody"),a(s,"tfoot"),{newRows:n,newCells:r}},Fc=function(e,t){if(0===e.length)return 0;var n=e[0];return j(e,(function(e){return!t(n.element,e.element)})).getOr(e.length)},Bc=function(e,t,n,r){var o=function(e,t){return e[t]}(e,t),i="colgroup"===o.section,u=Fc(o.cells.slice(n),r),a=i?1:Fc(function(e,t){return E(e,(function(e){return An(e,t)}))}(e.slice(t),n),r);return{colspan:u,rowspan:a}},Mc=function(e,t){var n=E(e,(function(e){return E(e.cells,w)}));return E(e,(function(r,o){var i=$(r.cells,(function(r,i){if(!1===n[o][i]){var u=Bc(e,o,i,t);return function(e,t,r,o){for(var i=e;i<e+r;i++)for(var u=t;u<t+o;u++)n[i][u]=!0}(o,i,u.rowspan,u.colspan),[(a=r.element,c=u.rowspan,l=u.colspan,s=r.isNew,{element:a,rowspan:c,colspan:l,isNew:s})]}return[];var a,c,l,s}));return function(e,t,n,r){return{element:e,cells:t,section:n,isNew:r}}(r.element,i,r.section,r.isNew)}))},Ic=function(e,t,n){var r=[];N(e.colgroups,(function(o){for(var i=[],u=0;u<e.grid.columns;u++){var a=Ln.getColumnAt(e,u).map((function(e){return nt(e.element,n,!1)})).getOrThunk((function(){return nt(t.colGap(),!0,!1)}));i.push(a)}r.push(rt(o.element,i,"colgroup",n))}));for(var o=0;o<e.grid.rows;o++){for(var i=[],u=0;u<e.grid.columns;u++){var a=Ln.getAt(e,o,u).map((function(e){return nt(e.element,n,e.isLocked)})).getOrThunk((function(){return nt(t.gap(),!0,!1)}));i.push(a)}var c=e.all[o],l=rt(c.element,i,c.section,n);r.push(l)}return r},Lc=function(e){return Mc(e,Ie)},jc=function(e,t){return Z(e.all,(function(e){return L(e.cells,(function(e){return Ie(t,e.element)}))}))},zc=function(e,t,n){var r=E(t.selection,(function(t){return gn(t).bind((function(t){return jc(e,t)})).filter(n)})),o=Kt(r);return Xt(o.length>0,o)},$c=function(e,t,n,r,o){return function(i,u,a,c,l){var s=Ln.fromTable(u),f=k.from(null==l?void 0:l.section).getOrThunk(Dc);return t(s,a).map((function(t){var n=function(e,t){return Ic(e,t,!1)}(s,c),r=e(n,t,Ie,o(c),f),i=Fn(r.grid);return{info:t,grid:Lc(r.grid),cursor:r.cursor,lockedColumns:i}})).bind((function(e){var t=Nc(u,e.grid),o=k.from(null==l?void 0:l.sizing).getOrThunk((function(){return ui(u)})),a=k.from(null==l?void 0:l.resize).getOrThunk(cu);return n(u,e.grid,e.info,{sizing:o,resize:a,section:f}),r(u),ma(i,u),qt(u,En),e.lockedColumns.length>0&&zt(u,En,e.lockedColumns.join(",")),k.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))}},Wc=function(e,t){return zc(e,t,x).map((function(e){return{cells:e,generators:t.generators,clipboard:t.clipboard}}))},Hc=function(e,t){return zc(e,t,x)},qc=function(e,t){return zc(e,t,(function(e){return!e.isLocked}))},Uc=function(e,t){return W(t,(function(t){return function(e,t){return jc(e,t).exists((function(e){return!e.isLocked}))}(e,t)}))},Vc=function(e,t){return function(e,t){return t.mergable}(0,t).filter((function(t){return Uc(e,t.cells)}))},Kc=function(e,t){return function(e,t){return t.unmergable}(0,t).filter((function(t){return Uc(e,t)}))},Zc=function(e,t,n,r){for(var o=Dn(e).rows,i=!0,u=0;u<o.length;u++)for(var a=0;a<Pn(o[0]);a++){var c=o[u],l=An(c,a),s=n(l.element,t);!0===s&&!1===i?kn(c,a,nt(r(),!0,l.isLocked)):!0===s&&(i=!1)}return e},Xc=function(e,t,n,r){var o=Dn(e).rows;if(t>0&&t<o.length){var i=function(e,t){return I(e,(function(e,n){return D(e,(function(e){return t(e.element,n.element)}))?e:e.concat([n])}),[])}(o[t-1].cells,n);N(i,(function(e){for(var i=k.none(),u=t;u<o.length;u++)for(var a=function(t){var a=o[u],c=An(a,t);n(c.element,e.element)&&(i.isNone()&&(i=k.some(r())),i.each((function(e){kn(a,t,nt(e,!0,c.isLocked))})))},c=0;c<Pn(o[0]);c++)a(c)}))}return e},Gc=function(e){return{isValue:x,isError:w,getOr:m(e),getOrThunk:m(e),getOrDie:m(e),or:function(t){return Gc(e)},orThunk:function(t){return Gc(e)},fold:function(t,n){return n(e)},map:function(t){return Gc(t(e))},mapError:function(t){return Gc(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return k.some(e)}}},Yc=function(e){return{isValue:w,isError:x,getOr:g,getOrThunk:function(e){return e()},getOrDie:function(){return(t=String(e),function(){throw new Error(t)})();var t},or:g,orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return Yc(e)},mapError:function(t){return Yc(t(e))},each:d,bind:function(t){return Yc(e)},exists:w,forall:x,toOptional:k.none}},Qc={value:Gc,error:Yc,fromOption:function(e,t){return e.fold((function(){return Yc(t)}),Gc)}},Jc=function(e,t){return{rowDelta:0,colDelta:Pn(e[0])-Pn(t[0])}},el=function(e,t){return{rowDelta:e.length-t.length,colDelta:0}},tl=function(e,t,n,r){var o="colgroup"===t.section?n.col:n.cell;return _(e,(function(e){return nt(o(),!0,r(e))}))},nl=function(e,t,n,r){var o=e[e.length-1];return e.concat(_(t,(function(){var e="colgroup"===o.section?n.colgroup:n.row,t=_n(o,e,g),i=tl(t.cells.length,t,n,(function(e){return Ye(r,e.toString())}));return On(t,i)})))},rl=function(e,t,n,r){return E(e,(function(e){var o=tl(t,e,n,w);return Cn(e,r,o)}))},ol=function(e,t,n){var r=t.colDelta<0?rl:g,o=t.rowDelta<0?nl:g,i=Fn(e),u=Pn(e[0]),a=D(i,(function(e){return e===u-1})),c=r(e,Math.abs(t.colDelta),n,a?u-1:u),l=Fn(c);return o(c,Math.abs(t.rowDelta),n,H(l,x))},il=function(e,t,n,r){var o=h(r,An(e[t],n).element),i=e[t];return e.length>1&&Pn(i)>1&&(n>0&&o(Rn(i,n-1))||n<i.cells.length-1&&o(Rn(i,n+1))||t>0&&o(Rn(e[t-1],n))||t<e.length-1&&o(Rn(e[t+1],n)))},ul=function(e,t,n){return B(n,(function(n){return n>=e.column&&n<=Pn(t[0])+e.column}))},al=function(e,t,n,r,o){var i=Fn(t),u=function(e,t,n){var r=Pn(t[0]),o=Dn(t).cols.length+e.row,i=_(r-e.column,(function(t){return t+e.column})),u=L(i,(function(e){return W(n,(function(t){return t!==e}))})).getOr(r-1);return{row:o,column:u}}(e,t,i),a=Dn(n).rows,c=ul(u,a,i),l=function(e,t,n){if(e.row>=t.length||e.column>Pn(t[0]))return Qc.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);var r=t.slice(e.row),o=r[0].cells.slice(e.column),i=Pn(n[0]),u=n.length;return Qc.value({rowDelta:r.length-u,colDelta:o.length-i})}(u,t,a);return l.map((function(e){var n=X(X({},e),{colDelta:e.colDelta-c.length}),i=ol(t,n,r),l=Fn(i),s=ul(u,a,l);return function(e,t,n,r,o,i){for(var u=e.row,a=e.column,c=u+n.length,l=a+Pn(n[0])+i.length,s=H(i,x),f=u;f<c;f++)for(var d=0,m=a;m<l;m++)if(s[m])d++;else{il(t,f,m,o)&&Zc(t,Rn(t[f],m),o,r.cell);var g=m-a-d,p=An(n[f-u],g),h=p.element,v=r.replace(h);kn(t[f],m,nt(v,!0,p.isLocked))}return t}(u,i,a,r,o,s)}))},cl=function(e,t,n,r,o){!function(e,t,n,r){t>0&&t<e[0].cells.length&&N(e,(function(e){var o=e.cells[t-1],i=e.cells[t];n(i.element,o.element)&&kn(e,t,nt(r(),!0,i.isLocked))}))}(t,e,o,r.cell);var i=el(n,t),u=ol(n,i,r),a=el(t,u),c=ol(t,a,r);return E(c,(function(t,n){return Cn(t,e,u[n].cells)}))},ll=function(e,t,n,r,o){Xc(t,e,o,r.cell);var i=Fn(t),u=Jc(t,n),a=X(X({},u),{colDelta:u.colDelta-i.length}),c=ol(t,a,r),l=Dn(c),s=l.cols,f=l.rows,d=Fn(c),m=Jc(n,t),g=X(X({},m),{colDelta:m.colDelta+d.length}),p=function(e,t,n){return E(e,(function(e){return I(n,(function(n,r){var o=tl(1,e,t,x)[0];return Tn(n,r,o)}),e)}))}(n,r,d),h=ol(p,g,r);return s.concat(f.slice(0,e)).concat(h).concat(f.slice(e,f.length))},sl=function(e,t,n,r,o){var i=Dn(e),u=i.rows,a=i.cols,c=u.slice(0,t),l=u.slice(t),s=function(e,t,n,r){return _n(e,(function(e){return r(e,n)}),t)}(u[n],(function(e,n){return t>0&&t<u.length&&r(Rn(u[t-1],n),Rn(u[t],n))?An(u[t],n):nt(o(e.element,r),!0,e.isLocked)}),r,o);return a.concat(c).concat([s]).concat(l)},fl=function(e,t,n,r,o){return E(e,(function(e){var i=t>0&&t<Pn(e)&&r(Rn(e,t-1),Rn(e,t)),u=function(e,t,n,r,o,i,u){if("colgroup"!==n&&r)return An(e,t);var a=An(e,o);return nt(u(a.element,i),!0,!1)}(e,t,e.section,i,n,r,o);return Tn(e,t,u)}))},dl=function(e,t,n,r){return function(e,t,n,r){return void 0!==Rn(e[t],n)&&t>0&&r(Rn(e[t-1],n),Rn(e[t],n))}(e,t,n,r)||function(e,t,n){return t>0&&n(Rn(e,t-1),Rn(e,t))}(e[t],n,r)},ml=function(e,t,n,r){var o=function(e){return function(e){return"row"===e?cn(t):an(t)}(e)?e+"group":e};return e?hc(t)?o(n):null:r&&hc(t)?o("row"===n?"col":"row"):null},gl=function(e,t,n){return nt(n(e.element,t),!0,e.isLocked)},pl=function(e,t,n,r,o,i,u){return E(e,(function(e,a){return function(e,t){var n=e.cells,r=E(n,t);return rt(e.element,r,e.section,e.isNew)}(e,(function(e,c){if(function(e){return D(t,(function(t){return n(e.element,t.element)}))}(e)){var l=u(e,a,c)?o(e,n,r):e;return i(l,a,c).each((function(e){var t,n;t=l.element,n={scope:k.from(e)},He(n,(function(e,n){e.fold((function(){qt(t,n)}),(function(e){jt(t.dom,n,e)}))}))})),l}return e}))}))},hl=function(e,t,n){return $(e,(function(r,o){return dl(e,o,t,n)?[]:[An(r,t)]}))},vl=function(e,t,n,r,o){var i=Dn(e).rows,u=$(t,(function(e){return hl(i,e,r)})),a=E(e,(function(e){return vc(e.cells)})),c=function(e,t){return W(t,g)&&vc(e)?x:function(e,n,r){return!("th"===ot(e.element)&&t[n])}}(u,a),l=function(e,t){return function(n,r){return k.some(ml(e,n.element,"row",t[r]))}}(n,a);return pl(e,u,r,o,gl,l,c)},bl=function(e,t,n,r,o,i,u){var a=Dn(e),c=a.cols,l=a.rows,s=l[t[0]],f=$(t,(function(e){return function(e,t,n){var r=e[t];return $(r.cells,(function(r,o){return dl(e,t,o,n)?[]:[r]}))}(l,e,o)})),d=E(s.cells,(function(e,t){return vc(hl(l,t,o))})),m=G([],l,!0);N(t,(function(e){m[e]=u.transformRow(l[e],n)}));var p=c.concat(m),h=function(e,t){return W(t,g)&&vc(e.cells)?x:function(e,n,r){return!("th"===ot(e.element)&&t[r])}}(s,d),v=function(e,t){return function(n,r,o){return k.some(ml(e,n.element,"col",t[o]))}}(r,d);return pl(p,f,o,i,u.transformCell,v,h)},yl=function(e,t,n,r){var o=Dn(e).rows,i=E(t,(function(e){return An(o[e.row],e.column)}));return pl(e,i,n,r,gl,k.none,x)},wl=function(e){return I(e,(function(e,t){return D(e,(function(e){return e.column===t.column}))?e:e.concat([t])}),[]).sort((function(e,t){return e.column-t.column}))},xl=dt("col"),Sl=dt("colgroup"),Cl=function(e){return"tr"===ot(e)||Sl(e)},Tl=function(e){return{element:e,colspan:on(e,"colspan",1),rowspan:on(e,"rowspan",1)}},kl=function(e){return Ht(e,"scope").map((function(e){return e.substr(0,3)}))},Ol=function(e,t){void 0===t&&(t=Tl);var n=function(n){if(Cl(n))return Sl((o={element:n}).element)?e.colgroup(o):e.row(o);var o,i=function(t){return xl(t.element)?e.col(t):e.cell(t)}(t(n));return r=k.some({item:n,replacement:i}),i},r=k.none();return{getOrInit:function(e,t){return r.fold((function(){return n(e)}),(function(r){return t(e,r.item)?r.replacement:n(e)}))}}},Al=function(e){return function(t){var n=[],r=function(r){var o="td"===e?{scope:null}:{},i=t.replace(r,e,o);return n.push({item:r,sub:i}),i};return{replaceOrInit:function(e,t){return Cl(e)||xl(e)?e:function(e,t){return L(n,(function(n){return t(n.item,e)}))}(e,t).fold((function(){return r(e)}),(function(n){return t(e,n.item)?n.sub:r(e)}))}}}},Rl=function(e){return{unmerge:function(t){var n=kl(t);return n.each((function(e){return zt(t,"scope",e)})),function(){var r=e.cell({element:t,colspan:1,rowspan:1});return rn(r,"width"),rn(t,"width"),n.each((function(e){return zt(r,"scope",e)})),r}},merge:function(e){return rn(e[0],"width"),function(){var t=Kt(E(e,kl));if(0===t.length)return k.none();var n=t[0],r=["row","col"];return D(t,(function(e){return e!==n&&P(r,e)}))?k.none():k.from(n)}().fold((function(){return qt(e[0],"scope")}),(function(t){return zt(e[0],"scope",t+"group")})),m(e[0])}}},Pl=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Dl=sr(),_l=function(e){return function(e,t){var n=e.property().name(t);return P(Pl,n)}(Dl,e)},El=function(e){return function(e,t){var n=e.property().name(t);return P(["ol","ul"],n)}(Dl,e)},Nl=function(e){return function(e,t){return P(["br","img","hr","input"],e.property().name(t))}(Dl,e)},Fl=function(e){var t,n=function(e){return"br"===ot(e)},r=function(e){return pi(e).bind((function(t){var r=bt(t).map((function(e){return!!_l(e)||!!Nl(e)&&"img"!==ot(e)})).getOr(!1);return pt(t).map((function(o){return!0===r||function(e){return"li"===ot(e)||Ft(e,El).isSome()}(o)||n(t)||_l(o)&&!Ie(e,o)?[]:[Ne.fromTag("br")]}))})).getOr([])},o=(t=$(e,(function(e){var t=yt(e);return function(e){return W(e,(function(e){return n(e)||lt(e)&&0===ur(e).trim().length}))}(t)?[]:t.concat(r(e))})),0===t.length?[Ne.fromTag("br")]:t);nr(e[0]),tr(e[0],o)},Bl=function(e){return ea(e,!0)},Ml=function(e){0===pn(e).length&&rr(e)},Il=function(e,t){return{grid:e,cursor:t}},Ll=function(e,t,n){var r,o,i=Dn(e).rows;return k.from(null===(o=null===(r=i[t])||void 0===r?void 0:r.cells[n])||void 0===o?void 0:o.element).filter(Bl).orThunk((function(){return function(e){return Z(e,(function(e){return Z(e.cells,(function(e){var t=e.element;return Xt(Bl(t),t)}))}))}(i)}))},jl=function(e,t,n){var r=Ll(e,t,n);return Il(e,r)},zl=function(e){return I(e,(function(e,t){return D(e,(function(e){return e.row===t.row}))?e:e.concat([t])}),[]).sort((function(e,t){return e.row-t.row}))},$l=function(e,t){return function(n,r,o,i,u){var a=zl(r),c=E(a,(function(e){return e.row})),l=bl(n,c,e,t,o,i.replaceOrInit,u);return jl(l,r[0].row,r[0].column)}},Wl=$l("thead",!0),Hl=$l("tbody",!1),ql=$l("tfoot",!1),Ul=function(e,t,n){var r=function(e,t){return wn(e,(function(){return t}))}(e,n.section),o=Ln.generate(r);return Ic(o,t,!0)},Vl=function(e,t,n,r){return function(e,t,n,r){var o=Ln.generate(t),i=r.getWidths(o,r);Ji(o,i,r)}(0,t,0,r.sizing)},Kl=function(e,t,n,r){return function(e,t,n,r,o){var i=Ln.generate(t),u=r.getWidths(i,r),a=r.pixelWidth(),c=o.calcRedestributedWidths(u,a,n.pixelDelta,r.isRelative),l=c.newSizes,s=c.delta;Ji(i,l,r),r.adjustTableWidth(s)}(0,t,n,r.sizing,r.resize)},Zl=function(e,t){return D(t,(function(e){return 0===e.column&&e.isLocked}))},Xl=function(e,t){return D(t,(function(t){return t.column+t.colspan>=e.grid.columns&&t.isLocked}))},Gl=function(e,t){var n=Yr(e),r=wl(t);return I(r,(function(e,t){return e+n[t.column].map(Zr).getOr(0)}),0)},Yl=function(e){return function(t,n){return Hc(t,n).filter((function(n){return!(e?Zl:Xl)(t,n)})).map((function(e){return{details:e,pixelDelta:Gl(t,e)}}))}},Ql=function(e){return function(t,n){return Wc(t,n).filter((function(n){return!(e?Zl:Xl)(t,n.cells)}))}},Jl=Al("th"),es=Al("td"),ts=$c((function(e,t,n,r){var o=t[0].row,i=zl(t),u=M(i,(function(e,t){return{grid:sl(e.grid,o,t.row+e.delta,n,r.getOrInit),delta:e.delta+1}}),{grid:e,delta:0}).grid;return jl(u,o,t[0].column)}),Hc,d,d,Ol),ns=$c((function(e,t,n,r){var o=zl(t),i=o[o.length-1],u=i.row+i.rowspan,a=M(o,(function(e,t){return sl(e,u,t.row,n,r.getOrInit)}),e);return jl(a,u,t[0].column)}),Hc,d,d,Ol),rs=$c((function(e,t,n,r){var o=t.details,i=wl(o),u=i[0].column,a=M(i,(function(e,t){return{grid:fl(e.grid,u,t.column+e.delta,n,r.getOrInit),delta:e.delta+1}}),{grid:e,delta:0}).grid;return jl(a,o[0].row,u)}),Yl(!0),Kl,d,Ol),os=$c((function(e,t,n,r){var o=t.details,i=o[o.length-1],u=i.column+i.colspan,a=wl(o),c=M(a,(function(e,t){return fl(e,u,t.column,n,r.getOrInit)}),e);return jl(c,o[0].row,u)}),Yl(!1),Kl,d,Ol),is=$c((function(e,t,n,r){var o=wl(t.details),i=function(e,t){return $(e,(function(e){var n=e.cells,r=M(t,(function(e,t){return t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e}),n);return r.length>0?[rt(e.element,r,e.section,e.isNew)]:[]}))}(e,E(o,(function(e){return e.column}))),u=i.length>0?i[0].cells.length-1:0;return jl(i,o[0].row,Math.min(o[0].column,u))}),(function(e,t){return qc(e,t).map((function(t){return{details:t,pixelDelta:-Gl(e,t)}}))}),Kl,Ml,Ol),us=$c((function(e,t,n,r){var o=zl(t),i=function(e,t,n){var r=Dn(e),o=r.rows;return r.cols.concat(o.slice(0,t)).concat(o.slice(n+1))}(e,o[0].row,o[o.length-1].row),u=i.length>0?i.length-1:0;return jl(i,Math.min(t[0].row,u),t[0].column)}),Hc,d,Ml,Ol),as=$c((function(e,t,n,r){var o=wl(t),i=E(o,(function(e){return e.column})),u=vl(e,i,!0,n,r.replaceOrInit);return jl(u,t[0].row,t[0].column)}),qc,d,d,Jl),cs=$c((function(e,t,n,r){var o=wl(t),i=E(o,(function(e){return e.column})),u=vl(e,i,!1,n,r.replaceOrInit);return jl(u,t[0].row,t[0].column)}),qc,d,d,es),ls=$c(Wl,qc,d,d,Jl),ss=$c(Hl,qc,d,d,es),fs=$c(ql,qc,d,d,es),ds=$c((function(e,t,n,r){var o=yl(e,t,n,r.replaceOrInit);return jl(o,t[0].row,t[0].column)}),qc,d,d,Jl),ms=$c((function(e,t,n,r){var o=yl(e,t,n,r.replaceOrInit);return jl(o,t[0].row,t[0].column)}),qc,d,d,es),gs=$c((function(e,t,n,r){var o=t.cells;Fl(o);var i=function(e,t,n,r){var o=Dn(e).rows;if(0===o.length)return e;for(var i=t.startRow;i<=t.finishRow;i++)for(var u=t.startCol;u<=t.finishCol;u++){var a=o[i],c=An(a,u).isLocked;kn(a,u,nt(r(),!1,c))}return e}(e,t.bounds,0,r.merge(o));return Il(i,k.from(o[0]))}),Vc,Vl,d,Rl),ps=$c((function(e,t,n,r){var o=M(t,(function(e,t){return Zc(e,t,n,r.unmerge(t))}),e);return Il(o,k.from(t[0]))}),Kc,Vl,d,Rl),hs=$c((function(e,t,n,r){var o=function(e,t){var n=Ln.fromTable(e);return Ic(n,t,!0)}(t.clipboard,t.generators),i=function(e,t){return{row:e,column:t}}(t.row,t.column);return al(i,e,o,t.generators,n).fold((function(){return Il(e,k.some(t.element))}),(function(e){return jl(e,t.row,t.column)}))}),(function(e,t){return gn(t.element).bind((function(n){return jc(e,n).map((function(e){return X(X({},e),{generators:t.generators,clipboard:t.clipboard})}))}))}),Vl,d,Ol),vs=$c((function(e,t,n,r){var o=Dn(e).rows,i=t.cells[0].column,u=o[t.cells[0].row],a=Ul(t.clipboard,t.generators,u),c=cl(i,e,a,t.generators,n);return jl(c,t.cells[0].row,t.cells[0].column)}),Ql(!0),d,d,Ol),bs=$c((function(e,t,n,r){var o=Dn(e).rows,i=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,u=o[t.cells[0].row],a=Ul(t.clipboard,t.generators,u),c=cl(i,e,a,t.generators,n);return jl(c,t.cells[0].row,t.cells[0].column)}),Ql(!1),d,d,Ol),ys=$c((function(e,t,n,r){var o=Dn(e).rows,i=t.cells[0].row,u=o[i],a=Ul(t.clipboard,t.generators,u),c=ll(i,e,a,t.generators,n);return jl(c,t.cells[0].row,t.cells[0].column)}),Wc,d,d,Ol),ws=$c((function(e,t,n,r){var o=Dn(e).rows,i=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,u=o[t.cells[0].row],a=Ul(t.clipboard,t.generators,u),c=ll(i,e,a,t.generators,n);return jl(c,t.cells[0].row,t.cells[0].column)}),Wc,d,d,Ol),xs=function(e,t){var n=Ln.fromTable(e);return Hc(n,t).bind((function(e){var t=e[e.length-1],r=e[0].column,o=t.column+t.colspan,i=z(E(n.all,(function(e){return B(e.cells,(function(e){return e.column>=r&&e.column<o}))})));return wc(i)})).getOr("")},Ss=function(e,t){var n=Ln.fromTable(e);return Hc(n,t).bind(wc).getOr("")},Cs=function(e,t){var n=Ln.fromTable(e);return Hc(n,t).bind((function(e){var t=e[e.length-1],r=e[0].row,o=t.row+t.rowspan;return function(e){var t=E(e,(function(e){return yc(e).type})),n=P(t,"header"),r=P(t,"footer");if(n||r){var o=P(t,"body");return!n||o||r?n||o||!r?k.none():k.some("footer"):k.some("header")}return k.some("body")}(n.all.slice(r,o))})).getOr("")},Ts=function(e,t,n){var r=function(e){return"table"===ot(Ai(e))},o=Ya(e),i=Ga(e)?d:pc,u=function(t){switch(Ka(e)){case"section":return Ac();case"sectionCells":return Rc();case"cells":return Pc();default:return Oc(t,"section")}},a=function(n,r){return r.cursor.fold((function(){var r=pn(n);return V(r).filter(At).map((function(r){t.clear(n);var o=e.dom.createRng();return o.selectNode(r.dom),e.selection.setRng(o),zt(r,"data-mce-selected","1"),o}))}),(function(r){var o=mc(gc,r),i=e.dom.createRng();return i.setStart(o.element.dom,o.offset),i.setEnd(o.element.dom,o.offset),e.selection.setRng(i),t.clear(n),k.some(i)}))},c=function(t,n,r,i,c){return function(l,s,f){void 0===f&&(f=!1),Ei(l);var d=i(),m=Ne.fromDom(e.getDoc()),g=Ti(r,m,o),p={sizing:ec(e,l),resize:Ga(e)?au():cu(),section:u(l)};return n(l)?t(d,l,s,g,p).bind((function(t){N(t.newRows,(function(t){wa(e,t.dom)})),N(t.newCells,(function(t){xa(e,t.dom)}));var n=a(l,t);return At(l)&&(Ei(l),f||Sa(e,l.dom,c)),n.map((function(e){return{rng:e,effect:c}}))})):k.none()}},l=c(us,(function(t){return!1===r(e)||ku(t).rows>1}),d,n,Ta),s=c(is,(function(t){return!1===r(e)||ku(t).columns>1}),d,n,Ta);return{deleteRow:l,deleteColumn:s,insertRowsBefore:c(ts,x,d,n,Ta),insertRowsAfter:c(ns,x,d,n,Ta),insertColumnsBefore:c(rs,x,i,n,Ta),insertColumnsAfter:c(os,x,i,n,Ta),mergeCells:c(gs,x,d,n,Ta),unmergeCells:c(ps,x,d,n,Ta),pasteColsBefore:c(vs,x,d,n,Ta),pasteColsAfter:c(bs,x,d,n,Ta),pasteRowsBefore:c(ys,x,d,n,Ta),pasteRowsAfter:c(ws,x,d,n,Ta),pasteCells:c(hs,x,d,n,ka),makeCellsHeader:c(ds,x,d,n,Ta),unmakeCellsHeader:c(ms,x,d,n,Ta),makeColumnsHeader:c(as,x,d,n,Ta),unmakeColumnsHeader:c(cs,x,d,n,Ta),makeRowsHeader:c(ls,x,d,n,Ta),makeRowsBody:c(ss,x,d,n,Ta),makeRowsFooter:c(fs,x,d,n,Ta),getTableRowType:Cs,getTableCellType:Ss,getTableColType:xs}},ks={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Os=function(e){var t=Ne.fromTag("colgroup");return _(e,(function(){return Qn(t,Ne.fromTag("col"))})),t},As=function(e,t,n,r){return _(e,(function(e){return function(e,t,n,r){for(var o=Ne.fromTag("tr"),i=0;i<e;i++){var u=r<t||i<n?Ne.fromTag("th"):Ne.fromTag("td");i<n&&zt(u,"scope","row"),r<t&&zt(u,"scope","col"),Qn(u,Ne.fromTag("br")),Qn(o,u)}return o}(t,n,r,e)}))},Rs=function(e,t){e.selection.select(t.dom,!0),e.selection.collapse(!0)},Ps=function(e,t,n,o,i){var u=Ma(e),a={styles:u,attributes:Ba(e),colGroups:Va(e)};return e.undoManager.ignore((function(){var r=function(e,t,n,r,o,i){void 0===i&&(i=ks);var u=Ne.fromTag("table"),a="cells"!==o;Jt(u,i.styles),$t(u,i.attributes),i.colGroups&&Qn(u,Os(t));var c=Math.min(e,n);if(a&&n>0){var l=Ne.fromTag("thead");Qn(u,l);var s=As(n,t,"sectionCells"===o?c:0,r);tr(l,s)}var f=Ne.fromTag("tbody");Qn(u,f);var d=As(a?e-c:e,t,a?0:n,r);return tr(f,d),u}(n,t,i,o,Ka(e),a);zt(r,"data-mce-id","__mce");var u=function(e){var t=Ne.fromTag("div"),n=Ne.fromDom(e.dom.cloneNode(!0));return Qn(t,n),function(e){return e.dom.innerHTML}(t)}(r);e.insertContent(u),e.addVisual()})),It(Ai(e),'table[data-mce-id="__mce"]').map((function(t){return qa(e)?rc(t):Ua(e)?oc(t):(Ha(e)||function(e){return r(e)&&-1!==e.indexOf("%")}(u.width))&&nc(t),Ei(t),qt(t,"data-mce-id"),function(e,t){N(Et(t,"tr"),(function(t){wa(e,t.dom),N(Et(t,"th,td"),(function(t){xa(e,t.dom)}))}))}(e,t),function(e,t){It(t,"td,th").each(h(Rs,e))}(e,t),t.dom})).getOr(null)},Ds=function(e,t,n,r,o){void 0===r&&(r={});var i=function(e){return f(e)&&e>0};if(i(t)&&i(n)){var u=r.headerRows||0,a=r.headerColumns||0;return Ps(e,n,t,a,u)}return console.error(o),null},_s=function(e){return function(){return e().fold((function(){return[]}),(function(e){return E(e,(function(e){return e.dom}))}))}},Es=function(e){return function(t){var n=t.length>0?k.some(Oi(t)):k.none();e(n)}},Ns=function(e){return function(t,n,r){void 0===r&&(r={});var o=Ds(e,n,t,r,"Invalid values for insertTable - rows and columns values are required to insert a table.");return e.undoManager.add(),o}},Fs=function(e,t,n){var r=on(e,t,1);1===n||r<=1?qt(e,t):zt(e,t,Math.min(n,r))},Bs=function(e,t){var n=Ln.fromTable(e);return qc(n,t).map((function(e){var t=e[e.length-1],r=e[0].column,o=t.column+t.colspan,i=function(e,t,n){if(Ln.hasColumns(e)){var r=B(Ln.justColumns(e),(function(e){return e.column>=t&&e.column<n})),o=E(r,(function(e){var r=Ir(e.element);return Fs(r,"span",n-t),r})),i=Ne.fromTag("colgroup");return tr(i,o),[i]}return[]}(n,r,o),u=function(e,t,n){return E(e.all,(function(e){var r=B(e.cells,(function(e){return e.column>=t&&e.column<n})),o=E(r,(function(e){var r=Ir(e.element);return Fs(r,"colspan",n-t),r})),i=Ne.fromTag("tr");return tr(i,o),i}))}(n,r,o);return G(G([],i,!0),u,!0)}))},Ms=function(e,t,n){var r=Ln.fromTable(e);return Hc(r,t).bind((function(e){var t=Ic(r,n,!1),o=Dn(t).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),i=$(o,(function(e){var t=B(e.cells,(function(e){return!e.isLocked}));return t.length>0?[X(X({},e),{cells:t})]:[]})),u=Lc(i);return Xt(u.length>0,u)})).map((function(e){return function(e){return E(e,(function(e){var t=Mr(e.element);return N(e.cells,(function(e){var n=Ir(e.element);_c(n,"colspan",e.colspan,1),_c(n,"rowspan",e.rowspan,1),Qn(t,n)})),t}))}(e)}))},Is=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ls=function(e,t,n){return function(t,r){for(var o=0;o<r.length;o++){var i=e.getStyle(r[o],n);if(void 0===t&&(t=i),t!==i)return""}return t}(undefined,e.select("td,th",t))},js=function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},zs=function(e,t){Is.each("left center right".split(" "),(function(n){e.formatter.remove("align"+n,{},t)}))},$s=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Ws=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Hs=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,qs=function(e){return(t=e,n="#",oe(t,n)?function(e,t){return e.substring(t)}(t,n.length):t).toUpperCase();var t,n},Us=function(e){return function(e){return Ws.test(e)||Hs.test(e)}(e)?k.some({value:qs(e)}):k.none()},Vs=function(e){var t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Ks=function(e){return function(e){return{value:e}}(Vs(e.red)+Vs(e.green)+Vs(e.blue))},Zs=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Xs=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Gs=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},Ys=function(e,t,n,r){var o=parseInt(e,10),i=parseInt(t,10),u=parseInt(n,10),a=parseFloat(r);return Gs(o,i,u,a)},Qs=function(e){return Us(e).orThunk((function(){return function(e){if("transparent"===e)return k.some(Gs(0,0,0,0));var t=Zs.exec(e);if(null!==t)return k.some(Ys(t[1],t[2],t[3],"1"));var n=Xs.exec(e);return null!==n?k.some(Ys(n[1],n[2],n[3],n[4])):k.none()}(e).map(Ks)})).getOrThunk((function(){var t=document.createElement("canvas");t.height=1,t.width=1;var n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);var r=n.getImageData(0,0,1,1).data,o=r[0],i=r[1],u=r[2],a=r[3];return Ks(Gs(o,i,u,a))}))},Js=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},ef=function(e){var t=Js(k.none()),n=function(){return t.get().each(e)};return{clear:function(){n(),t.set(k.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){n(),t.set(k.some(e))}}},tf=function(){var e=ef(d);return X(X({},e),{on:function(t){return e.get().each(t)}})},nf=function(e,t,n,r){return function(o){var i=ef((function(e){return e.unbind()})),u=!ae(r),a=function(){var a=Ui(t),c=function(t){return e.formatter.match(n,{value:r},t.dom,u)};u?(o.setActive(!D(a,c)),i.set(e.formatter.formatChanged(n,(function(e){return o.setActive(!e)}),!0))):(o.setActive(W(a,c)),i.set(e.formatter.formatChanged(n,o.setActive,!1,{value:r})))};return e.initialized?a():e.on("init",a),i.clear}},rf=function(e){return Qe(e,"menu")},of=function(e){return E(e,(function(e){var t=e.text||e.title;return rf(e)?{text:t,items:of(e.menu)}:{text:t,value:e.value}}))},uf=function(e,t,n,r,o){return E(n,(function(n){var i=n.text||n.title;return rf(n)?{type:"nestedmenuitem",text:i,getSubmenuItems:function(){return uf(e,t,n.menu,r,o)}}:{text:i,type:"togglemenuitem",onAction:function(){return o(n.value)},onSetup:nf(e,t,r,n.value)}}))},af=function(e,t){return function(n){var r;e.execCommand("mceTableApplyCellStyle",!1,((r={})[t]=n,r))}},cf=function(e){return $(e,(function(e){return rf(e)?[X(X({},e),{menu:cf(e.menu)})]:ae(e.value)?[e]:[]}))},lf=function(e,t,n,r,o){return function(i){return i(uf(e,t,n,r,o))}},sf=function(e,t,n){var r=E(t,(function(e){return{text:e.title,value:"#"+Qs(e.value).value,type:"choiceitem"}}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:r.length>0?r:void 0,allowCustomColors:!1},onAction:function(t){var r,o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,((r={})[n]=o,r))}}]},ff=function(e){return function(){var t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})}},df=function(e){return function(){var t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})}},mf=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:$s}],gf=function(e){return mf.concat(function(e){var t=of($a(e));return t.length>0?k.some({name:"class",type:"listbox",label:"Class",items:t}):k.none()}(e).toArray())},pf=function(e,t){var n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(of(Fa(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},hf=function(e){return function(t,n){var r=t.dom;return{setAttrib:function(t,o){e&&!o||r.setAttrib(n,t,o)},setStyle:function(t,o){e&&!o||r.setStyle(n,t,o)},setFormat:function(r,o){e&&!o||(""===o?t.formatter.remove(r,{value:null},n,!0):t.formatter.apply(r,{value:o},n))}}}},vf={normal:hf(!1),ifTruthy:hf(!0)},bf=function(e){return function(t){return oe(t,"rgb")?e.toHex(t):t}},yf=function(e,t){var n=Ne.fromDom(t);return{borderwidth:nn(n,"border-width").getOr(""),borderstyle:nn(n,"border-style").getOr(""),bordercolor:nn(n,"border-color").map(bf(e)).getOr(""),backgroundcolor:nn(n,"background-color").map(bf(e)).getOr("")}},wf=function(e){var t=e[0],n=e.slice(1);return N(n,(function(e){N($e(t),(function(n){He(e,(function(e,r){var o=t[n];""!==o&&n===r&&o!==e&&(t[n]="")}))}))})),t},xf=function(e,t,n,r){return L(e,(function(e){return!c(n.formatter.matchNode(r,t+e))})).getOr("")},Sf=h(xf,["left","center","right"],"align"),Cf=h(xf,["top","middle","bottom"],"valign"),Tf=function(e){return vn(Ne.fromDom(e)).map((function(t){var n={selection:Oi(e.cells)};return Cs(t,n)})).getOr("")},kf=function(e,t){var n=Ln.fromTable(e),r=Ln.justCells(n),o=B(r,(function(e){return D(t,(function(t){return Ie(e.element,t)}))}));return E(o,(function(e){return{element:e.element.dom,column:Ln.getColumnAt(n,e.column).map((function(e){return e.element.dom}))}}))},Of=function(e,t,n){var r=1===t.length;N(t,(function(t){var o=t.element,i=r?vf.normal(e,o):vf.ifTruthy(e,o),u=t.column.map((function(t){return r?vf.normal(e,t):vf.ifTruthy(e,t)})).getOr(i);!function(e,t,n){e.setAttrib("scope",n.scope),e.setAttrib("class",n.class),e.setStyle("height",_i(n.height)),t.setStyle("width",_i(n.width))}(i,u,n),Ia(e)&&function(e,t){e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),e.setFormat("tablecellbordercolor",t.bordercolor),e.setFormat("tablecellborderstyle",t.borderstyle),e.setFormat("tablecellborderwidth",_i(t.borderwidth))}(i,n),r&&(zs(e,o),function(e,t){Is.each("top middle bottom".split(" "),(function(n){e.formatter.remove("valign"+n,{},t)}))}(e,o)),n.halign&&js(e,o,n.halign),n.valign&&function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)}(e,o,n.valign)}))},Af=function(e,t,n,r){var o=r.getData();r.close(),e.undoManager.transact((function(){!function(e,t,n,r){var o=Ve(r,(function(e,t){return n[t]!==e}));Xe(o)>0&&t.length>=1&&vn(t[0]).each((function(n){var i=kf(n,t),u=Xe(Ve(o,(function(e,t){return"scope"!==t&&"celltype"!==t})))>0,a=Ye(o,"celltype");(u||Ye(o,"scope"))&&Of(e,i,r),a&&function(e,t){e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})}(e,r),Sa(e,n.dom,{structure:a,style:u})}))}(e,t,n,o),e.focus()}))},Rf=function(e,t){var n=vn(t[0]).map((function(n){return E(kf(n,t),(function(t){return function(e,t,n,r){var o,i=e.dom,u=r.getOr(t),a=function(e,t){return i.getStyle(e,t)||i.getAttrib(e,t)};return X({width:a(u,"width"),height:a(t,"height"),scope:i.getAttrib(t,"scope"),celltype:(o=t,o.nodeName.toLowerCase()),class:i.getAttrib(t,"class",""),halign:Sf(e,t),valign:Cf(e,t)},n?yf(i,t):{})}(e,t.element,Ia(e),t.column)}))}));return wf(n.getOrDie())},Pf=function(e,t){var n=Ui(t);if(0!==n.length){var r=Rf(e,n),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:gf(e)},pf(e,"cell")]},i={type:"panel",items:[{type:"grid",columns:2,items:gf(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Ia(e)?o:i,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:h(Af,e,n,r)})}},Df=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],_f=function(e){return Df.concat(function(e){var t=of(function(e){return e.getParam("table_row_class_list",[],"array")}(e));return t.length>0?k.some({name:"class",type:"listbox",label:"Class",items:t}):k.none()}(e).toArray())},Ef=function(e,t,n,r){var o=1===t.length;N(t,(function(t){var i=o?vf.normal(e,t):vf.ifTruthy(e,t);!function(e,t){e.setAttrib("class",t.class),e.setStyle("height",_i(t.height))}(i,n),La(e)&&function(e,t){e.setStyle("background-color",t.backgroundcolor),e.setStyle("border-color",t.bordercolor),e.setStyle("border-style",t.borderstyle)}(i,n),n.align!==r.align&&(zs(e,t),js(e,t,n.align))}))},Nf=function(e,t,n,r){var o=r.getData();r.close(),e.undoManager.transact((function(){!function(e,t,n,r){var o=Ve(r,(function(e,t){return n[t]!==e}));if(Xe(o)>0){var i=Ye(o,"type"),u=!i||Xe(o)>1;u&&Ef(e,t,r,n),i&&function(e,t){e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})}(e,r),vn(Ne.fromDom(t[0])).each((function(t){return Sa(e,t.dom,{structure:i,style:u})}))}}(e,t,n,o),e.focus()}))},Ff=function(e){var t,n,r,o,i=(t=Ni(e),n=zi.selected,r=qi(t),o=r.bind((function(e){return vn(e)})).map((function(e){return bn(e)})),Zt(r,o,(function(e,t){return B(t,(function(t){return D(Oi(t.dom.cells),(function(t){return"1"===Wt(t,n)||Ie(t,e)}))}))})).getOr([]));if(0!==i.length){var u=E(i,(function(t){return function(e,t,n){var r=e.dom;return X({height:r.getStyle(t,"height")||r.getAttrib(t,"height"),class:r.getAttrib(t,"class",""),type:Tf(t),align:Sf(e,t)},n?yf(r,t):{})}(e,t.dom,La(e))})),a=wf(u),c={type:"tabpanel",tabs:[{title:"General",name:"general",items:_f(e)},pf(e,"row")]},l={type:"panel",items:[{type:"grid",columns:2,items:_f(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:La(e)?c:l,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onSubmit:h(Nf,e,E(i,(function(e){return e.dom})),a)})}},Bf=function(e,t,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],o=function(e){return e.getParam("table_appearance_options",!0,"boolean")}(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],i=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return r.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(o).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(i)},Mf=function(e,t,n,o){if("TD"===t.tagName||"TH"===t.tagName)r(n)?e.setStyle(t,n,o):e.setStyle(t,n);else if(t.children)for(var i=0;i<t.children.length;i++)Mf(e,t.children[i],n,o)},If=function(e,t,n,r){var o=e.dom,i=r.getData(),u=Ve(i,(function(e,t){return n[t]!==e}));r.close(),""===i.class&&delete i.class,e.undoManager.transact((function(){if(!t){var n=parseInt(i.cols,10)||1,r=parseInt(i.rows,10)||1;t=Ps(e,n,r,0,0)}if(Xe(u)>0){!function(e,t,n){var r=e.dom,o={},i={};if(o.class=n.class,i.height=_i(n.height),r.getAttrib(t,"width")&&!za(e)?o.width=function(e){return e?e.replace(/px$/,""):""}(n.width):i.width=_i(n.width),za(e)?(i["border-width"]=_i(n.border),i["border-spacing"]=_i(n.cellspacing)):(o.border=n.border,o.cellpadding=n.cellpadding,o.cellspacing=n.cellspacing),za(e)&&t.children)for(var u=0;u<t.children.length;u++)Mf(r,t.children[u],{"border-width":_i(n.border),padding:_i(n.cellpadding)}),ja(e)&&Mf(r,t.children[u],{"border-color":n.bordercolor});ja(e)&&(i["background-color"]=n.backgroundcolor,i["border-color"]=n.bordercolor,i["border-style"]=n.borderstyle),o.style=r.serializeStyle(X(X({},Ma(e)),i)),r.setAttribs(t,X(X({},Ba(e)),o))}(e,t,i);var a=o.select("caption",t)[0];(a&&!i.caption||!a&&i.caption)&&e.execCommand("mceTableToggleCaption"),""===i.align?zs(e,t):js(e,t,i.align)}if(e.focus(),e.addVisual(),Xe(u)>0){var c=Ye(u,"caption"),l=!c||Xe(u)>1;Sa(e,t,{structure:c,style:l})}}))},Lf=function(e,t){var n,r=e.dom,o=function(e,t){var n,r,o,i,u=Ma(e),a=Ba(e),c=t?(n=e.dom,{borderstyle:Ge(u,"border-style").getOr(""),bordercolor:bf(n)(Ge(u,"border-color").getOr("")),backgroundcolor:bf(n)(Ge(u,"background-color").getOr(""))}):{};return X(X(X(X(X(X({},{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""}),u),a),c),(i=u["border-width"],za(e)&&i?{border:i}:Ge(a,"border").fold((function(){return{}}),(function(e){return{border:e}})))),(r=Ge(u,"border-spacing").or(Ge(a,"cellspacing")).fold((function(){return{}}),(function(e){return{cellspacing:e}})),o=Ge(u,"border-padding").or(Ge(a,"cellpadding")).fold((function(){return{}}),(function(e){return{cellpadding:e}})),X(X({},r),o)))}(e,ja(e));!1===t?(n=r.getParent(e.selection.getStart(),"table",e.getBody()))?o=function(e,t,n){var r=e.dom,o=za(e)?r.getStyle(t,"border-spacing")||r.getAttrib(t,"cellspacing"):r.getAttrib(t,"cellspacing")||r.getStyle(t,"border-spacing"),i=za(e)?Ls(r,t,"padding")||r.getAttrib(t,"cellpadding"):r.getAttrib(t,"cellpadding")||Ls(r,t,"padding");return X({width:r.getStyle(t,"width")||r.getAttrib(t,"width"),height:r.getStyle(t,"height")||r.getAttrib(t,"height"),cellspacing:o,cellpadding:i,border:function(t,n){var r=nn(Ne.fromDom(n),"border-width");return za(e)&&r.isSome()?r.getOr(""):t.getAttrib(n,"border")||Ls(e.dom,n,"border-width")||Ls(e.dom,n,"border")}(r,t),caption:!!r.select("caption",t)[0],class:r.getAttrib(t,"class",""),align:Sf(e,t)},n?yf(r,t):{})}(e,n,ja(e)):ja(e)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor=""):(o.cols="1",o.rows="1",ja(e)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor=""));var i=of(Wa(e));i.length>0&&o.class&&(o.class=o.class.replace(/\s*mce\-item\-table\s*/g,""));var u={type:"grid",columns:2,items:Bf(e,i,t)},a=ja(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[u]},pf(e,"table")]}:{type:"panel",items:[u]};e.windowManager.open({title:"Table Properties",size:"normal",body:a,onSubmit:h(If,e,n,o),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o})},jf=function(e){return Hi(Ni(e),Di(e))},zf=function(e,t,n,i,u){var a=Di(e),c=function(e){return vn(e,a)},l=function(t){return function(e){return qi(Ni(e),Di(e))}(e).bind((function(e){return c(e).map((function(n){return t(n,e)}))}))},s=function(t){e.focus()},f=function(e,t){return void 0===t&&(t=!1),l((function(n,r){var o=$i(i,n,r);e(n,o,t).each(s)}))},m=function(){return l((function(t,n){var r=$i(i,t,n),o=Ti(d,Ne.fromDom(e.getDoc()),k.none());return Ms(t,r,o)}))},g=function(){return l((function(e,t){var n=$i(i,e,t);return Bs(e,n)}))},p=function(t,n){return n().each((function(n){var r=E(n,(function(e){return Ir(e)}));l((function(n,o){var u=ki(Ne.fromDom(e.getDoc())),a=function(e,t,n,r){return{selection:Fi(e),clipboard:n,generators:r}}(i,0,r,u);t(n,a).each(s)}))}))},v=function(e){return function(t,n){return Ge(n,"type").each((function(t){f(e(t),n.no_events)}))}};He({mceTableSplitCells:function(){return f(t.unmergeCells)},mceTableMergeCells:function(){return f(t.mergeCells)},mceTableInsertRowBefore:function(){return f(t.insertRowsBefore)},mceTableInsertRowAfter:function(){return f(t.insertRowsAfter)},mceTableInsertColBefore:function(){return f(t.insertColumnsBefore)},mceTableInsertColAfter:function(){return f(t.insertColumnsAfter)},mceTableDeleteCol:function(){return f(t.deleteColumn)},mceTableDeleteRow:function(){return f(t.deleteRow)},mceTableCutCol:function(){return g().each((function(e){u.setColumns(e),f(t.deleteColumn)}))},mceTableCutRow:function(){return m().each((function(e){u.setRows(e),f(t.deleteRow)}))},mceTableCopyCol:function(){return g().each((function(e){return u.setColumns(e)}))},mceTableCopyRow:function(){return m().each((function(e){return u.setRows(e)}))},mceTablePasteColBefore:function(){return p(t.pasteColsBefore,u.getColumns)},mceTablePasteColAfter:function(){return p(t.pasteColsAfter,u.getColumns)},mceTablePasteRowBefore:function(){return p(t.pasteRowsBefore,u.getRows)},mceTablePasteRowAfter:function(){return p(t.pasteRowsAfter,u.getRows)},mceTableDelete:function(){return jf(e).each((function(t){vn(t,a).filter(y(a)).each((function(t){var n=Ne.fromText("");if(Gn(t,n),rr(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{var r=e.dom.createRng();r.setStart(n.dom,0),r.setEnd(n.dom,0),e.selection.setRng(r),e.nodeChanged()}}))}))},mceTableCellToggleClass:function(t,n){l((function(t){var r=Ui(i),o=W(r,(function(t){return e.formatter.match("tablecellclass",{value:n},t.dom)})),u=o?e.formatter.remove:e.formatter.apply;N(r,(function(e){return u("tablecellclass",{value:n},e.dom)})),Sa(e,t.dom,Ca)}))},mceTableToggleClass:function(t,n){l((function(t){e.formatter.toggle("tableclass",{value:n},t.dom),Sa(e,t.dom,Ca)}))},mceTableToggleCaption:function(){jf(e).each((function(t){vn(t,a).each((function(n){Mt(n,"caption").fold((function(){var t=Ne.fromTag("caption");Qn(t,Ne.fromText("Caption")),function(e,t,n){wt(e,n).fold((function(){Qn(e,t)}),(function(e){Xn(e,t)}))}(n,t,0),e.selection.setCursorLocation(t.dom,0)}),(function(r){dt("caption")(t)&&Me("td",n).each((function(t){return e.selection.setCursorLocation(t.dom,0)})),rr(r)})),Sa(e,n.dom,Ta)}))}))},mceTableSizingMode:function(t,n){return function(t){return jf(e).each((function(n){Ua(e)||qa(e)||Ha(e)||vn(n,a).each((function(n){"relative"!==t||Su(n)?"fixed"!==t||Cu(n)?"responsive"!==t||Tu(n)||oc(n):rc(n):nc(n),Ei(n),Sa(e,n.dom,Ta)}))}))}(n)},mceTableCellType:v((function(e){return"th"===e?t.makeCellsHeader:t.unmakeCellsHeader})),mceTableColType:v((function(e){return"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader})),mceTableRowType:v((function(e){switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},(function(t,n){return e.addCommand(n,t)})),He({mceTableProps:h(Lf,e,!1),mceTableRowProps:h(Ff,e),mceTableCellProps:h(Pf,e,i)},(function(t,n){return e.addCommand(n,(function(){return t()}))})),e.addCommand("mceInsertTable",(function(t,n){o(n)&&$e(n).length>0?Ds(e,n.rows,n.columns,n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Lf(e,!0)})),e.addCommand("mceTableApplyCellStyle",(function(t,n){var u=function(e){return"tablecell"+e.toLowerCase().replace("-","")};if(o(n)){var a=Ui(i);if(0!==a.length){var l=Ve(n,(function(t,n){return e.formatter.has(u(n))&&r(t)}));(function(e){for(var t in e)if(We.call(e,t))return!1;return!0})(l)||(He(l,(function(t,n){N(a,(function(r){vf.normal(e,r.dom).setFormat(u(n),t)}))})),c(a[0]).each((function(t){return Sa(e,t.dom,Ca)})))}}}))},$f={remove_similar:!0,inherit:!1},Wf=X({selector:"td,th"},$f),Hf={tablecellbackgroundcolor:X({styles:{backgroundColor:"%value"}},Wf),tablecellverticalalign:X({styles:{"vertical-align":"%value"}},Wf),tablecellbordercolor:X({styles:{borderColor:"%value"}},Wf),tablecellclass:X({classes:["%value"]},Wf),tableclass:X({selector:"table",classes:["%value"]},$f),tablecellborderstyle:X({styles:{borderStyle:"%value"}},Wf),tablecellborderwidth:X({styles:{borderWidth:"%value"}},Wf)},qf=Rr([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Uf=X(X({},qf),{none:function(e){return void 0===e&&(e=void 0),qf.none(e)}}),Vf=function(e,t,n,r,o){void 0===o&&(o=x);var i=1===r;if(!i&&n<=0)return Uf.first(e[0]);if(i&&n>=e.length-1)return Uf.last(e[e.length-1]);var u=n+r,a=e[u];return o(a)?Uf.middle(t,a):Vf(e,t,u,r,o)},Kf=function(e,t){return vn(e,t).bind((function(t){var n=pn(t);return j(n,(function(t){return Ie(e,t)})).map((function(e){return{index:e,all:n}}))}))},Zf=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},Xf=Rr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Gf={before:Xf.before,on:Xf.on,after:Xf.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(g,g,g)}},Yf=Rr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Qf={domRange:Yf.domRange,relative:Yf.relative,exact:Yf.exact,exactFromRange:function(e){return Yf.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){var t,n=function(e){return e.match({domRange:function(e){return Ne.fromDom(e.startContainer)},relative:function(e,t){return Gf.getStart(e)},exact:function(e,t,n,r){return e}})}(e);return t=n,Ne.fromDom(gt(t).dom.defaultView)},range:Zf},Jf=function(e,t){var n=e.document.createRange();return n.selectNode(t.dom),n},ed=function(e,t){var n=e.document.createRange();return td(n,t),n},td=function(e,t){return e.selectNodeContents(t.dom)},nd=function(e,t,n){var r,o=e.document.createRange();return r=o,t.fold((function(e){r.setStartBefore(e.dom)}),(function(e,t){r.setStart(e.dom,t)}),(function(e){r.setStartAfter(e.dom)})),function(e,t){t.fold((function(t){e.setEndBefore(t.dom)}),(function(t,n){e.setEnd(t.dom,n)}),(function(t){e.setEndAfter(t.dom)}))}(o,n),o},rd=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},od=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}},id=Rr([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ud=function(e,t,n){return t(Ne.fromDom(n.startContainer),n.startOffset,Ne.fromDom(n.endContainer),n.endOffset)},ad=function(e,t){var n=function(e,t){return t.match({domRange:function(e){return{ltr:m(e),rtl:k.none}},relative:function(t,n){return{ltr:Y((function(){return nd(e,t,n)})),rtl:Y((function(){return k.some(nd(e,n,t))}))}},exact:function(t,n,r,o){return{ltr:Y((function(){return rd(e,t,n,r,o)})),rtl:Y((function(){return k.some(rd(e,r,o,t,n))}))}}})}(e,t);return function(e,t){var n=t.ltr();return n.collapsed?t.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return id.rtl(Ne.fromDom(e.endContainer),e.endOffset,Ne.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return ud(0,id.ltr,n)})):ud(0,id.ltr,n)}(0,n)},cd=function(e,t){return ad(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom,o),i.setEnd(t.dom,n),i}})};id.ltr,id.rtl;var ld=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},sd=function(e,t,n,r,o){var i=function(n){var r=e.dom.createRange();return r.setStart(t.dom,n),r.collapse(!0),r},u=ur(t).length,a=function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,u=1;u<o;u++){var a=e(u),c=Math.abs(t-a.left);if(n<=a.bottom){if(n<a.top||c>i)return u-1;i=c}}return 0}((function(e){return i(e).getBoundingClientRect()}),n,r,o.right,u);return i(a)},fd=function(e,t,n,r){return lt(t)?function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom);var i=o.getClientRects();return Z(i,(function(e){return ld(e,n,r)?k.some(e):k.none()})).map((function(o){return sd(e,t,n,r,o)}))}(e,t,n,r):function(e,t,n,r){var o=e.dom.createRange(),i=yt(t);return Z(i,(function(t){return o.selectNode(t.dom),ld(o.getBoundingClientRect(),n,r)?fd(e,t,n,r):k.none()}))}(e,t,n,r)},dd=function(e,t){return t-e.left<e.right-t},md=function(e,t,n){var r=e.dom.createRange();return r.selectNode(t.dom),r.collapse(n),r},gd=function(e,t,n){var r=e.dom.createRange();r.selectNode(t.dom);var o=r.getBoundingClientRect(),i=dd(o,n);return(true===i?gi:pi)(t).map((function(t){return md(e,t,i)}))},pd=function(e,t,n){var r=t.dom.getBoundingClientRect(),o=dd(r,n);return k.some(md(e,t,o))},hd=function(e,t,n){var r,o;return k.from(null===(o=(r=e.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(r,t,n)).bind((function(t){if(null===t.offsetNode)return k.none();var n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),k.some(n)}))},vd=function(e,t,n){var r,o;return k.from(null===(o=(r=e.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(r,t,n))},bd=function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom);var i=o.getBoundingClientRect();return function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom);var i=o.getBoundingClientRect(),u=Math.max(i.left,Math.min(i.right,n)),a=Math.max(i.top,Math.min(i.bottom,r));return fd(e,t,u,a)}(e,t,Math.max(i.left,Math.min(i.right,n)),Math.max(i.top,Math.min(i.bottom,r)))},yd=function(e,t,n){return Ne.fromPoint(e,t,n).bind((function(r){var o=function(){return function(e,t,n){return(0===yt(t).length?pd:gd)(e,t,n)}(e,r,t)};return 0===yt(r).length?o():bd(e,r,t,n).orThunk(o)}))},wd=document.caretPositionFromPoint?hd:document.caretRangeFromPoint?vd:yd,xd=function(e,t){var n=ot(e);return"input"===n?Gf.after(e):P(["br","img"],n)?0===t?Gf.before(e):Gf.after(e):Gf.on(e,t)},Sd=function(e,t){var n=e.fold(Gf.before,xd,Gf.after),r=t.fold(Gf.before,xd,Gf.after);return Qf.relative(n,r)},Cd=function(e,t,n,r){var o=xd(e,t),i=xd(n,r);return Qf.relative(o,i)},Td=function(e,t,n,r){var o=function(e,t,n,r){var o=mt(e).dom.createRange();return o.setStart(e.dom,t),o.setEnd(n.dom,r),o}(e,t,n,r),i=Ie(e,n)&&t===r;return o.collapsed&&!i},kd=function(e){return k.from(e.getSelection())},Od=function(e,t){kd(e).each((function(e){e.removeAllRanges(),e.addRange(t)}))},Ad=function(e,t,n,r,o){var i=rd(e,t,n,r,o);Od(e,i)},Rd=function(e,t){return ad(e,t).match({ltr:function(t,n,r,o){Ad(e,t,n,r,o)},rtl:function(t,n,r,o){kd(e).each((function(i){if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom,n,r.dom,o);else if(i.extend)try{!function(e,t,n,r,o,i){t.collapse(n.dom,r),t.extend(o.dom,i)}(0,i,t,n,r,o)}catch(i){Ad(e,r,o,t,n)}else Ad(e,r,o,t,n)}))}})},Pd=function(e,t,n,r,o){var i=Cd(t,n,r,o);Rd(e,i)},Dd=function(e,t,n){var r=Sd(t,n);Rd(e,r)},_d=function(e){var t=Qf.getWin(e).dom,n=function(e,n,r,o){return rd(t,e,n,r,o)},r=function(e){return e.match({domRange:function(e){var t=Ne.fromDom(e.startContainer),n=Ne.fromDom(e.endContainer);return Cd(t,e.startOffset,n,e.endOffset)},relative:Sd,exact:Cd})}(e);return ad(t,r).match({ltr:n,rtl:n})},Ed=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return k.some(Zf(Ne.fromDom(t.startContainer),t.startOffset,Ne.fromDom(n.endContainer),n.endOffset))}return k.none()},Nd=function(e){if(null===e.anchorNode||null===e.focusNode)return Ed(e);var t=Ne.fromDom(e.anchorNode),n=Ne.fromDom(e.focusNode);return Td(t,e.anchorOffset,n,e.focusOffset)?k.some(Zf(t,e.anchorOffset,n,e.focusOffset)):Ed(e)},Fd=function(e,t,n){void 0===n&&(n=!0);var r=(n?ed:Jf)(e,t);Od(e,r)},Bd=function(e){return function(e){return kd(e).filter((function(e){return e.rangeCount>0})).bind(Nd)}(e).map((function(e){return Qf.exact(e.start,e.soffset,e.finish,e.foffset)}))},Md=function(e,t){return function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?k.some(n).map(od):k.none()}(cd(e,t))},Id=function(e,t,n){return function(e,t,n){var r=Ne.fromDom(e.document);return wd(r,t,n).map((function(e){return Zf(Ne.fromDom(e.startContainer),e.startOffset,Ne.fromDom(e.endContainer),e.endOffset)}))}(e,t,n)},Ld=tinymce.util.Tools.resolve("tinymce.util.VK"),jd=function(e,t,n){return $d(e,t,function(e,t,n){return Kf(e,n).fold((function(){return Uf.none(e)}),(function(n){return Vf(n.all,e,n.index,1,t)}))}(n,ea))},zd=function(e,t,n){return $d(e,t,function(e,t,n){return Kf(e,n).fold((function(){return Uf.none()}),(function(n){return Vf(n.all,e,n.index,-1,t)}))}(n,ea))},$d=function(e,t,n){return n.fold(k.none,k.none,(function(e,t){return gi(t).map((function(e){return function(e,t){var n=Qf.exact(t,0,t,0);return _d(n)}(0,e)}))}),(function(n){return e.execCommand("mceTableInsertRowAfter"),jd(e,t,n)}))},Wd=["table","li","dl"],Hd=function(e,t){return{selection:e,kill:t}},qd=function(e,t,n,r){return{start:Gf.on(e,t),finish:Gf.on(n,r)}},Ud=function(e,t){var n=cd(e,t);return Zf(Ne.fromDom(n.startContainer),n.startOffset,Ne.fromDom(n.endContainer),n.endOffset)},Vd=qd,Kd=function(e,t,n,r,o){return Ie(n,r)?k.none():Sr(n,r,t).bind((function(t){var r=t.boxes.getOr([]);return r.length>1?(o(e,r,t.start,t.finish),k.some(Hd(k.some(Vd(n,0,n,fi(n))),!0))):k.none()}))},Zd=function(e,t){return{item:e,mode:t}},Xd=function(e,t,n,r){return void 0===r&&(r=Gd),e.property().parent(t).map((function(e){return Zd(e,r)}))},Gd=function(e,t,n,r){return void 0===r&&(r=Yd),n.sibling(e,t).map((function(e){return Zd(e,r)}))},Yd=function(e,t,n,r){void 0===r&&(r=Yd);var o=e.property().children(t);return n.first(o).map((function(e){return Zd(e,r)}))},Qd=[{current:Xd,next:Gd,fallback:k.none()},{current:Gd,next:Yd,fallback:k.some(Xd)},{current:Yd,next:Yd,fallback:k.some(Gd)}],Jd=function(e,t,n,r,o){return void 0===o&&(o=Qd),L(o,(function(e){return e.current===n})).bind((function(n){return n.current(e,t,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return Jd(e,t,n,r)}))}))}))},em=function(){return{sibling:function(e,t){return e.query().prevSibling(t)},first:function(e){return e.length>0?k.some(e[e.length-1]):k.none()}}},tm=function(){return{sibling:function(e,t){return e.query().nextSibling(t)},first:function(e){return e.length>0?k.some(e[0]):k.none()}}},nm=function(e,t,n,r,o,i){return Jd(e,t,r,o).bind((function(t){return i(t.item)?k.none():n(t.item)?k.some(t.item):nm(e,t.item,n,t.mode,o,i)}))},rm=function(e){return function(t){return 0===e.property().children(t).length}},om=function(e,t,n,r){return nm(e,t,n,Gd,em(),r)},im=function(e,t,n,r){return nm(e,t,n,Gd,tm(),r)},um=sr(),am=function(e,t){return function(e,t,n){return om(e,t,rm(e),n)}(um,e,t)},cm=function(e,t){return function(e,t,n){return im(e,t,rm(e),n)}(um,e,t)},lm=Rr([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),sm=function(e){return Lt(e,"tr")},fm=X(X({},lm),{verify:function(e,t,n,r,o,i,u){return Lt(r,"td,th",u).bind((function(n){return Lt(t,"td,th",u).map((function(t){return Ie(n,t)?Ie(r,n)&&fi(n)===o?i(t):lm.none("in same cell"):wr(sm,[n,t]).fold((function(){return function(e,t,n){var r=e.getRect(t),o=e.getRect(n);return o.right>r.left&&o.left<r.right}(e,t,n)?lm.success():i(t)}),(function(e){return i(t)}))}))})).getOr(lm.none("default"))},cata:function(e,t,n,r,o){return e.fold(t,n,r,o)}}),dm=function(e,t){return j(e,h(Ie,t))},mm=function(e){return"br"===ot(e)},gm=function(e,t,n){return t(e,n).bind((function(e){return lt(e)&&0===ur(e).trim().length?gm(e,t,n):k.some(e)}))},pm=function(e,t,n,r){return function(e,t){return wt(e,t).filter(mm).orThunk((function(){return wt(e,t-1).filter(mm)}))}(t,n).bind((function(t){return r.traverse(t).fold((function(){return gm(t,r.gather,e).map(r.relative)}),(function(e){return function(e){return pt(e).bind((function(t){var n=yt(t);return dm(n,e).map((function(r){return function(e,t,n,r){return{parent:e,children:t,element:n,index:r}}(t,n,e,r)}))}))}(e).map((function(e){return Gf.on(e.parent,e.index)}))}))}))},hm=function(e,t,n,r){var o=mm(t)?function(e,t,n){return n.traverse(t).orThunk((function(){return gm(t,n.gather,e)})).map(n.relative)}(e,t,r):pm(e,t,n,r);return o.map((function(e){return{start:e,finish:e}}))},vm=function(e,t){return{left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}},bm=function(e,t){return{left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}},ym=function(e,t,n){return{left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}},wm=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}},xm=function(e,t){return k.some(e.getRect(t))},Sm=function(e,t,n){return ct(t)?xm(e,t).map(wm):lt(t)?function(e,t,n){return n>=0&&n<fi(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):k.none()}(e,t,n).map(wm):k.none()},Cm=function(e,t){return ct(t)?xm(e,t).map(wm):lt(t)?e.getRangedRect(t,0,t,fi(t)).map(wm):k.none()},Tm=Rr([{none:[]},{retry:["caret"]}]),km=function(e,t,n){return(r=t,o=_l,Nt((function(e,t){return t(e)}),Ft,r,o,i)).fold(w,(function(t){return Cm(e,t).exists((function(e){return function(e,t){return e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right}(n,e)}))}));var r,o,i},Om={point:function(e){return e.bottom},adjuster:function(e,t,n,r,o){var i=vm(o,5);return Math.abs(n.bottom-r.bottom)<1||n.top>o.bottom?Tm.retry(i):n.top===o.bottom?Tm.retry(vm(o,1)):km(e,t,o)?Tm.retry(ym(i,5,0)):Tm.none()},move:vm,gather:cm},Am=function(e,t,n,r,o){return 0===o?k.some(r):function(e,t,n){return e.elementFromPoint(t,n).filter((function(e){return"table"===ot(e)})).isSome()}(e,r.left,t.point(r))?function(e,t,n,r,o){return Am(e,t,n,t.move(r,5),o)}(e,t,n,r,o-1):e.situsFromPoint(r.left,t.point(r)).bind((function(i){return i.start.fold(k.none,(function(i){return Cm(e,i).bind((function(u){return t.adjuster(e,i,u,n,r).fold(k.none,(function(r){return Am(e,t,n,r,o-1)}))})).orThunk((function(){return k.some(r)}))}),k.none)}))},Rm=function(e,t,n){var r=e.move(n,5),o=Am(t,e,n,r,100).getOr(r);return function(e,t,n){return e.point(t)>n.getInnerHeight()?k.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?k.some(-e.point(t)):k.none()}(e,o,t).fold((function(){return t.situsFromPoint(o.left,e.point(o))}),(function(n){return t.scrollBy(0,n),t.situsFromPoint(o.left,e.point(o)-n)}))},Pm={tryUp:h(Rm,{point:function(e){return e.top},adjuster:function(e,t,n,r,o){var i=bm(o,5);return Math.abs(n.top-r.top)<1||n.bottom<o.top?Tm.retry(i):n.bottom===o.top?Tm.retry(bm(o,1)):km(e,t,o)?Tm.retry(ym(i,5,0)):Tm.none()},move:bm,gather:am}),tryDown:h(Rm,Om),ieTryUp:function(e,t){return e.situsFromPoint(t.left,t.top-5)},ieTryDown:function(e,t){return e.situsFromPoint(t.left,t.bottom+5)},getJumpSize:m(5)},Dm=function(e,t,n){return e.getSelection().bind((function(r){return hm(t,r.finish,r.foffset,n).fold((function(){return k.some(lc(r.finish,r.foffset))}),(function(o){var i=e.fromSitus(o);return function(e){return fm.cata(e,(function(e){return k.none()}),(function(){return k.none()}),(function(e){return k.some(lc(e,0))}),(function(e){return k.some(lc(e,fi(e)))}))}(fm.verify(e,r.finish,r.foffset,i.finish,i.foffset,n.failure,t))}))}))},_m=function(e,t,n,r,o,i){return 0===i?k.none():Fm(e,t,n,r,o).bind((function(u){var a=e.fromSitus(u),c=fm.verify(e,n,r,a.finish,a.foffset,o.failure,t);return fm.cata(c,(function(){return k.none()}),(function(){return k.some(u)}),(function(u){return Ie(n,u)&&0===r?Em(e,n,r,bm,o):_m(e,t,u,0,o,i-1)}),(function(u){return Ie(n,u)&&r===fi(u)?Em(e,n,r,vm,o):_m(e,t,u,fi(u),o,i-1)}))}))},Em=function(e,t,n,r,o){return Sm(e,t,n).bind((function(t){return Nm(e,o,r(t,Pm.getJumpSize()))}))},Nm=function(e,t,n){var r=_e().browser;return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?t.otherRetry(e,n):r.isIE()?t.ieRetry(e,n):k.none()},Fm=function(e,t,n,r,o){return Sm(e,n,r).bind((function(t){return Nm(e,o,t)}))},Bm=function(e,t){return Ft(e,(function(e){return pt(e).exists((function(e){return Ie(e,t)}))}),n).isSome();var n},Mm=function(e,t,n,r,o){return Lt(r,"td,th",t).bind((function(r){return Lt(r,"table",t).bind((function(i){return Bm(o,i)?function(e,t,n){return Dm(e,t,n).bind((function(r){return _m(e,t,r.element,r.offset,n,20).map(e.fromSitus)}))}(e,t,n).bind((function(e){return Lt(e.finish,"td,th",t).map((function(t){return{start:r,finish:t,range:e}}))})):k.none()}))}))},Im=function(e,t,n,r,o,i){return _e().browser.isIE()?k.none():i(r,t).orThunk((function(){return Mm(e,t,n,r,o).map((function(e){var t=e.range;return Hd(k.some(Vd(t.start,t.soffset,t.finish,t.foffset)),!0)}))}))},Lm=function(e,t){return Lt(e,"tr",t).bind((function(e){return Lt(e,"table",t).bind((function(n){var r=Et(n,"tr");return Ie(e,r[0])?function(e,t,n){return om(um,e,t,n)}(n,(function(e){return pi(e).isSome()}),t).map((function(e){var t=fi(e);return Hd(k.some(Vd(e,t,e,t)),!0)})):k.none()}))}))},jm=function(e,t){return Lt(e,"tr",t).bind((function(e){return Lt(e,"table",t).bind((function(n){var r=Et(n,"tr");return Ie(e,r[r.length-1])?function(e,t,n){return im(um,e,t,n)}(n,(function(e){return gi(e).isSome()}),t).map((function(e){return Hd(k.some(Vd(e,0,e,0)),!0)})):k.none()}))}))},zm=function(e,t,n,r,o,i,u){return Mm(e,n,r,o,i).bind((function(e){return Kd(t,n,e.start,e.finish,u)}))},$m=function(e,t){return Lt(e,"td,th",t)},Wm={traverse:bt,gather:cm,relative:Gf.before,otherRetry:Pm.tryDown,ieRetry:Pm.ieTryDown,failure:fm.failedDown},Hm={traverse:vt,gather:am,relative:Gf.before,otherRetry:Pm.tryUp,ieRetry:Pm.ieTryUp,failure:fm.failedUp},qm=function(e){return function(t){return t===e}},Um=qm(38),Vm=qm(40),Km=function(e){return e>=37&&e<=40},Zm={isBackward:qm(37),isForward:qm(39)},Xm={isBackward:qm(39),isForward:qm(37)},Gm=function(e){return{elementFromPoint:function(t,n){return Ne.fromPoint(Ne.fromDom(e.document),t,n)},getRect:function(e){return e.dom.getBoundingClientRect()},getRangedRect:function(t,n,r,o){var i=Qf.exact(t,n,r,o);return Md(e,i)},getSelection:function(){return Bd(e).map((function(t){return Ud(e,t)}))},fromSitus:function(t){var n=Qf.relative(t.start,t.finish);return Ud(e,n)},situsFromPoint:function(t,n){return Id(e,t,n).map((function(e){return qd(e.start,e.soffset,e.finish,e.foffset)}))},clearSelection:function(){!function(e){kd(e).each((function(e){return e.removeAllRanges()}))}(e)},collapseSelection:function(t){void 0===t&&(t=!1),Bd(e).each((function(n){return n.fold((function(e){return e.collapse(t)}),(function(n,r){var o=t?n:r;Dd(e,o,o)}),(function(n,r,o,i){var u=t?n:o,a=t?r:i;Pd(e,u,a,u,a)}))}))},setSelection:function(t){Pd(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:function(t,n){Dd(e,t,n)},selectNode:function(t){Fd(e,t,!1)},selectContents:function(t){Fd(e,t)},getInnerHeight:function(){return e.innerHeight},getScrollY:function(){var t,n,r,o;return(t=Ne.fromDom(e.document),n=void 0!==t?t.dom:document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop,co(r,o)).top},scrollBy:function(t,n){!function(e,t,n){var r=(void 0!==n?n.dom:document).defaultView;r&&r.scrollBy(e,t)}(t,n,Ne.fromDom(e.document))}}},Ym=function(e,t){return{rows:e,cols:t}},Qm=function(e,t,n,r){var o=function(e,t,n,r){var o=tf(),i=o.clear,u=function(i){o.on((function(o){r.clearBeforeUpdate(t),$m(i.target,n).each((function(u){Sr(o,u,n).each((function(n){var o=n.boxes.getOr([]);if(1===o.length){var a=o[0],c="false"===ta(a),l=Vt(Ju(i.target),a,Ie);c&&l&&(r.selectRange(t,o,a,a),e.selectContents(a))}else o.length>1&&(r.selectRange(t,o,n.start,n.finish),e.selectContents(u))}))}))}))};return{clearstate:i,mousedown:function(e){r.clear(t),$m(e.target,n).each(o.set)},mouseover:function(e){u(e)},mouseup:function(e){u(e),i()}}}(Gm(e),t,n,r);return{clearstate:o.clearstate,mousedown:o.mousedown,mouseover:o.mouseover,mouseup:o.mouseup}},Jm=function(e,t,n,r){var o=Gm(e),i=function(){return r.clear(t),k.none()};return{keydown:function(e,u,a,c,l,s){var f=e.raw,d=f.which,m=!0===f.shiftKey,g=Cr(t,r.selectedSelector).fold((function(){return Km(d)&&!m&&r.clearBeforeUpdate(t),Vm(d)&&m?h(zm,o,t,n,Wm,c,u,r.selectRange):Um(d)&&m?h(zm,o,t,n,Hm,c,u,r.selectRange):Vm(d)?h(Im,o,n,Wm,c,u,jm):Um(d)?h(Im,o,n,Hm,c,u,Lm):k.none}),(function(e){var n=function(n){return function(){var i=Z(n,(function(n){return function(e,t,n,r,o){return kr(r,e,t,o.firstSelectedSelector,o.lastSelectedSelector).map((function(e){return o.clearBeforeUpdate(n),o.selectRange(n,e.boxes,e.start,e.finish),e.boxes}))}(n.rows,n.cols,t,e,r)}));return i.fold((function(){return Tr(t,r.firstSelectedSelector,r.lastSelectedSelector).map((function(e){var n=Vm(d)||s.isForward(d)?Gf.after:Gf.before;return o.setRelativeSelection(Gf.on(e.first,0),n(e.table)),r.clear(t),Hd(k.none(),!0)}))}),(function(e){return k.some(Hd(k.none(),!0))}))}};return Vm(d)&&m?n([Ym(1,0)]):Um(d)&&m?n([Ym(-1,0)]):s.isBackward(d)&&m?n([Ym(0,-1),Ym(-1,0)]):s.isForward(d)&&m?n([Ym(0,1),Ym(1,0)]):Km(d)&&!m?i:k.none}));return g()},keyup:function(e,o,i,u,a){return Cr(t,r.selectedSelector).fold((function(){var c=e.raw,l=c.which;return!0===c.shiftKey&&Km(l)?function(e,t,n,r,o,i,u){return Ie(n,o)&&r===i?k.none():Lt(n,"td,th",t).bind((function(n){return Lt(o,"td,th",t).bind((function(r){return Kd(e,t,n,r,u)}))}))}(t,n,o,i,u,a,r.selectRange):k.none()}),k.none)}}},eg=function(e,t,n){var r=function(t){qt(t,e.selected),qt(t,e.firstSelected),qt(t,e.lastSelected)},o=function(t){zt(t,e.selected,"1")},i=function(e){u(e),n()},u=function(t){var n=Et(t,e.selectedSelector+","+e.firstSelectedSelector+","+e.lastSelectedSelector);N(n,r)};return{clearBeforeUpdate:u,clear:i,selectRange:function(n,r,u,a){i(n),N(r,o),zt(u,e.firstSelected,"1"),zt(a,e.lastSelected,"1"),t(r,u,a)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},tg=function(e,t,n){var r=Ln.fromTable(e);return Hc(r,t).map((function(e){var t=Ic(r,n,!1),o=function(e,t){var n=e.slice(0,t[t.length-1].row+1),r=Lc(n);return $(r,(function(e){var n=e.cells.slice(0,t[t.length-1].column+1);return E(n,(function(e){return e.element}))}))}(t,e),i=function(e,t){var n=e.slice(t[0].row+t[0].rowspan-1,e.length),r=Lc(n);return $(r,(function(e){var n=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return E(n,(function(e){return e.element}))}))}(t,e);return{upOrLeftCells:o,downOrRightCells:i}}))},ng=tinymce.util.Tools.resolve("tinymce.Env"),rg=function(e){return!1===Zu(Ne.fromDom(e.target),"ephox-snooker-resizer-bar")};function og(e,t,n){var r=eg(zi,(function(t,r,o){n.targets().each((function(n){vn(r).each((function(i){var u=Ya(e),a=Ti(d,Ne.fromDom(e.getDoc()),u),c=tg(i,n,a);!function(e,t,n,r,o){e.fire("TableSelectionChange",{cells:t,start:n,finish:r,otherCells:o})}(e,t,r,o,c)}))}))}),(function(){return function(e){e.fire("TableSelectionClear")}(e)}));return e.on("init",(function(n){var o=e.getWin(),i=Ai(e),u=Di(e),a=Qm(o,i,u,r),c=Jm(o,i,u,r),l=function(e,t,n,r){var o=Gm(e);return function(e,i){r.clearBeforeUpdate(t),Sr(e,i,n).each((function(e){var n=e.boxes.getOr([]);r.selectRange(t,n,e.start,e.finish),o.selectContents(i),o.collapseSelection()}))}}(o,i,u,r);e.on("TableSelectorChange",(function(e){return l(e.start,e.finish)}));var s,f,m=function(t,n){(function(e){return!0===e.raw.shiftKey})(t)&&(n.kill&&t.kill(),n.selection.each((function(t){var n=Qf.relative(t.start,t.finish),r=cd(o,n);e.selection.setRng(r)})))},g=function(e){return 0===e.button},p=(s=Js(Ne.fromDom(i)),f=Js(0),{touchEnd:function(e){var t=Ne.fromDom(e.target);if("td"===ot(t)||"th"===ot(t)){var n=s.get(),r=f.get();Ie(n,t)&&e.timeStamp-r<300&&(e.preventDefault(),l(t,t))}s.set(t),f.set(e.timeStamp)}});e.on("dragstart",(function(e){a.clearstate()})),e.on("mousedown",(function(e){g(e)&&rg(e)&&a.mousedown(Hu(e))})),e.on("mouseover",(function(e){var t;(void 0===(t=e).buttons||ng.browser.isEdge()&&0===t.buttons||0!=(1&t.buttons))&&rg(e)&&a.mouseover(Hu(e))})),e.on("mouseup",(function(e){g(e)&&rg(e)&&a.mouseup(Hu(e))})),e.on("touchend",p.touchEnd),e.on("keyup",(function(t){var n=Hu(t);if(n.raw.shiftKey&&Km(n.raw.which)){var r=e.selection.getRng(),o=Ne.fromDom(r.startContainer),i=Ne.fromDom(r.endContainer);c.keyup(n,o,r.startOffset,i,r.endOffset).each((function(e){m(n,e)}))}})),e.on("keydown",(function(n){var r=Hu(n);t().each((function(e){return e.hideBars()}));var o=e.selection.getRng(),i=Ne.fromDom(o.startContainer),u=Ne.fromDom(o.endContainer),a=to(Zm,Xm)(Ne.fromDom(e.selection.getStart()));c.keydown(r,i,o.startOffset,u,o.endOffset,a).each((function(e){m(r,e)})),t().each((function(e){return e.showBars()}))})),e.on("NodeChange",(function(){var t=e.selection,n=Ne.fromDom(t.getStart()),o=Ne.fromDom(t.getEnd());wr(vn,[n,o]).fold((function(){return r.clear(i)}),d)}))})),{clear:r.clear}}var ig=function(e,t){var n=Js(k.none()),r=Js([]),o=k.none(),i=dt("caption"),u=function(e){return o.forall((function(t){return!t[e]}))},a=function(){return Hi(function(e){return Ne.fromDom(e.selection.getEnd())}(e),Di(e))},c=function(){return Hi(Ni(e),Di(e)).bind((function(e){return n=Zt(vn(e),a().bind(vn),(function(n,r){return Ie(n,r)?i(e)?k.some(function(e){return{element:e,mergable:k.none(),unmergable:k.none(),selection:[e]}}(e)):k.some($i(t,n,e)):k.none()})),n.bind(g);var n}))},l=function(e){return vn(e.element).map((function(t){var n=Ln.fromTable(t),r=Hc(n,e).getOr([]),o=I(r,(function(e,t){return t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e}),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Vc(n,e).isSome(),unmergeable:Kc(n,e).isSome(),locked:o}}))},s=function(){n.set(Y(c)()),o=n.get().bind(l),N(r.get(),(function(e){return e()}))},f=function(e){return e(),r.set(r.get().concat([e])),function(){r.set(B(r.get(),(function(t){return t!==e})))}},d=function(e,t){return f((function(){return n.get().fold((function(){e.setDisabled(!0)}),(function(n){e.setDisabled(t(n))}))}))},m=function(e,t,r){return f((function(){return n.get().fold((function(){e.setDisabled(!0),e.setActive(!1)}),(function(n){e.setDisabled(t(n)),e.setActive(r(n))}))}))},p=function(e){return o.exists((function(t){return t.locked[e]}))},h=function(t,n){return function(r){return m(r,(function(e){return i(e.element)}),(function(){return e.queryCommandValue(t)===n}))}},v=h("mceTableRowType","header"),b=h("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",s),{onSetupTable:function(e){return d(e,(function(e){return!1}))},onSetupCellOrRow:function(e){return d(e,(function(e){return i(e.element)}))},onSetupColumn:function(e){return function(t){return d(t,(function(t){return i(t.element)||p(e)}))}},onSetupPasteable:function(e){return function(t){return d(t,(function(t){return i(t.element)||e().isNone()}))}},onSetupPasteableColumn:function(e,t){return function(n){return d(n,(function(n){return i(n.element)||e().isNone()||p(t)}))}},onSetupMergeable:function(e){return d(e,(function(e){return u("mergeable")}))},onSetupUnmergeable:function(e){return d(e,(function(e){return u("unmergeable")}))},resetTargets:s,onSetupTableWithCaption:function(t){return m(t,w,(function(t){return vn(t.element,Di(e)).exists((function(e){return Mt(e,"caption").isSome()}))}))},onSetupTableRowHeaders:v,onSetupTableColumnHeaders:b,targets:n.get}},ug=function(e){var t=function(e,t,n){return{get:function(){return Or(e(),n).fold((function(){return t().fold(_r,Nr)}),(function(e){return Er(e)}))}}}((function(){return Ai(e)}),(function(){return qi(Ni(e),Di(e))}),zi.selectedSelector),n=ig(e,t),r=cc(e),o=og(e,r.lazyResize,n),i=Ts(e,o,r.lazyWire),u=function(){var e=tf(),t=tf();return{getRows:e.get,setRows:function(n){n.fold(e.clear,e.set),t.clear()},clearRows:e.clear,getColumns:t.get,setColumns:function(n){n.fold(t.clear,t.set),e.clear()},clearColumns:t.clear}}();return zf(e,i,0,t,u),function(e,t,n){var r=Di(e),o=function(t){return qi(Ni(e)).bind((function(e){return vn(e,r).map((function(r){var o=$i(n,r,e);return t(r,o)}))})).getOr("")};He({mceTableRowType:function(){return o(t.getTableRowType)},mceTableCellType:function(){return o(t.getTableCellType)},mceTableColType:function(){return o(t.getTableColType)}},(function(t,n){return e.addQueryValueHandler(n,t)}))}(e,i,t),Vi(e,t,i),function(e,t,n,r){var o=function(t){return function(){return e.execCommand(t)}},i=function(t){e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},u={text:"Table properties",onSetup:n.onSetupTable,onAction:o("mceTableProps")},a={text:"Delete table",icon:"table-delete-table",onSetup:n.onSetupTable,onAction:o("mceTableDelete")};e.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:o("mceTableInsertRowBefore"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:o("mceTableInsertRowAfter"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:o("mceTableDeleteRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:o("mceTableRowProps"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:o("mceTableCutRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:o("mceTableCopyRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:o("mceTablePasteRowBefore"),onSetup:n.onSetupPasteable(r.getRows)}),e.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:o("mceTablePasteRowAfter"),onSetup:n.onSetupPasteable(r.getRows)});var c={type:"nestedmenuitem",text:"Row",getSubmenuItems:m("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};e.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:o("mceTableInsertColBefore"),onSetup:n.onSetupColumn("onFirst")}),e.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:o("mceTableInsertColAfter"),onSetup:n.onSetupColumn("onLast")}),e.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:o("mceTableDeleteCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:o("mceTableCutCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:o("mceTableCopyCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:o("mceTablePasteColBefore"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onFirst")}),e.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:o("mceTablePasteColAfter"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onLast")});var l={type:"nestedmenuitem",text:"Column",getSubmenuItems:m("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};e.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:o("mceTableCellProps"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:o("mceTableMergeCells"),onSetup:n.onSetupMergeable}),e.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:o("mceTableSplitCells"),onSetup:n.onSetupUnmergeable});var s={type:"nestedmenuitem",text:"Cell",getSubmenuItems:m("tablecellprops tablemergecells tablesplitcells")};!1===function(e){return e.getParam("table_grid",!0,"boolean")}(e)?e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:o("mceInsertTable")}):e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:i}]}}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:o("mceInsertTable")}),e.ui.registry.addMenuItem("tableprops",u),e.ui.registry.addMenuItem("deletetable",a),e.ui.registry.addNestedMenuItem("row",c),e.ui.registry.addNestedMenuItem("column",l),e.ui.registry.addNestedMenuItem("cell",s),e.ui.registry.addContextMenu("table",{update:function(){return n.resetTargets(),n.targets().fold(m(""),(function(e){return"caption"===ot(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}});var f=cf(Wa(e));0!==f.length&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return uf(e,t,f,"tableclass",(function(t){return e.execCommand("mceTableToggleClass",!1,t)}))},onSetup:n.onSetupTable});var d=cf($a(e));0!==d.length&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return uf(e,t,d,"tablecellclass",(function(t){return e.execCommand("mceTableCellToggleClass",!1,t)}))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return uf(e,t,$s,"tablecellverticalalign",af(e,"vertical-align"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return uf(e,t,Na(e),"tablecellborderwidth",af(e,"border-width"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return uf(e,t,Fa(e),"tablecellborderstyle",af(e,"border-style"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:o("mceTableToggleCaption"),onSetup:n.onSetupTableWithCaption}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return sf(e,Qa(e),"background-color")},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return sf(e,Ja(e),"border-color")},onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:ff(e),onSetup:n.onSetupTableRowHeaders}),e.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:df(e),onSetup:n.onSetupTableColumnHeaders})}(e,t,n,u),function(e,t,n,r){e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable | cell row column | advtablesort | tableprops deletetable")}});var o=function(t){return function(){return e.execCommand(t)}};e.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:o("mceTableProps"),icon:"table",onSetup:n.onSetupTable}),e.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:o("mceTableDelete"),icon:"table-delete-table",onSetup:n.onSetupTable}),e.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:o("mceTableCellProps"),icon:"table-cell-properties",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:o("mceTableMergeCells"),icon:"table-merge-cells",onSetup:n.onSetupMergeable}),e.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:o("mceTableSplitCells"),icon:"table-split-cells",onSetup:n.onSetupUnmergeable}),e.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:o("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:o("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:o("mceTableDeleteRow"),icon:"table-delete-row",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:o("mceTableRowProps"),icon:"table-row-properties",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:o("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:n.onSetupColumn("onFirst")}),e.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:o("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:n.onSetupColumn("onLast")}),e.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:o("mceTableDeleteCol"),icon:"table-delete-column",onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:o("mceTableCutRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:o("mceTableCopyRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:o("mceTablePasteRowBefore"),onSetup:n.onSetupPasteable(r.getRows)}),e.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:o("mceTablePasteRowAfter"),onSetup:n.onSetupPasteable(r.getRows)}),e.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:o("mceTableCutCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:o("mceTableCopyCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:o("mceTablePasteColBefore"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onFirst")}),e.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:o("mceTablePasteColAfter"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onLast")}),e.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:o("mceInsertTable"),icon:"table"});var i=cf(Wa(e));0!==i.length&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:lf(e,t,i,"tableclass",(function(t){return e.execCommand("mceTableToggleClass",!1,t)})),onSetup:n.onSetupTable});var u=cf($a(e));0!==u.length&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:lf(e,t,u,"tablecellclass",(function(t){return e.execCommand("mceTableCellToggleClass",!1,t)})),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:lf(e,t,$s,"tablecellverticalalign",af(e,"vertical-align")),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:lf(e,t,Na(e),"tablecellborderwidth",af(e,"border-width")),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:lf(e,t,Fa(e),"tablecellborderstyle",af(e,"border-style")),onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:o("mceTableToggleCaption"),icon:"table-caption",onSetup:n.onSetupTableWithCaption}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(t){return t(sf(e,Qa(e),"background-color"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(t){return t(sf(e,Ja(e),"border-color"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:ff(e),onSetup:n.onSetupTableRowHeaders}),e.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:df(e),onSetup:n.onSetupTableColumnHeaders})}(e,t,n,u),function(e){var t=function(e){return e.getParam("table_toolbar","tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol")}(e);t.length>0&&e.ui.registry.addContextToolbar("table",{predicate:function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},items:t,scope:"node",position:"node"})}(e),e.on("PreInit",(function(){e.serializer.addTempAttr(zi.firstSelected),e.serializer.addTempAttr(zi.lastSelected),function(e){e.formatter.register(Hf)}(e)})),function(e){return e.getParam("table_tab_navigation",!0,"boolean")}(e)&&e.on("keydown",(function(t){!function(e,t,n){if(e.keyCode===Ld.TAB){var r=Ai(t),o=function(e){var t=ot(e);return Ie(e,r)||P(Wd,t)},i=t.selection.getRng(),u=Ne.fromDom(e.shiftKey?i.startContainer:i.endContainer);gn(u,o).each((function(r){e.preventDefault(),vn(r,o).each(n.clear),t.selection.collapse(e.shiftKey),(e.shiftKey?zd:jd)(t,o,r).each((function(e){t.selection.setRng(e)}))}))}}(t,e,o)})),e.on("remove",(function(){r.destroy()})),function(e,t,n,r){return{insertTable:Ns(e),setClipboardRows:Es(t.setRows),getClipboardRows:_s(t.getRows),setClipboardCols:Es(t.setColumns),getClipboardCols:_s(t.getColumns),resizeHandler:n,selectionTargets:r}}(e,u,r,n)};Fr.add("table",ug)}()},14234:function(){!function(){"use strict";function e(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"==r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}}function t(e){return function(t){return typeof t===e}}function n(e){return function(t){return e===t}}function r(e){return!(null==e)}function o(){}function i(e){return function(){return e}}function u(e){return e}function a(e,t){return e===t}var c=e("string"),l=e("object"),s=e("array"),f=n(null),d=t("boolean"),m=n(void 0),g=t("function"),p=t("number");function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function v(e){return function(t){return!e(t)}}function b(){return x}var y=i(!1),w=i(!0),x={fold:function(e,t){return e()},isSome:y,isNone:w,getOr:u,getOrThunk:S,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:u,orThunk:S,map:b,each:o,bind:b,exists:y,forall:w,filter:function(){return x},toArray:function(){return[]},toString:i("none()")};function S(e){return e()}function C(e,t){return-1<V.call(e,t)}function T(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1}function k(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n}function O(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}function A(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function R(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var u=e[o];(t(u,o)?n:r).push(u)}return{pass:n,fail:r}}function P(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}function D(e,t,n){return function(e){for(var r,o=e.length-1;0<=o;o--)r=e[o],n=t(n,r,o)}(e),n}function _(e,t,n){return A(e,(function(e,r){n=t(n,e,r)})),n}function E(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return q.some(i);if(n(i,r))break}return q.none()}(e,t,y)}function N(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return q.some(n);return q.none()}function F(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!s(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);K.apply(t,e[n])}return t}function B(e,t){return F(O(e,t))}function M(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0}function I(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n}function L(e){return[e]}function j(e,t){return 0<=t&&t<e.length?q.some(e[t]):q.none()}function z(e){return j(e,0)}function $(e){return j(e,e.length-1)}function W(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return q.none()}var H=function(e){function t(){return o}function n(t){return t(e)}var r=i(e),o={fold:function(t,n){return n(e)},isSome:w,isNone:y,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:t,orThunk:t,map:function(t){return H(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?o:x},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},q={some:H,none:b,from:function(e){return null==e?x:H(e)}},U=Array.prototype.slice,V=Array.prototype.indexOf,K=Array.prototype.push,Z=function(){return(Z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function X(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function G(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}function Y(e,t){var n=String(t).toLowerCase();return E(e,(function(e){return e.search(n)}))}function Q(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}function J(e,t){return-1!==e.indexOf(t)}function ee(e,t){return Q(e,t,e.length-t.length)}function te(e){return 0<e.length}function ne(e){return function(t){return J(t,e)}}function re(e){return window.matchMedia(e).matches}function oe(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}function ie(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount}function ue(e,t){var n=void 0===t?document:t.dom;return ie(n)?q.none():q.from(n.querySelector(e)).map(He.fromDom)}function ae(e,t){return e.dom===t.dom}function ce(e,t){return We().browser.isIE()?(n=e.dom,r=t.dom,o=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(n.compareDocumentPosition(r)&o)):(i=e.dom)!==(u=t.dom)&&i.contains(u);var n,r,o,i,u}function le(e,t){for(var n=Ue(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}function se(e,t){return Ke(e,(function(e,n){return{k:n,v:t(e,n)}}))}function fe(e,t){var n={},r=t,i=n,u=function(e,t){i[t]=e},a=o;return le(e,(function(e,t){(r(e,t)?u:a)(e,t)})),n}function de(e,t){var n=[];return le(e,(function(e,r){n.push(t(e,r))})),n}function me(e){return de(e,u)}function ge(e){return Ue(e).length}function pe(e,t){return Ze(e,t)?q.from(e[t]):q.none()}function he(e,t){return Ze(e,t)&&void 0!==e[t]&&null!==e[t]}function ve(e,t,n){return{element:e,rowspan:t,colspan:n}}function be(e,t,n){return{element:e,cells:t,section:n}}function ye(e,t,n){return{element:e,isNew:t,isLocked:n}}function we(e,t,n,r){return{element:e,cells:t,section:n,isNew:r}}function xe(){return Oe(0,0)}function Se(e){function t(e){return function(){return n===e}}var n=e.current,r=e.version;return{current:n,version:r,isEdge:t("Edge"),isChrome:t("Chrome"),isIE:t("IE"),isOpera:t("Opera"),isFirefox:t(Ee),isSafari:t("Safari")}}function Ce(e){function t(e){return function(){return n===e}}var n=e.current,r=e.version;return{current:n,version:r,isWindows:t(Be),isiOS:t("iOS"),isAndroid:t(Me),isOSX:t("OSX"),isLinux:t("Linux"),isSolaris:t(Ie),isFreeBSD:t(Le),isChromeOS:t(je)}}function Te(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}}var ke,Oe=function(e,t){return{major:e,minor:t}},Ae={nu:Oe,detect:function(e,t){var n,r,o=String(t).toLowerCase();return 0===e.length?xe():(r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,n=o))?Oe(i(1),i(2)):{major:0,minor:0};function i(e){return Number(n.replace(r,"$"+e))}},unknown:xe},Re=function(e,t){return Q(e,t,0)},Pe=(ke=/^\s+|\s+$/g,function(e){return e.replace(ke,"")}),De=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_e={browsers:i([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return J(e,"edge/")&&J(e,"chrome")&&J(e,"safari")&&J(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,De],search:function(e){return J(e,"chrome")&&!J(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return J(e,"msie")||J(e,"trident")}},{name:"Opera",versionRegexes:[De,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ne("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ne("firefox")},{name:"Safari",versionRegexes:[De,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(J(e,"safari")||J(e,"mobile/"))&&J(e,"applewebkit")}}]),oses:i([{name:"Windows",search:ne("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return J(e,"iphone")||J(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ne("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ne("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ne("linux"),versionRegexes:[]},{name:"Solaris",search:ne("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ne("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ne("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},Ee="Firefox",Ne=function(){return Se({current:void 0,version:Ae.unknown()})},Fe=Se,Be=(i("Edge"),i("Chrome"),i("IE"),i("Opera"),i(Ee),i("Safari"),"Windows"),Me="Android",Ie="Solaris",Le="FreeBSD",je="ChromeOS",ze=function(){return Ce({current:void 0,version:Ae.unknown()})},$e=Ce,We=(i(Be),i("iOS"),i(Me),i("Linux"),i("OSX"),i(Ie),i(Le),i(je),G((function(){return e=navigator.userAgent,t=q.from(navigator.userAgentData),n=re,h=_e.browsers(),v=_e.oses(),b=t.bind((function(e){return t=h,W(e.brands,(function(e){var n=e.brand.toLowerCase();return E(t,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(t){return{current:t.name,version:Ae.nu(parseInt(e.version,10),0)}}))}));var t})).orThunk((function(){return Y(h,t=e).map((function(e){var n=Ae.detect(e.versionRegexes,t);return{current:e.name,version:n}}));var t})).fold(Ne,Fe),y=Y(v,r=e).map((function(e){var t=Ae.detect(e.versionRegexes,r);return{current:e.name,version:t}})).fold(ze,$e),{browser:b,os:y,deviceType:(u=b,a=e,c=n,l=(o=y).isiOS()&&!0===/ipad/i.test(a),s=o.isiOS()&&!l,d=(f=o.isiOS()||o.isAndroid())||c("(pointer:coarse)"),m=l||!s&&f&&c("(min-device-width:768px)"),g=s||f&&!m,p=u.isSafari()&&o.isiOS()&&!1===/safari/i.test(a),{isiPad:i(l),isiPhone:i(s),isTablet:i(m),isPhone:i(g),isTouch:i(d),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:i(p),isDesktop:i(!g&&!m&&!p)})};var e,t,n,r,o,u,a,c,l,s,f,d,m,g,p,h,v,b,y}))),He={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Te(n.childNodes[0])},fromTag:function(e,t){return Te((t||document).createElement(e))},fromText:function(e,t){return Te((t||document).createTextNode(e))},fromDom:Te,fromPoint:function(e,t,n){return q.from(e.dom.elementFromPoint(t,n)).map(Te)}},qe=oe,Ue=Object.keys,Ve=Object.hasOwnProperty,Ke=function(e,t){var n={};return le(e,(function(e,r){var o=t(e,r);n[o.k]=o.v})),n},Ze=function(e,t){return Ve.call(e,t)},Xe=["tfoot","thead","tbody","colgroup"];function Ge(e){return e.dom.nodeName.toLowerCase()}function Ye(e){return e.dom.nodeType}function Qe(e){return function(t){return Ye(t)===e}}function Je(e){return 8===Ye(e)||"#comment"===Ge(e)}function et(e){return function(t){return mt(t)&&Ge(t)===e}}function tt(e){return He.fromDom(e.dom.ownerDocument)}function nt(e){return pt(e)?e:tt(e)}function rt(e){return q.from(e.dom.parentNode).map(He.fromDom)}function ot(e,t){for(var n=g(t)?t:y,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,u=He.fromDom(i);if(o.push(u),!0===n(u))break;r=i}return o}function it(e){return q.from(e.dom.previousSibling).map(He.fromDom)}function ut(e){return q.from(e.dom.nextSibling).map(He.fromDom)}function at(e){return O(e.dom.childNodes,He.fromDom)}function ct(e,t){var n=e.dom.childNodes;return q.from(n[t]).map(He.fromDom)}function lt(e){return He.fromDom(e.dom.host)}function st(e,t,n){return r=function(e){return oe(e,t)},P(ot(e,n),r);var r}function ft(e,t){return n=function(e){return oe(e,t)},P(at(e),n);var n}function dt(e,t){return ie(n=void 0===e?document:e.dom)?[]:O(n.querySelectorAll(t),He.fromDom);var n}"undefined"!=typeof window||Function("return this;")();var mt=Qe(1),gt=Qe(3),pt=Qe(9),ht=Qe(11),vt=g(Element.prototype.attachShadow)&&g(Node.prototype.getRootNode),bt=i(vt),yt=vt?function(e){return He.fromDom(e.dom.getRootNode())}:nt,wt=function(e){var t=gt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,o,i,u,a,c=t.ownerDocument;return i=He.fromDom(t),a=yt(i),(ht(u=a)&&r(u.dom.host)?q.some(a):q.none()).fold((function(){return c.body.contains(t)}),(n=wt,o=lt,function(e){return n(o(e))}))},xt=function(e){var t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return He.fromDom(t)},St=function(e,t){var n=[];return A(at(e),(function(e){n=(n=t(e)?n.concat([e]):n).concat(St(e,t))})),n};function Ct(e,t,n,r,o){return e(n,r)?q.some(n):g(o)&&o(n)?q.none():t(n,r,o)}function Tt(e,t,n){for(var r=e.dom,o=g(n)?n:y;r.parentNode;){r=r.parentNode;var i=He.fromDom(r);if(t(i))return q.some(i);if(o(i))break}return q.none()}function kt(e,t,n){return Tt(e,(function(e){return oe(e,t)}),n)}function Ot(e,t){return n=function(e){return oe(e,t)},E(e.dom.childNodes,(function(e){return n(He.fromDom(e))})).map(He.fromDom);var n}function At(e,t){return ue(t,e)}function Rt(e,t,n){return Ct(oe,kt,e,t,n)}function Pt(e,t,n){if(!(c(n)||d(n)||p(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}function Dt(e,t,n){Pt(e.dom,t,n)}function _t(e,t){var n=e.dom;le(t,(function(e,t){Pt(n,t,e)}))}function Et(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n}function Nt(e,t){return q.from(Et(e,t))}function Ft(e){return _(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})}function Bt(e,t,n){return void 0===n&&(n=a),e.exists((function(e){return n(e,t)}))}function Mt(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t}function It(e,t,n){return e.isSome()&&t.isSome()?q.some(n(e.getOrDie(),t.getOrDie())):q.none()}function Lt(e,t){return e?q.some(t):q.none()}function jt(e){return void 0!==e.style&&g(e.style.getPropertyValue)}function zt(e,t,n){if(!c(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);jt(e)&&e.style.setProperty(t,n)}function $t(e,t,n){zt(e.dom,t,n)}function Wt(e,t){var n=e.dom;le(t,(function(e,t){zt(n,t,e)}))}function Ht(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||wt(e)?r:jn(n,t)}function qt(e,t){var n=e.dom,r=jn(n,t);return q.from(r).filter((function(e){return 0<e.length}))}function Ut(e,t){var n,r=t;jt(n=e.dom)&&n.style.removeProperty(r),Bt(Nt(e,"style").map(Pe),"")&&Ln(e,"style")}function Vt(e,t,n){return void 0===n&&(n=0),Nt(e,t).map((function(e){return parseInt(e,10)})).getOr(n)}function Kt(e,t){return Vt(e,t,1)}function Zt(e){return et("col")(e)?1<Vt(e,"span",1):1<Kt(e,"colspan")}function Xt(e){return 1<Kt(e,"rowspan")}function Gt(e,t){return parseInt(Ht(e,t),10)}function Yt(e,t){return Wn(e,t,w)}function Qt(e,t){return n=["td","th"],(o=void 0===(o=t)?y:t)(r=e)?q.none():C(n,Ge(r))?q.some(r):kt(r,n.join(","),(function(e){return oe(e,"table")||o(e)}));var n,r,o}function Jt(e){return Yt(e,"th,td")}function en(e){return oe(e,"colgroup")?ft(e,"col"):B(Hn(e),(function(e){return ft(e,"col")}))}function tn(e,t){return Rt(e,"table",t)}function nn(e){return Yt(e,"tr")}function rn(e,t){return O(e,(function(e){if("colgroup"!==Ge(e))return be(e,n=O(Jt(e),(function(e){return ve(e,Vt(e,"rowspan",1),Vt(e,"colspan",1))})),t(e));var n=O(en(e),(function(e){return ve(e,1,Vt(e,"span",1))}));return be(e,n,"colgroup")}))}function on(e){return rt(e).map((function(e){var t=Ge(e);return C(Xe,t)?t:"tbody"})).getOr("tbody")}function un(e){var t=nn(e);return rn(X(X([],Hn(e),!0),t,!0),on)}function an(e,t,n){var r=e.cells,o=r.slice(0,t),i=r.slice(t),u=o.concat(n).concat(i);return qn(e,u)}function cn(e,t,n){return an(e,t,[n])}function ln(e,t,n){e.cells[t]=n}function sn(e,t){return e.cells[t]}function fn(e,t){return sn(e,t).element}function dn(e){return e.cells.length}function mn(e){var t=R(e,(function(e){return"colgroup"===e.section}));return{rows:t.fail,cols:t.pass}}function gn(e,t,n){var r=O(e.cells,n);return we(t(e.element),r,e.section,!0)}function pn(e){return Nt(e,Un).bind((function(e){return q.from(e.match(/\d+/g))})).map((function(e){return I(e,w)}))}function hn(e){var t,n=de(_(mn(e).rows,(function(e,t){return A(t.cells,(function(t,n){t.isLocked&&(e[n]=!0)})),e}),{}),(function(e,t){return parseInt(t,10)}));return(t=U.call(n,0)).sort(void 0),t}function vn(e){var t={},n=[],r=z(e).map((function(e){return e.element})).bind(tn).bind(pn).getOr({}),o=0,i=0,u=0,a=R(e,(function(e){return"colgroup"===e.section})),c=a.pass;A(a.fail,(function(e){var a=[];A(e.cells,(function(e){for(var n=0;void 0!==t[u+","+n];)n++;for(var o=he(r,n.toString()),c={element:e.element,rowspan:e.rowspan,colspan:e.colspan,row:u,column:n,isLocked:o},l=0;l<e.colspan;l++)for(var s=0;s<e.rowspan;s++){var f=n+l;t[u+s+","+f]=c,i=Math.max(i,f+1)}a.push(c)})),o++,n.push(be(e.element,a,e.section)),u++}));var l=$(c).map((function(e){var t,n,r=(t={},n=0,A(e.cells,(function(e){var r=e.colspan;k(r,(function(o){var i=n+o;t[i]={element:e.element,colspan:r,column:i}})),n+=r})),t);return{colgroups:[{element:e.element,columns:me(r)}],columns:r}})).getOrThunk((function(){return{colgroups:[],columns:{}}})),s=l.columns,f=l.colgroups;return{grid:{rows:o,columns:i},access:t,all:n,columns:s,colgroups:f}}function bn(e,t){var n=t.column,r=t.column+t.colspan-1,o=t.row,i=t.row+t.rowspan-1;return n<=e.finishCol&&r>=e.startCol&&o<=e.finishRow&&i>=e.startRow}function yn(e,t){return t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow}function wn(e,t,n){var r=Vn.findItem(e,t,ae),o=Vn.findItem(e,n,ae);return r.bind((function(e){return o.map((function(t){return n=e,r=t,{startRow:Math.min(n.row,r.row),startCol:Math.min(n.column,r.column),finishRow:Math.max(n.row+n.rowspan-1,r.row+r.rowspan-1),finishCol:Math.max(n.column+n.colspan-1,r.column+r.colspan-1)};var n,r}))}))}function xn(e,t,n){return wn(e,t,n).map((function(t){return O(Vn.filterItems(e,h(bn,t)),(function(e){return e.element}))}))}function Sn(e,t){return Vn.findItem(e,t,(function(e,t){return ce(t,e)})).map((function(e){return e.element}))}function Cn(e,t,n,r,o){var i=Kn(e),u=ae(e,n)?q.some(t):Sn(i,t),a=ae(e,o)?q.some(r):Sn(i,r);return u.bind((function(e){return a.bind((function(t){return xn(i,e,t)}))}))}function Tn(e,t){rt(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))}function kn(e,t){ut(e).fold((function(){rt(e).each((function(e){Zn(e,t)}))}),(function(e){Tn(e,t)}))}function On(e,t){ct(e,0).fold((function(){Zn(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))}function An(e,t){Tn(e,t),Zn(t,e)}function Rn(e,t){A(t,(function(n,r){kn(0===r?e:t[r-1],n)}))}function Pn(e,t){A(t,(function(t){Zn(e,t)}))}function Dn(e){e.dom.textContent="",A(at(e),(function(e){Xn(e)}))}function _n(e){var t,n=at(e);0<n.length&&(t=e,A(n,(function(e){Tn(t,e)}))),Xn(e)}function En(e){return Gn.get(e)}function Nn(e){return Gn.getOption(e)}function Fn(e,t){return Gn.set(e,t)}function Bn(e,t){return P(B(e.all,(function(e){return e.cells})),t)}var Mn,In,Ln=function(e,t){e.dom.removeAttribute(t)},jn=function(e,t){return jt(e)?e.style.getPropertyValue(t):""},zn=i(10),$n=i(10),Wn=function(e,t,n){return B(at(e),(function(e){return oe(e,t)?n(e)?[e]:[]:Wn(e,t,n)}))},Hn=function(e){return tn(e).fold(i([]),(function(e){return ft(e,"colgroup")}))},qn=function(e,t){return we(e.element,t,e.section,e.isNew)},Un="data-snooker-locked-cols",Vn={fromTable:function(e){return vn(un(e))},generate:vn,getAt:function(e,t,n){return q.from(e.access[t+","+n])},findItem:function(e,t,n){var r=Bn(e,(function(e){return n(t,e.element)}));return 0<r.length?q.some(r[0]):q.none()},filterItems:Bn,justCells:function(e){return B(e.all,(function(e){return e.cells}))},justColumns:function(e){return me(e.columns)},hasColumns:function(e){return 0<Ue(e.columns).length},getColumnAt:function(e,t){return q.from(e.columns[t])}},Kn=Vn.fromTable,Zn=function(e,t){e.dom.appendChild(t.dom)},Xn=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Gn=(Mn=gt,{get:function(e){if(!Mn(e))throw new Error("Can only get text value of a text node");return In(e).getOr("")},getOption:In=function(e){return Mn(e)?q.from(e.dom.nodeValue):q.none()},set:function(e,t){if(!Mn(e))throw new Error("Can only set raw text value of a text node");e.dom.nodeValue=t}}),Yn=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Qn(){return{up:i({selector:kt,closest:Rt,predicate:Tt,all:ot}),down:i({selector:dt,predicate:St}),styles:i({get:Ht,getRaw:qt,set:$t,remove:Ut}),attrs:i({get:Et,set:Dt,remove:Ln,copyTo:function(e,t){_t(t,Ft(e))}}),insert:i({before:Tn,after:kn,afterAll:Rn,append:Zn,appendAll:Pn,prepend:On,wrap:An}),remove:i({unwrap:_n,remove:Xn}),create:i({nu:He.fromTag,clone:function(e){return He.fromDom(e.dom.cloneNode(!1))},text:He.fromText}),query:i({comparePosition:function(e,t){return e.dom.compareDocumentPosition(t.dom)},prevSibling:it,nextSibling:ut}),property:i({children:at,name:Ge,parent:rt,document:function(e){return nt(e).dom},isText:gt,isComment:Je,isElement:mt,isSpecial:function(e){return C(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Ge(e))},getLanguage:function(e){return mt(e)?Nt(e,"lang"):q.none()},getText:En,setText:Fn,isBoundary:function(e){return!!mt(e)&&("body"===Ge(e)||C(Yn,Ge(e)))},isEmptyTag:function(e){return!!mt(e)&&C(["br","img","hr","input"],Ge(e))},isNonEditable:function(e){return mt(e)&&"false"===Et(e,"contenteditable")}}),eq:ae,is:qe}}function Jn(e,t){return jr($r,(function(t,n){return e(n)}),t)}function er(e){return kt(e,"table")}function tr(e,t,n){function r(e){return function(t){return void 0!==n&&n(t)||ae(t,e)}}return ae(e,t)?q.some({boxes:q.some([e]),start:e,finish:t}):er(e).bind((function(o){return er(t).bind((function(i){if(ae(o,i))return q.some({boxes:(l=e,s=t,xn(Kn(o),l,s)),start:e,finish:t});if(ce(o,i)){var u=0<(a=st(t,"td,th",r(o))).length?a[a.length-1]:t;return q.some({boxes:Cn(o,e,o,t,i),start:e,finish:u})}if(ce(i,o)){var a,c=0<(a=st(e,"td,th",r(i))).length?a[a.length-1]:e;return q.some({boxes:Cn(i,e,o,t,i),start:e,finish:c})}return zr($r,e,t,void 0).shared.bind((function(u){return Rt(u,"table",n).bind((function(n){var u=st(t,"td,th",r(n)),a=0<u.length?u[u.length-1]:t,c=st(e,"td,th",r(n)),l=0<c.length?c[c.length-1]:e;return q.some({boxes:Cn(n,e,o,t,i),start:l,finish:a})}))}));var l,s}))}))}function nr(e,t){var n=dt(e,t);return 0<n.length?q.some(n):q.none()}function rr(e,t,n){return At(e,t).bind((function(t){return At(e,n).bind((function(e){return Jn(er,[t,e]).map((function(n){return{first:t,last:e,table:n}}))}))}))}function or(e,t,n,r,o){return i=o,E(e,(function(e){return oe(e,i)})).bind((function(e){return i=t,u=n,tn(o=e).bind((function(e){var t=Kn(e),n=i,r=u;return Vn.findItem(t,o,ae).bind((function(e){var o=0<n?e.row+e.rowspan-1:e.row,i=0<r?e.column+e.colspan-1:e.column;return Vn.getAt(t,o+n,i+r).map((function(e){return e.element}))}))})).bind((function(e){return n=r,kt(t=e,"table").bind((function(e){return At(e,n).bind((function(e){return tr(e,t).bind((function(e){return e.boxes.map((function(t){return{boxes:t,start:e.start,finish:e.finish}}))}))}))}));var t,n}));var o,i,u}));var i}function ir(e,t,n,r){return e.fold(t,n,r)}function ur(e,t){return He.fromDom(e.dom.cloneNode(t))}function ar(e){return ur(e,!1)}function cr(e){return ur(e,!0)}function lr(e,t){var n=He.fromTag(t);return _t(n,Ft(e)),n}function sr(e,t){function n(n){var r=t(n);if(r<=0||null===r){var o=Ht(n,e);return parseFloat(o)||0}return r}function r(e,t){return _(t,(function(t,n){var r=Ht(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)}return{set:function(t,n){if(!p(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom;jt(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){var o=r(e,n);return o<t?t-o:0}}}function fr(){var e=We().browser;return e.isIE()||e.isEdge()}function dr(e,t,n){return r=Ht(e,t),o=n,i=parseFloat(r),(isNaN(i)?q.none():q.some(i)).getOr(o);var r,o,i}function mr(e){return Ht(e,"box-sizing")}function gr(e,t,n,r){return t-dr(e,"padding-"+n,0)-dr(e,"padding-"+r,0)-dr(e,"border-"+n+"-width",0)-dr(e,"border-"+r+"-width",0)}function pr(e,t){var n=e.dom,r=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?r:gr(e,r,"left","right")}function hr(e){return Zr.get(e)}function vr(e){return Zr.getOuter(e)}function br(e,t){void 0===t&&(t=w);var n=e.grid,r=k(n.columns,u),o=k(n.rows,u);return O(r,(function(n){return Yr((function(){return B(o,(function(t){return Vn.getAt(e,t,n).filter((function(e){return e.column===n})).toArray()}))}),(function(e){return 1===e.colspan&&t(e.element)}),(function(){return Vn.getAt(e,0,n)}))}))}function yr(e){var t=e.grid,n=k(t.rows,u),r=k(t.columns,u);return O(n,(function(t){return Yr((function(){return B(r,(function(n){return Vn.getAt(e,t,n).filter((function(e){return e.row===t})).fold(i([]),(function(e){return[e]}))}))}),(function(e){return 1===e.rowspan}),(function(){return Vn.getAt(e,t,0)}))}))}function wr(e,t){return function(n){return"rtl"===Qr(n)?t:e}}function xr(e){return Jr.get(e)}function Sr(e){return Jr.getOuter(e)}function Cr(e,t){return void 0!==e?e:void 0!==t?t:0}function Tr(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return to(n.offsetLeft,n.offsetTop);var i=Cr(null==r?void 0:r.pageYOffset,o.scrollTop),u=Cr(null==r?void 0:r.pageXOffset,o.scrollLeft),a=Cr(o.clientTop,n.clientTop),c=Cr(o.clientLeft,n.clientLeft);return no(e).translate(u-c,i-a)}function kr(e,t){return{row:e,y:t}}function Or(e,t){return{col:e,x:t}}function Ar(e){return Tr(e).left+vr(e)}function Rr(e){return Tr(e).left}function Pr(e,t){return Or(e,Rr(t))}function Dr(e,t){return Or(e,Ar(t))}function _r(e){return Tr(e).top}function Er(e,t){return kr(e,_r(t))}function Nr(e,t){return kr(e,_r(t)+Sr(t))}function Fr(e,t,n){if(0===n.length)return[];var r=O(n.slice(1),(function(t,n){return t.map((function(t){return e(n,t)}))})),o=n[n.length-1].map((function(e){return t(n.length-1,e)}));return r.concat([o])}function Br(e){if(!s(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return A(e,(function(r,o){var i=Ue(r);if(1!==i.length)throw new Error("one and only one name per case");var u=i[0],a=r[u];if(void 0!==n[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!s(a))throw new Error("case arguments must be an array");t.push(u),n[u]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==a.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+a.length+" ("+a+"), got "+i);return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:function(e){var r=Ue(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!M(t,(function(e){return C(r,e)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[u].apply(null,n)},log:function(e){console.log(e,{constructors:t,constructor:u,params:n})}}}})),n}var Mr,Ir,Lr,jr=function(e,t,n){return 0<n.length?(r=e,o=t,i=n[0],D(n.slice(1),(function(e,t){var n=o(r,t);return function(e,t,n){return t.bind((function(t){return n.filter(h(e.eq,t))}))}(r,e,n)}),o(r,i))):q.none();var r,o,i},zr=function(e,t,n,r){function o(e){return N(e,r).fold((function(){return e}),(function(t){return e.slice(0,t+1)}))}void 0===r&&(r=y);var i=[t].concat(e.up().all(t)),u=[n].concat(e.up().all(n)),a=o(i),c=o(u),l=E(a,(function(t){return T(c,h(e.eq,t))}));return{firstpath:a,secondpath:c,shared:l}},$r=Qn(),Wr=nr,Hr=Br([{none:[]},{multiple:["elements"]},{single:["element"]}]),qr=Hr.none,Ur=Hr.multiple,Vr=Hr.single,Kr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Zr=sr("width",(function(e){return e.dom.offsetWidth})),Xr=function(e){return pr(e,"content-box")},Gr=function(e){return fr()?pr(e,mr(e)):dr(e,"width",e.dom.offsetWidth)},Yr=function(e,t,n){var r=e();return E(r,t).orThunk((function(){return q.from(r[0]).orThunk(n)})).map((function(e){return e.element}))},Qr=function(e){return"rtl"===Ht(e,"direction")?"rtl":"ltr"},Jr=sr("height",(function(e){var t=e.dom;return wt(e)?t.getBoundingClientRect().height:t.offsetHeight})),eo=function(e,t){return{left:e,top:t,translate:function(n,r){return eo(e+n,t+r)}}},to=eo,no=function(e){var t,n=e.dom,r=n.ownerDocument.body;return r===n?to(r.offsetLeft,r.offsetTop):wt(e)?(t=n.getBoundingClientRect(),to(t.left,t.top)):to(0,0)},ro={delta:u,positions:function(e){return Fr(Er,Nr,e)},edge:_r},oo=wr({delta:u,edge:Rr,positions:function(e){return Fr(Pr,Dr,e)}},{delta:function(e){return-e},edge:Ar,positions:function(e){return Fr(Dr,Pr,e)}}),io={delta:function(e,t){return oo(t).delta(e,t)},positions:function(e,t){return oo(t).positions(e,t)},edge:function(e){return oo(e).edge(e)}},uo={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},ao=(Lr=["Infinity",(Mr="[0-9]+")+"\\."+co(Mr)+co(Ir="[eE][+-]?[0-9]+"),"\\."+Mr+co(Ir),Mr+co(Ir)].join("|"),new RegExp("^([+-]?(?:"+Lr+"))(.*)$"));function co(e){return"(?:"+e+")?"}function lo(e,t,n){var r=q.from(e.dom.parentElement).map(He.fromDom).getOrThunk((function(){return xt(tt(e))}));return t(e)/n(r)*100}function so(e,t){$t(e,"width",t+"px")}function fo(e,t){$t(e,"width",t+"%")}function mo(e,t){$t(e,"height",t+"px")}function go(e){var t,n,r,o,i,u,a,c,l,s,f=function(e){return fr()?(n=mr(t=e),o=(r=t.dom).getBoundingClientRect().height||r.offsetHeight,"border-box"===n?o:gr(t,o,"top","bottom")):dr(e,"height",e.dom.offsetHeight);var t,n,r,o}(e)+"px";return f?(t=f,n=e,r=xr,o=mo,s=parseFloat(t),ee(t,"%")&&"table"!==Ge(n)?(u=s,a=r,c=o,l=tn(i=n).map((function(e){var t=a(e);return Math.floor(u/100*t)})).getOr(u),c(i,l),l):s):xr(e)}function po(e,t){return qt(e,t).orThunk((function(){return Nt(e,t).map((function(e){return e+"px"}))}))}function ho(e){return po(e,"width")}function vo(e){return lo(e,hr,Xr)}function bo(e){return(Ac(e)?hr:Gr)(e)}function yo(e){return go(t=e)/Kt(t,"rowspan");var t}function wo(e,t,n){$t(e,"width",t+n)}function xo(e){return lo(e,hr,Xr)+"%"}function So(e){return ho(e).getOrThunk((function(){return bo(e)+"px"}))}function Co(e){return po(e,"height").getOrThunk((function(){return yo(e)+"px"}))}function To(e,t,n,r,o,i){return e.filter(r).fold((function(){return i(function(e,t){if(t<0||t>=e.length-1)return q.none();var n=e[t].fold((function(){var n,r;return W((n=e.slice(0,t),(r=U.call(n,0)).reverse(),r),(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return q.some({value:e,delta:0})})),r=e[t+1].fold((function(){return W(e.slice(t+1),(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return q.some({value:e,delta:1})}));return n.bind((function(e){return r.map((function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))}))}(n,t))}),(function(e){return o(e)}))}function ko(e,t,n,r){var o=br(e),i=Vn.hasColumns(e)?O(Vn.justColumns(e),(function(e){return q.from(e.element)})):o,u=[q.some(io.edge(t))].concat(O(io.positions(o,t),(function(e){return e.map((function(e){return e.x}))}))),a=v(Zt);return O(i,(function(e,t){return To(e,t,u,a,(function(e){return c=e,s=(l=We().browser).isChrome()||l.isFirefox(),!Pc(c)||s?n(e):To(null!=(i=o[t])?i:q.none(),t,u,a,(function(e){return r(q.some(hr(e)))}),r);var i,c,l,s}),r)}))}function Oo(e){return e.map((function(e){return e+"px"})).getOr("")}function Ao(e,t,n){return ko(e,t,bo,(function(e){return e.getOrThunk(n.minCellWidth)}))}function Ro(e,t,n,r,o){var i=yr(e),u=[q.some(n.edge(t))].concat(O(n.positions(i,t),(function(e){return e.map((function(e){return e.y}))})));return O(i,(function(e,t){return To(e,t,u,v(Xt),r,o)}))}function Po(e,t){return function(){return wt(e)?t(e):parseFloat(qt(e,"width").getOr("0"))}}function Do(e){var t=Po(e,(function(e){return parseFloat(xo(e))})),n=Po(e,hr);return{width:t,pixelWidth:n,getWidths:function(t,n){return r=n,ko(t,e,vo,(function(e){return e.fold((function(){return r.minCellWidth()}),(function(e){return e/r.pixelWidth()*100}))}));var r},getCellDelta:function(e){return e/n()*100},singleColumnWidth:function(e,t){return[100-e]},minCellWidth:function(){return zn()/n()*100},setElementWidth:fo,adjustTableWidth:function(n){var r=t();fo(e,r+n/100*r)},isRelative:!0,label:"percent"}}function _o(e){var t=Po(e,hr);return{width:t,pixelWidth:t,getWidths:function(t,n){return Ao(t,e,n)},getCellDelta:u,singleColumnWidth:function(e,t){return[Math.max(zn(),e+t)-e]},minCellWidth:zn,setElementWidth:so,adjustTableWidth:function(n){var r=t()+n;so(e,r)},isRelative:!1,label:"pixel"}}function Eo(e){return"img"===Ge(e)?1:Nn(e).fold((function(){return at(e).length}),(function(e){return e.length}))}function No(e){return Nn(e).filter((function(e){return 0!==e.trim().length||-1<e.indexOf("")})).isSome()||C(Nc,Ge(e))}function Fo(e){return t=No,(n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=He.fromDom(e.childNodes[r]);if(t(o))return q.some(o);var i=n(e.childNodes[r]);if(i.isSome())return i}return q.none()})(e.dom);var t,n}function Bo(e){return Fc(e,No)}function Mo(e){return function(){var t=He.fromTag("td",e.dom);return Zn(t,He.fromTag("br",e.dom)),t}}function Io(e){return function(){return He.fromTag("col",e.dom)}}function Lo(e){return function(){return He.fromTag("colgroup",e.dom)}}function jo(e){return function(){return He.fromTag("tr",e.dom)}}function zo(e,t,n){var r,o,i=(Pn(o=lr(r=e,t),at(cr(r))),o);return le(n,(function(e,t){null===e?Ln(i,t):Dt(i,t,e)})),i}function $o(e){return e}function Wo(e,t,n){function r(e,t){var n=e.element.dom,r=t.dom;jt(n)&&jt(r)&&(r.style.cssText=n.style.cssText),Ut(t,"height"),1!==e.colspan&&Ut(t,"width")}return{col:function(n){var o=He.fromTag(Ge(n.element),t.dom);return r(n,o),e(n.element,o),o},colgroup:Lo(t),row:jo(t),cell:function(o){var i,u,a,c,l,s=He.fromTag(Ge(o.element),t.dom),f=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),d=0<f.length?(i=o.element,u=s,a=f,Fo(i).map((function(e){return D(st(e,a.join(","),(function(e){return ae(e,i)})),(function(e,t){var n=ar(t);return Ln(n,"contenteditable"),Zn(e,n),n}),u)})).getOr(u)):s;return Zn(d,He.fromTag("br")),r(o,s),c=o.element,l=s,le(Bc,(function(e,t){return Nt(c,t).filter((function(t){return C(e,t)})).each((function(e){return Dt(l,t,e)}))})),e(o.element,s),s},replace:zo,colGap:Io(t),gap:Mo(t)}}function Ho(e){return{col:Io(e),colgroup:Lo(e),row:jo(e),cell:Mo(e),replace:$o,colGap:Io(e),gap:Mo(e)}}function qo(e){return O(e,He.fromDom)}function Uo(e){return He.fromDom(e.getBody())}function Vo(e){return e.getBoundingClientRect().width}function Ko(e){return e.getBoundingClientRect().height}function Zo(e){return function(t){return ae(t,Uo(e))}}function Xo(e){return/^\d+(\.\d+)?$/.test(e)?e+"px":e}function Go(e){function t(e){return Ln(e,"data-mce-style")}Ln(e,"data-mce-style"),A(Jt(e),t),A(en(e),t),A(nn(e),t)}function Yo(e){return He.fromDom(e.selection.getStart())}function Qo(e){return ir(e.get(),i([]),u,L)}function Jo(e,t,n){return{element:n,mergable:(i=t,u=Mc,ir(e.get(),q.none,(function(e){return e.length<=1?q.none():function(e,t,n){return rr(e,t,n).bind((function(t){function n(t){return ae(e,t)}var r="thead,tfoot,tbody,table",o=kt(t.first,r,n),i=kt(t.last,r,n);return o.bind((function(e){return i.bind((function(n){return ae(e,n)?(o=t.table,i=t.first,u=t.last,a=Kn(o),wn(r=a,i,u).bind((function(e){return function(e,t){for(var n=!0,r=h(yn,t),o=t.startRow;o<=t.finishRow;o++)for(var i=t.startCol;i<=t.finishCol;i++)n=n&&Vn.getAt(e,o,i).exists(r);return n?q.some(t):q.none()}(r,e)}))):q.none();var r,o,i,u,a}))}))}))}(i,u.firstSelectedSelector,u.lastSelectedSelector).map((function(t){return{bounds:t,cells:e}}))}),q.none)),unmergable:0<(o=Qo(e)).length&&M(o,(function(e){return r(e,"rowspan")||r(e,"colspan")}))?q.some(o):q.none(),selection:Qo(e)};function r(e,t){return Nt(e,t).exists((function(e){return 1<parseInt(e,10)}))}var o,i,u}function ei(e){return function(t,n){var r,o=Ge(t);return Rt("col"===o||"colgroup"===o?tn(r=t).bind((function(e){return Wr(e,Mc.firstSelectedSelector)})).fold(i(r),(function(e){return e[0]})):t,e,n)}}function ti(e,t,n){e.on("BeforeGetContent",(function(n){!0===n.selection&&ir(t.get(),o,(function(t){n.preventDefault(),tn(t[0]).map((function(e){var t=function(e,t){function n(e){return oe(e.element,t)}var r,o,i,u,a,c,l,s,f,d,m,g,p=cr(e),h=un(p),v=Dc(e),b=Vn.generate(h),y=(r=n,o=b.grid.columns,i=b.grid.rows,u=o,c=a=0,l=[],s=[],le(b.access,(function(e){var t,n,o,f;l.push(e),r(e)&&(s.push(e),n=(t=e.row)+e.rowspan-1,f=(o=e.column)+e.colspan-1,t<i?i=t:a<n&&(a=n),o<u?u=o:c<f&&(c=f))})),{minRow:i,minCol:u,maxRow:a,maxCol:c,allCells:l,selectedCells:s}),w="th:not("+t+"),td:not("+t+")";return A(Wn(p,"th,td",(function(e){return oe(e,w)})),Xn),function(e,t,n,r){for(var o,i,u,a=t.grid.columns,c=t.grid.rows,l=0;l<c;l++)for(var s=!1,f=0;f<a;f++)l<n.minRow||l>n.maxRow||f<n.minCol||f>n.maxCol||(Vn.getAt(t,l,f).filter(r).isNone()?(o=s,i=e[l].element,u=He.fromTag("td"),Zn(u,He.fromTag("br")),(o?Zn:On)(i,u)):s=!0)}(h,b,y,n),f=p,d=y,m=b,g=function(e,t,n,r){if(0===r.minCol&&t.grid.columns===r.maxCol+1)return 0;var o=Ao(t,e,n),i=_(o,(function(e,t){return e+t}),0),u=_(o.slice(r.minCol,r.maxCol+1),(function(e,t){return e+t}),0)/i*n.pixelWidth()-n.pixelWidth();return n.getCellDelta(u)}(e,Vn.fromTable(e),v,y),le(m.columns,(function(e){(e.column<d.minCol||e.column>d.maxCol)&&Xn(e.element)})),A(P(Yt(f,"tr"),(function(e){return 0===e.dom.childElementCount})),Xn),d.minCol!==d.maxCol&&d.minRow!==d.maxRow||A(Yt(f,"th,td"),(function(e){Ln(e,"rowspan"),Ln(e,"colspan")})),Ln(f,Un),Ln(f,"data-snooker-col-series"),Dc(f).adjustTableWidth(g),p}(e,"[data-mce-selected]");return Go(t),[t]})).each((function(t){var r;n.content="text"===n.format?O(t,(function(e){return e.dom.innerText})).join(""):(r=e,O(t,(function(e){return r.selection.serializer.serialize(e.dom,{})})).join(""))}))}),o)})),e.on("BeforeSetContent",(function(r){!0===r.selection&&!0===r.paste&&z(jc(t)).each((function(t){tn(t).each((function(o){var i,u,a,c,l=P((i=r.content,(u=document.createElement("div")).innerHTML=i,at(He.fromDom(u))),(function(e){return"meta"!==Ge(e)})),s=et("table");1===l.length&&s(l[0])&&(r.preventDefault(),a=Ho(He.fromDom(e.getDoc())),c={element:t,clipboard:l[0],generators:a},n.pasteCells(o,c).each((function(){e.focus()})))}))}))}))}function ni(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r}function ri(e,t,n){var r,o,i,u;A((r=e,o=t,Vn.hasColumns(r)?(u=o,O(Vn.justColumns(r),(function(e,t){return{element:e.element,width:u[t],colspan:e.colspan}}))):(i=o,O(Vn.justCells(r),(function(e){var t=ni(e.column,e.column+e.colspan,i);return{element:e.element,width:t,colspan:e.colspan}})))),(function(e){n.setElementWidth(e.element,e.width)}))}function oi(e,t,n,r,o){var u,a,c,l,s,f,d,m,g,p,h=Vn.fromTable(e),v=o.getCellDelta(t),b=o.getWidths(h,o),y=n===h.grid.columns-1,w=r.clampTableDelta(b,n,v,o.minCellWidth(),y),x=(a=n,c=w,l=o,s=r,m=(u=b).slice(0),d=a,g=0===(f=u).length?$c.none():1===f.length?$c.only(0):0===d?$c.left(0,1):d===f.length-1?$c.right(d-1,d):0<d&&d<f.length-1?$c.middle(d-1,d,d+1):$c.none(),p=i(O(m,i(0))),g.fold(p,(function(e){return l.singleColumnWidth(m[e],c)}),(function(e,t){return s.calcLeftEdgeDeltas(m,e,t,c,l.minCellWidth(),l.isRelative)}),(function(e,t,n){return s.calcMiddleDeltas(m,e,t,n,c,l.minCellWidth(),l.isRelative)}),(function(e,t){return s.calcRightEdgeDeltas(m,e,t,c,l.minCellWidth(),l.isRelative)})));ri(h,O(x,(function(e,t){return e+b[t]})),o),r.resizeTable(o.adjustTableWidth,w,y)}function ii(e){return O(e,i(0))}function ui(e,t,n,r,o){return o(e.slice(0,t)).concat(r).concat(o(e.slice(n)))}function ai(e){return function(t,n,r,o){if(e(r)){var i=Math.max(o,t[n]-Math.abs(r)),u=Math.abs(i-t[n]);return 0<=r?u:-u}return r}}function ci(){function e(e,t,n,r){var o=(100+n)/100,i=Math.max(r,(e[t]+n)/o);return O(e,(function(e,n){return(n===t?i:e/o)-e}))}function t(t,n,r,o,i,u){return u?e(t,n,o,i):(l=r,s=Wc(a=t,c=n,o,i),ui(a,c,l+1,[s,0],ii));var a,c,l,s}return{resizeTable:function(e,t){return e(t)},clampTableDelta:Wc,calcLeftEdgeDeltas:t,calcMiddleDeltas:function(e,n,r,o,i,u,a){return t(e,r,o,i,u,a)},calcRightEdgeDeltas:function(t,n,r,o,i,u){if(u)return e(t,r,o,i);var a=Wc(t,r,o,i);return ii(t.slice(0,r)).concat([a])},calcRedestributedWidths:function(e,t,n,r){if(r){var o=(t+n)/t,i=O(e,(function(e){return e/o}));return{delta:100*o-100,newSizes:i}}return{delta:n,newSizes:e}}}}function li(){function e(e,t,n,r,o){var i=Hc(e,0<=r?n:t,r,o);return ui(e,t,n+1,[i,-i],ii)}return{resizeTable:function(e,t,n){n&&e(t)},clampTableDelta:function(e,t,n,r,o){if(o){if(0<=n)return n;var i=_(e,(function(e,t){return e+t-r}),0);return Math.max(-i,n)}return Wc(e,t,n,r)},calcLeftEdgeDeltas:e,calcMiddleDeltas:function(t,n,r,o,i,u){return e(t,r,o,i,u)},calcRightEdgeDeltas:function(e,t,n,r,o,u){return u?ii(e):O(e,i(r/e.length))},calcRedestributedWidths:function(e,t,n,r){return{delta:0,newSizes:e}}}}function si(e,t,n){var r=n.substring(0,n.length-e.length),o=parseFloat(r);return r===o.toString()?t(o):qc.invalid(n)}function fi(e,t,n){var r,o,u,a,c=Uc.from(n),l=M(e,(function(e){return"0px"===e}))?(r=e.length,o=c.fold((function(){return i("")}),(function(e){return i(e/r+"px")}),(function(){return i(100/r+"%")})),k(r,o)):(u=e,a=t,c.fold((function(){return u}),(function(e){return n=(t=e)/a,O(u,(function(e){return Uc.from(e).fold((function(){return e}),(function(e){return e*n+"px"}),(function(e){return e/100*t+"px"}))}));var t,n}),(function(e){return t=a,O(u,(function(e){return Uc.from(e).fold((function(){return e}),(function(e){return e/t*100+"%"}),(function(e){return e+"%"}))}));var t})));return Vc(l)}function di(e,t){return 0===e.length?t:D(e,(function(e,t){return Uc.from(t).fold(i(0),u,u)+e}),0)}function mi(e){return Kc(e).fold(i("px"),i("px"),i("%"))}function gi(e,t,n){var r=Vn.fromTable(e),o=r.all,i=Vn.justCells(r),u=Vn.justColumns(r);t.each((function(t){var n,o,a,c,l=mi(t),s=hr(e),f=fi(ko(r,e,So,Oo),s,t);Vn.hasColumns(r)?(a=f,c=l,A(u,(function(e,t){var n=di([a[t]],zn());$t(e.element,"width",n+c)}))):(n=f,o=l,A(i,(function(e){var t=di(n.slice(e.column,e.colspan+e.column),zn());$t(e.element,"width",t+o)}))),$t(e,"width",t)})),n.each((function(t){var n=mi(t),u=xr(e),a=fi(Ro(r,e,ro,Co,Oo),u,t),c=o,l=n;A(i,(function(e){var t=di(a.slice(e.row,e.rowspan+e.row),$n());$t(e.element,"height",t+l)})),A(c,(function(e,t){$t(e.element,"height",a[t])})),$t(e,"height",t)}))}function pi(e){return Vn.fromTable(e).grid}function hi(e){var t=[];return{bind:function(e){if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},unbind:function(e){t=P(t,(function(t){return t!==e}))},trigger:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o={};A(e,(function(e,t){o[e]=n[t]})),A(t,(function(e){e(o)}))}}}function vi(e){return{registry:se(e,(function(e){return{bind:e.bind,unbind:e.unbind}})),trigger:se(e,(function(e){return e.trigger}))}}function bi(e){return e.slice(0).sort()}function yi(e,t){var n=P(t,(function(t){return!C(e,t)}));0<n.length&&function(){throw new Error("Unsupported keys for object: "+bi(n).join(", "))}()}function wi(e){return function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");var r;return function(e,t){if(!s(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");A(t,(function(t){if(!c(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))}("required",t),E(r=bi(t),(function(e,t){return t<r.length-1&&e===r[t+1]})).each((function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+r.join(", ")+"].")})),function(r){var o=Ue(r);M(t,(function(e){return C(o,e)}))||function(e,t){throw new Error("All required keys ("+bi(e).join(", ")+") were not specified. Specified keys were: "+bi(t).join(", ")+".")}(t,o),e(t,o);var i=P(t,(function(e){return!n.validate(r[e],e)}));return 0<i.length&&function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+bi(e).join(", ")+") were not.")}(i,n.label),r}}(yi,e,{validate:g,label:"function"})}function xi(e){function t(){return e.stopPropagation()}function n(){return e.preventDefault()}var o,i,u=He.fromDom(function(e){if(bt()&&r(e.target)){var t=He.fromDom(e.target);if(mt(t)&&function(e){return r(e.dom.shadowRoot)}(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return z(n)}}return q.from(e.target)}(e).getOr(e.target)),a=(o=n,i=t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(i.apply(null,e))});return{target:u,x:e.clientX,y:e.clientY,stop:t,prevent:n,kill:a,raw:e}}function Si(e,t,n){return o=t,!1,i=Qc,u=n,a=function(e){i(e)&&u(xi(e))},(r=e).dom.addEventListener(o,a,false),{unbind:h(Yc,r,o,a,false)};var r,o,i,u,a}function Ci(e){return void 0!==e.dom.classList}function Ti(e,t){Ci(e)?e.dom.classList.add(t):function(e,t){return r=t,Dt(e,"class",(void 0===(n=Et(e,"class"))||""===n?[]:n.split(" ")).concat([r]).join(" ")),1;var n,r}(e,t)}function ki(e,t){return Ci(e)&&e.dom.classList.contains(t)}function Oi(e){var t=e.replace(/\./g,"-");return{resolve:function(e){return t+"-"+e}}}function Ai(e){return Rt(e,"[contenteditable]")}function Ri(e,t){return void 0===t&&(t=!1),!We().browser.isIE()&&wt(e)?e.dom.isContentEditable:Ai(e).fold(i(t),(function(e){return"true"===nl(e)}))}function Pi(e){A(dt(e.parent(),"."+ol),Xn)}function Di(e,t,n){var r=e.origin();A(t,(function(t){t.each((function(t){var o=n(r,t);Ti(o,ol),Zn(e.parent(),o)}))}))}function _i(e,t){var n;Pi(e),e.isResizable(t)&&function(e,t,n,r,o){var i,u,a,c,l,s=Tr(n),f=t.isResizable,d=0<r.length?ro.positions(r,n):[],m=0<d.length?(i=f,B(e.all,(function(e,t){return i(e.element)?[t]:[]}))):[],g=P(d,(function(e,t){return T(m,(function(e){return t===e}))}));u=t,a=g,c=s,l=vr(n),Di(u,a,(function(e,t){var n,r,o,i,u,a=(n=t.row,r=c.left-e.left,o=t.y-e.top,i=l,Wt(u=He.fromTag("div"),{position:"absolute",left:r+"px",top:o-3.5+"px",height:"7px",width:i+"px"}),_t(u,{"data-row":n,role:"presentation"}),u);return Ti(a,il),a}));var p,h,v,b,y,w,x,S=0<o.length?io.positions(o,n):[],C=0<S.length?(h=f,v=[],k((p=e).grid.columns,(function(e){Vn.getColumnAt(p,e).map((function(e){return e.element})).forall(h)&&v.push(e)})),P(v,(function(e){return M(Vn.filterItems(p,(function(t){return t.column===e})),(function(e){return h(e.element)}))}))):[],O=P(S,(function(e,t){return T(C,(function(e){return t===e}))}));b=t,y=O,w=s,x=Sr(n),Di(b,y,(function(e,t){var n,r,o,i,u,a=(n=t.col,r=t.x-e.left,o=w.top-e.top,i=x,Wt(u=He.fromTag("div"),{position:"absolute",left:r-3.5+"px",top:o+"px",height:i+"px",width:"7px"}),_t(u,{"data-column":n,role:"presentation"}),u);return Ti(a,ul),a}))}(n=Vn.fromTable(t),e,t,yr(n),br(n))}function Ei(e,t){A(dt(e.parent(),"."+ol),t)}function Ni(e){Ei(e,(function(e){$t(e,"display","none")}))}function Fi(e){Ei(e,(function(e){$t(e,"display","block")}))}function Bi(e){function t(e,t){return q.from(Et(e,t))}var n,r,i,u,a,c,l=(u=vi({drag:hi(["xDelta","yDelta","target"])}),a=q.none(),(c={mutate:function(e,t){i.trigger.drag(e,t)},events:(i=vi({drag:hi(["xDelta","yDelta"])})).registry}).events.drag.bind((function(e){a.each((function(t){u.trigger.drag(e.xDelta,e.yDelta,t)}))})),{assign:function(e){a=q.some(e)},get:function(){return a},mutate:c.mutate,events:u.registry}),s=(r=void 0!==(n={}).mode?n.mode:tl,function(e,t,n){function r(){g.stop(),l.isOn()&&(l.off(),c.trigger.stop())}var i,u,a=!1,c=vi({start:hi([]),stop:hi([])}),l=function(){var e,t,n={onEvent:o,reset:o,events:vi({move:hi(["info"])}).registry},r=(e=q.none(),{onEvent:function(n,r){r.extract(n).each((function(n){var o=r,i=n,u=e.map((function(e){return o.compare(e,i)}));e=q.some(i),u.each((function(e){t.trigger.move(e)}))}))},reset:function(){e=q.none()},events:(t=vi({move:hi(["info"])})).registry}),i=n;return{on:function(){i.reset(),i=r},off:function(){i.reset(),i=n},isOn:function(){return i===r},onEvent:function(e,t){i.onEvent(e,t)},events:r.events}}(),s=(i=r,u=null,{cancel:d,throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d(),u=setTimeout((function(){u=null,i.apply(null,e)}),200)}});function d(){f(u)||(clearTimeout(u),u=null)}function m(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];a&&e.apply(null,t)}}l.events.move.bind((function(n){t.mutate(e,n.info)}));var g=t.sink(Gc({forceDrop:r,drop:m(r),move:m((function(e){s.cancel(),l.onEvent(e,t)})),delayDrop:m(s.throttle)}),n);return{element:g.element,go:function(e){g.start(e),l.on(),c.trigger.start()},on:function(){a=!0},off:function(){a=!1},destroy:function(){g.destroy()},events:c.registry}}(l,r,n)),d=q.none();function m(e,t){return Gt(e,t)-Vt(e,"data-initial-"+t,0)}function g(t,n){y.trigger.startAdjust(),l.assign(t),Dt(t,"data-initial-"+n,Gt(t,n)),Ti(t,al),$t(t,"opacity","0.2"),s.go(e.parent())}function p(t){return ae(t,e.view())}l.events.drag.bind((function(e){t(e.target,"data-row").each((function(t){var n=Gt(e.target,"top");$t(e.target,"top",n+e.yDelta+"px")})),t(e.target,"data-column").each((function(t){var n=Gt(e.target,"left");$t(e.target,"left",n+e.xDelta+"px")}))})),s.events.stop.bind((function(){l.get().each((function(n){d.each((function(r){t(n,"data-row").each((function(e){var t=m(n,"top");Ln(n,"data-initial-top"),y.trigger.adjustHeight(r,t,parseInt(e,10))})),t(n,"data-column").each((function(e){var t=m(n,"left");Ln(n,"data-initial-left"),y.trigger.adjustWidth(r,t,parseInt(e,10))})),_i(e,r)}))}))}));var v=Si(e.parent(),"mousedown",(function(e){ki(e.target,il)&&g(e.target,"top"),ki(e.target,ul)&&g(e.target,"left")})),b=Si(e.view(),"mouseover",(function(t){Rt(t.target,"table",p).filter(Ri).fold((function(){wt(t.target)&&Pi(e)}),(function(t){d=q.some(t),_i(e,t)}))})),y=vi({adjustHeight:hi(["table","delta","row"]),adjustWidth:hi(["table","delta","column"]),startAdjust:hi([])});return{destroy:function(){v.unbind(),b.unbind(),s.destroy(),Pi(e)},refresh:function(t){_i(e,t)},on:s.on,off:s.off,hideBars:h(Ni,e),showBars:h(Fi,e),events:y.registry}}function Mi(e,t){return e.fire("newrow",{node:t})}function Ii(e,t){return e.fire("newcell",{node:t})}function Li(e,t,n){e.fire("TableModified",Z(Z({},n),{table:t}))}function ji(e){return e.getParam("table_sizing_mode","auto")}function zi(e){return e.getParam("table_responsive_width")}function $i(e){return e.getParam("table_border_widths",dl,"array")}function Wi(e){return e.getParam("table_border_styles",ml,"array")}function Hi(e){return e.getParam("table_default_attributes",gl,"object")}function qi(e){return e.getParam("table_default_styles",function(e){var t;if(hl(e)){var n=e.dom,r=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody(),o=Xr(He.fromDom(r));return Z(Z({},fl),{width:o+"px"})}return vl(e)?fe(fl,(function(e,t){return"width"!==t})):fl}(e),"object")}function Ui(e){return e.getParam("table_cell_advtab",!0,"boolean")}function Vi(e){return e.getParam("table_row_advtab",!0,"boolean")}function Ki(e){return e.getParam("table_advtab",!0,"boolean")}function Zi(e){return e.getParam("table_style_by_css",!1,"boolean")}function Xi(e){return e.getParam("table_cell_class_list",[],"array")}function Gi(e){return e.getParam("table_class_list",[],"array")}function Yi(e){return"relative"===ji(e)||!0===zi(e)}function Qi(e){var t="section",n=e.getParam("table_header_type",t,"string");return C(["section","cells","sectionCells","auto"],n)?n:t}function Ji(e){var t=e.getParam("table_column_resizing",pl,"string");return E(["preservetable","resizetable"],(function(e){return e===t})).getOr(pl)}function eu(e){return"preservetable"===Ji(e)}function tu(e){return"resizetable"===Ji(e)}function nu(e){var t=e.getParam("table_clone_elements");return c(t)?q.some(t.split(/[ ,]/)):Array.isArray(t)?q.some(t):q.none()}function ru(e){return e.getParam("table_background_color_map",[],"array")}function ou(e){return e.getParam("table_border_color_map",[],"array")}function iu(e,t){return(Yi(e)?Ec:hl(e)?_c:Dc)(t)}function uu(e){Ln(e,"width")}function au(e){return"false"!==Et(e,"data-mce-resize")}function cu(e,t){return{element:e,offset:t}}function lu(e,t){return(e.property().isText(t)?e.property().getText(t):e.property().children(t)).length}function su(e,t){1===Kt(e,"colspan")&&ho(e).bind((function(e){return t=["fixed","relative","empty"],q.from(ao.exec(e)).bind((function(e){var n=Number(e[1]),r=e[2],o=r;return T(t,(function(e){return T(uo[e],(function(e){return o===e}))}))?q.some({value:n,unit:r}):q.none()}));var t})).each((function(n){var r=n.value/2;wo(e,r,n.unit),wo(t,r,n.unit)}))}function fu(e){return M(e,(function(e){return Ol(e.element)}))}function du(e){var t="thead"===e.section,n=Bt(Al(e.cells),"th");return t||n?{type:"header",subType:t&&n?"sectionCells":t?"section":"cells"}:"tfoot"===e.section?{type:"footer"}:{type:"body"}}function mu(e,t,n){return ye(n(e.element,t),!0,e.isLocked)}function gu(e,t){return e.section!==t?we(e.element,e.cells,t,e.isNew):e}function pu(){return{transformRow:gu,transformCell:function(e,t,n){var r,o,i=n(e.element,t);return ye("td"!==Ge(i)?(o=lr(r=i,"td"),Tn(r,o),Pn(o,at(r)),Xn(r),o):i,e.isNew,e.isLocked)}}}function hu(){return{transformRow:gu,transformCell:mu}}function vu(){return{transformRow:function(e,t){return gu(e,"thead"===t?"tbody":t)},transformCell:mu}}function bu(e,t,n,r){n===r?Ln(e,t):Dt(e,t,n)}function yu(e,t,n){$(ft(e,t)).fold((function(){return On(e,n)}),(function(e){return kn(e,n)}))}function wu(e,t){function n(t,n){0<t.length?function(t,n){var i,u,a;Pn((Dn(a=Ot(i=e,u=n).getOrThunk((function(){var e=He.fromTag(u,tt(i).dom);return"thead"===u?yu(i,"caption,colgroup",e):"colgroup"===u?yu(i,"caption",e):Zn(i,e),e}))),a),("colgroup"===n?function(e){return B(e,(function(e){return O(e.cells,(function(e){return bu(e.element,"span",e.colspan,1),e.element}))}))}:function(e){return O(e,(function(e){e.isNew&&r.push(e.element);var t=e.element;return Dn(t),A(e.cells,(function(e){e.isNew&&o.push(e.element),bu(e.element,"colspan",e.colspan,1),bu(e.element,"rowspan",e.rowspan,1),Zn(t,e.element)})),t}))})(t))}(t,n):Ot(e,n).each(Xn)}var r=[],o=[],i=[],u=[],a=[],c=[];return A(t,(function(e){switch(e.section){case"thead":i.push(e);break;case"tbody":u.push(e);break;case"tfoot":a.push(e);break;case"colgroup":c.push(e)}})),n(c,"colgroup"),n(i,"thead"),n(u,"tbody"),n(a,"tfoot"),{newRows:r,newCells:o}}function xu(e,t){if(0===e.length)return 0;var n=e[0];return N(e,(function(e){return!t(n.element,e.element)})).getOr(e.length)}function Su(e,t,n){var r=[];A(e.colgroups,(function(o){for(var i=[],u=0;u<e.grid.columns;u++){var a=Vn.getColumnAt(e,u).map((function(e){return ye(e.element,n,!1)})).getOrThunk((function(){return ye(t.colGap(),!0,!1)}));i.push(a)}r.push(we(o.element,i,"colgroup",n))}));for(var o=0;o<e.grid.rows;o++){for(var i=[],u=0;u<e.grid.columns;u++){var a=Vn.getAt(e,o,u).map((function(e){return ye(e.element,n,e.isLocked)})).getOrThunk((function(){return ye(t.gap(),!0,!1)}));i.push(a)}var c=e.all[o],l=we(c.element,i,c.section,n);r.push(l)}return r}function Cu(e){return function(e,t){var n=O(e,(function(e){return O(e.cells,y)}));return O(e,(function(r,o){var i=B(r.cells,(function(r,i){if(!1!==n[o][i])return[];var u,a,c,l,s,f,d,m,g=(c=i,l=t,m="colgroup"===(d=(u=e)[a=o]).section,{colspan:xu(d.cells.slice(c),l),rowspan:m?1:xu((s=u.slice(a),f=c,O(s,(function(e){return sn(e,f)}))),l)});return function(e,t,r,o){for(var i=e;i<e+r;i++)for(var u=t;u<t+o;u++)n[i][u]=!0}(o,i,g.rowspan,g.colspan),[{element:r.element,rowspan:g.rowspan,colspan:g.colspan,isNew:r.isNew}]}));return{element:r.element,cells:i,section:r.section,isNew:r.isNew}}))}(e,ae)}function Tu(e,t){return W(e.all,(function(e){return E(e.cells,(function(e){return ae(t,e.element)}))}))}function ku(e,t,n){var r=Mt(O(t.selection,(function(t){return Qt(t).bind((function(t){return Tu(e,t)})).filter(n)})));return Lt(0<r.length,r)}function Ou(e,t,n,r,o){return function(i,u,a,c,l){var s=Vn.fromTable(u),f=q.from(null==l?void 0:l.section).getOrThunk(xc);return t(s,a).map((function(t){var n=Su(s,c,!1),r=e(n,t,ae,o(c),f),i=hn(r.grid);return{info:t,grid:Cu(r.grid),cursor:r.cursor,lockedColumns:i}})).bind((function(e){var t=wu(u,e.grid),o=q.from(null==l?void 0:l.sizing).getOrThunk((function(){return Dc(u)})),a=q.from(null==l?void 0:l.resize).getOrThunk(li);return n(u,e.grid,e.info,{sizing:o,resize:a,section:f}),r(u),_i(i,u),Ln(u,Un),0<e.lockedColumns.length&&Dt(u,Un,e.lockedColumns.join(",")),q.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))}}function Au(e,t){return ku(e,t,w).map((function(e){return{cells:e,generators:t.generators,clipboard:t.clipboard}}))}function Ru(e,t){return ku(e,t,w)}function Pu(e,t){return ku(e,t,(function(e){return!e.isLocked}))}function Du(e,t){return M(t,(function(t){return Tu(e,t).exists((function(e){return!e.isLocked}))}))}function _u(e,t){return t.mergable.filter((function(t){return Du(e,t.cells)}))}function Eu(e,t){return t.unmergable.filter((function(t){return Du(e,t)}))}function Nu(e,t,n,r){for(var o=mn(e).rows,i=!0,u=0;u<o.length;u++)for(var a=0;a<dn(o[0]);a++){var c=o[u],l=sn(c,a),s=n(l.element,t);!0===s&&!1===i?ln(c,a,ye(r(),!0,l.isLocked)):!0===s&&(i=!1)}return e}function Fu(e,t){return{rowDelta:0,colDelta:dn(e[0])-dn(t[0])}}function Bu(e,t){return{rowDelta:e.length-t.length,colDelta:0}}function Mu(e,t,n,r){var o="colgroup"===t.section?n.col:n.cell;return k(e,(function(e){return ye(o(),!0,r(e))}))}function Iu(e,t,n,r){var o=e[e.length-1];return e.concat(k(t,(function(){var e="colgroup"===o.section?n.colgroup:n.row,t=gn(o,e,u),i=Mu(t.cells.length,t,n,(function(e){return Ze(r,e.toString())}));return qn(t,i)})))}function Lu(e,t,n,r){return O(e,(function(e){var o=Mu(t,e,n,y);return an(e,r,o)}))}function ju(e,t,n){var r=t.colDelta<0?Lu:u,o=t.rowDelta<0?Iu:u,i=hn(e),a=dn(e[0]),c=T(i,(function(e){return e===a-1})),l=r(e,Math.abs(t.colDelta),n,c?a-1:a),s=hn(l);return o(l,Math.abs(t.rowDelta),n,I(s,w))}function zu(e,t,n){return P(n,(function(n){return n>=e.column&&n<=dn(t[0])+e.column}))}function $u(e,t,n,r,o){var i=e,u=o,a=r.cell;0<i&&i<t[0].cells.length&&A(t,(function(e){var t=e.cells[i-1],n=e.cells[i];u(n.element,t.element)&&ln(e,i,ye(a(),!0,n.isLocked))}));var c=ju(n,Bu(n,t),r);return O(ju(t,Bu(t,c),r),(function(t,n){return an(t,e,c[n].cells)}))}function Wu(e,t,n,r,o){!function(e,t,n,r){var o,i,u=mn(e).rows;0<t&&t<u.length&&(o=u[t-1].cells,i=n,A(_(o,(function(e,t){return T(e,(function(e){return i(e.element,t.element)}))?e:e.concat([t])}),[]),(function(e){for(var o=q.none(),i=t;i<u.length;i++)for(var a=0;a<dn(u[0]);a++)!function(t){var a=u[i],c=sn(a,t);n(c.element,e.element)&&(o=o.isNone()?q.some(r()):o).each((function(e){ln(a,t,ye(e,!0,c.isLocked))}))}(a)})))}(t,e,o,r.cell);var i,u,a=hn(t),c=Fu(t,n),l=ju(t,Z(Z({},c),{colDelta:c.colDelta-a.length}),r),s=mn(l),f=s.cols,d=s.rows,m=hn(l),g=Fu(n,t),p=Z(Z({},g),{colDelta:g.colDelta+m.length}),h=ju((i=r,u=m,O(n,(function(e){return _(u,(function(t,n){return cn(t,n,Mu(1,e,i,w)[0])}),e)}))),p,r);return f.concat(d.slice(0,e)).concat(h).concat(d.slice(e,d.length))}function Hu(e,t,n,r,o){var i,u,a,c,l=mn(e),s=l.rows,f=l.cols,d=s.slice(0,t),m=s.slice(t),g=(i=s[n],u=function(e,n){return 0<t&&t<s.length&&r(fn(s[t-1],n),fn(s[t],n))?sn(s[t],n):ye(o(e.element,r),!0,e.isLocked)},a=r,c=o,gn(i,(function(e){return c(e,a)}),u));return f.concat(d).concat([g]).concat(m)}function qu(e,t,n,r,o){return O(e,(function(e){var i,u,a=0<t&&t<dn(e)&&r(fn(e,t-1),fn(e,t)),c=(i=e.section,u=o,"colgroup"!==i&&a?sn(e,t):ye(u(sn(e,n).element,r),!0,!1));return cn(e,t,c)}))}function Uu(e,t,n,r){return void 0!==fn((i=e)[u=t],n)&&0<u&&r(fn(i[u-1],n),fn(i[u],n))||(o=e[t],0<n&&r(fn(o,n-1),fn(o,n)));var o,i,u}function Vu(e,t,n,r){function o(e){return("row"===e?Xt:Zt)(t)?e+"group":e}return e?Ol(t)?o(n):null:r&&Ol(t)?o("row"===n?"col":"row"):null}function Ku(e,t,n){return ye(n(e.element,t),!0,e.isLocked)}function Zu(e,t,n,r,o,i,u){return O(e,(function(e,a){return l=function(e,c){if(s=e,T(t,(function(e){return n(s.element,e.element)}))){var l=u(e,a,c)?o(e,n,r):e;return i(l,a,c).each((function(e){var t=l.element;le({scope:q.from(e)},(function(e,n){e.fold((function(){Ln(t,n)}),(function(e){Pt(t.dom,n,e)}))}))})),l}return e;var s},s=O((c=e).cells,l),we(c.element,s,c.section,c.isNew);var c,l,s}))}function Xu(e,t,n){return B(e,(function(r,o){return Uu(e,o,t,n)?[]:[sn(r,t)]}))}function Gu(e,t,n,r,o){var i,a,c,l,s=mn(e).rows,f=B(t,(function(e){return Xu(s,e,r)})),d=O(e,(function(e){return fu(e.cells)})),m=(i=f,M(a=d,u)&&fu(i)?w:function(e,t,n){return!("th"===Ge(e.element)&&a[t])}),g=(c=n,l=d,function(e,t){return q.some(Vu(c,e.element,"row",l[t]))});return Zu(e,f,r,o,Ku,g,m)}function Yu(e,t,n,r){var o=mn(e).rows;return Zu(e,O(t,(function(e){return sn(o[e.row],e.column)})),n,r,Ku,q.none,w)}function Qu(e){return _(e,(function(e,t){return T(e,(function(e){return e.column===t.column}))?e:e.concat([t])}),[]).sort((function(e,t){return e.column-t.column}))}function Ju(e){return"tr"===Ge(e)||Bl(e)}function ea(e){return{element:e,colspan:Vt(e,"colspan",1),rowspan:Vt(e,"rowspan",1)}}function ta(e){return Nt(e,"scope").map((function(e){return e.substr(0,3)}))}function na(e){return t=e,n=Il.property().name(t),C(Ml,n);var t,n}function ra(e){return t=e,C(["ol","ul"],Il.property().name(t));var t}function oa(e){function t(e){return"br"===Ge(e)}var n,r=0===(n=B(e,(function(e){var n=at(e);return M(n,(function(e){return t(e)||gt(e)&&0===En(e).trim().length}))?[]:n.concat(function(e){return Bo(e).bind((function(n){var r=ut(n).map((function(e){return!!na(e)||(t=e,!!C(["br","img","hr","input"],Il.property().name(t))&&"img"!==Ge(e));var t})).getOr(!1);return rt(n).map((function(o){return!0===r||"li"===Ge(i=o)||Tt(i,ra).isSome()||t(n)||na(o)&&!ae(e,o)?[]:[He.fromTag("br")];var i}))})).getOr([])}(e))}))).length?[He.fromTag("br")]:n;Dn(e[0]),Pn(e[0],r)}function ia(e){return Ri(e,!0)}function ua(e){0===Jt(e).length&&Xn(e)}function aa(e,t){return{grid:e,cursor:t}}function ca(e,t,n){var r,o,i,u,a,c=(r=t,o=n,a=mn(e).rows,q.from(null===(u=null===(i=a[r])||void 0===i?void 0:i.cells[o])||void 0===u?void 0:u.element).filter(ia).orThunk((function(){return W(a,(function(e){return W(e.cells,(function(e){var t=e.element;return Lt(ia(t),t)}))}))})));return aa(e,c)}function la(e){return _(e,(function(e,t){return T(e,(function(e){return e.row===t.row}))?e:e.concat([t])}),[]).sort((function(e,t){return e.row-t.row}))}function sa(e,t){return function(n,r,o,i,a){return ca(function(e,t,n,r,o,i,a){var c=mn(e),l=c.cols,s=c.rows,f=s[t[0]],d=B(t,(function(e){return r=o,B((t=s)[n=e].cells,(function(e,o){return Uu(t,n,o,r)?[]:[e]}));var t,n,r})),m=O(f.cells,(function(e,t){return fu(Xu(s,t,o))})),g=X([],s,!0);A(t,(function(e){g[e]=a.transformRow(s[e],n)}));var p,h,v,b,y=l.concat(g),x=(p=f,M(h=m,u)&&fu(p.cells)?w:function(e,t,n){return!("th"===Ge(e.element)&&h[n])}),S=(v=r,b=m,function(e,t,n){return q.some(Vu(v,e.element,"col",b[n]))});return Zu(y,d,o,i,a.transformCell,S,x)}(n,O(la(r),(function(e){return e.row})),e,t,o,i.replaceOrInit,a),r[0].row,r[0].column)}}function fa(e,t,n){var r,o=(r=n.section,rn(e,(function(){return r})));return Su(Vn.generate(o),t,!0)}function da(e,t,n,r){var o=r.sizing,i=Vn.generate(t);ri(i,o.getWidths(i,o),o)}function ma(e,t,n,r){var o=n,i=r.sizing,u=r.resize,a=Vn.generate(t),c=i.getWidths(a,i),l=i.pixelWidth(),s=u.calcRedestributedWidths(c,l,o.pixelDelta,i.isRelative),f=s.newSizes,d=s.delta;ri(a,f,i),i.adjustTableWidth(d)}function ga(e,t){return T(t,(function(e){return 0===e.column&&e.isLocked}))}function pa(e,t){return T(t,(function(t){return t.column+t.colspan>=e.grid.columns&&t.isLocked}))}function ha(e,t){var n=br(e);return _(Qu(t),(function(e,t){return e+n[t.column].map(vr).getOr(0)}),0)}function va(e){return function(t,n){return Ru(t,n).filter((function(n){return!(e?ga:pa)(t,n)})).map((function(e){return{details:e,pixelDelta:ha(t,e)}}))}}function ba(e){return function(t,n){return Au(t,n).filter((function(n){return!(e?ga:pa)(t,n.cells)}))}}function ya(e,t){var n=Vn.fromTable(e);return Ru(n,t).bind((function(e){var t=e[e.length-1],r=e[0].column,o=t.column+t.colspan,i=F(O(n.all,(function(e){return P(e.cells,(function(e){return e.column>=r&&e.column<o}))})));return Al(i)})).getOr("")}function wa(e,t){return Ru(Vn.fromTable(e),t).bind(Al).getOr("")}function xa(e,t,n,r){return k(e,(function(e){return function(e,t,n,r){for(var o=He.fromTag("tr"),i=0;i<e;i++){var u=r<t||i<n?He.fromTag("th"):He.fromTag("td");i<n&&Dt(u,"scope","row"),r<t&&Dt(u,"scope","col"),Zn(u,He.fromTag("br")),Zn(o,u)}return o}(t,n,r,e)}))}function Sa(e,t){e.selection.select(t.dom,!0),e.selection.collapse(!0)}function Ca(e,t,n,r,o){var i=qi(e),u={styles:i,attributes:Hi(e),colGroups:e.getParam("table_use_colgroups",!1,"boolean")};return e.undoManager.ignore((function(){var i=function(e,t,n,r,o,i){void 0===i&&(i=ss);var u,a,c=He.fromTag("table"),l="cells"!==o;Wt(c,i.styles),_t(c,i.attributes),i.colGroups&&Zn(c,(u=t,a=He.fromTag("colgroup"),k(u,(function(){return Zn(a,He.fromTag("col"))})),a));var s,f=Math.min(e,n);l&&0<n&&(s=He.fromTag("thead"),Zn(c,s),Pn(s,xa(n,t,"sectionCells"===o?f:0,r)));var d=He.fromTag("tbody");return Zn(c,d),Pn(d,xa(l?e-f:e,t,l?0:n,r)),c}(n,t,o,r,Qi(e),u);Dt(i,"data-mce-id","__mce");var a,c,l,s=(a=i,c=He.fromTag("div"),l=He.fromDom(a.dom.cloneNode(!0)),Zn(c,l),c.dom.innerHTML);e.insertContent(s),e.addVisual()})),At(Uo(e),'table[data-mce-id="__mce"]').map((function(t){var n,r,o;return hl(e)?yl(t):vl(e)?wl(t):(Yi(e)||(n=i.width,c(n)&&-1!==n.indexOf("%")))&&bl(t),Go(t),Ln(t,"data-mce-id"),r=e,A(dt(t,"tr"),(function(e){Mi(r,e.dom),A(dt(e,"th,td"),(function(e){Ii(r,e.dom)}))})),o=e,At(t,"td,th").each(h(Sa,o)),t.dom})).getOr(null)}function Ta(e,t,n,r,o){function i(e){return p(e)&&0<e}if(void 0===r&&(r={}),i(t)&&i(n)){var u=r.headerRows||0;return Ca(e,n,t,r.headerColumns||0,u)}return console.error(o),null}function ka(e){return function(){return e().fold((function(){return[]}),(function(e){return O(e,(function(e){return e.dom}))}))}}function Oa(e){return function(t){var n=0<t.length?q.some(qo(t)):q.none();e(n)}}function Aa(e,t,n){var r=Vt(e,t,1);1===n||r<=1?Ln(e,t):Dt(e,t,Math.min(n,r))}function Ra(e,t,n){return function(t,r){for(var o=0;o<r.length;o++){var i=e.getStyle(r[o],n);if((t=void 0===t?i:t)!==i)return""}return t}(void 0,e.select("td,th",t))}function Pa(e,t,n){n&&e.formatter.apply("align"+n,{},t)}function Da(e,t){fs.each("left center right".split(" "),(function(n){e.formatter.remove("align"+n,{},t)}))}function _a(e){return ms.test(n=e)||gs.test(n)?q.some({value:(Re(t=e,"#")?t.substring("#".length):t).toUpperCase()}):q.none();var t,n}function Ea(e){var t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()}function Na(e){return{value:Ea(e.red)+Ea(e.green)+Ea(e.blue)}}function Fa(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}}function Ba(e,t,n,r){return Fa(parseInt(e,10),parseInt(t,10),parseInt(n,10),parseFloat(r))}function Ma(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}function Ia(e){function t(){return n.get().each(e)}var n=Ma(q.none());return{clear:function(){t(),n.set(q.none())},isSet:function(){return n.get().isSome()},get:function(){return n.get()},set:function(e){t(),n.set(q.some(e))}}}function La(){var e=Ia(o);return Z(Z({},e),{on:function(t){return e.get().each(t)}})}function ja(e){return he(e,"menu")}function za(e,t){return function(n){var r;e.execCommand("mceTableApplyCellStyle",!1,((r={})[t]=n,r))}}function $a(e,t,n,r,o){return function(i){return i(bs(e,t,n,r,o))}}function Wa(e,t,n){var r=O(t,(function(e){return{text:e.title,value:"#"+_a(t=e.value).orThunk((function(){return function(e){if("transparent"===e)return q.some(Fa(0,0,0,0));var t=ps.exec(e);if(null!==t)return q.some(Ba(t[1],t[2],t[3],"1"));var n=hs.exec(e);return null!==n?q.some(Ba(n[1],n[2],n[3],n[4])):q.none()}(t).map(Na)})).getOrThunk((function(){var e=document.createElement("canvas");e.height=1,e.width=1;var n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillStyle="#FFFFFF",n.fillStyle=t,n.fillRect(0,0,1,1);var r=n.getImageData(0,0,1,1).data;return Na(Fa(r[0],r[1],r[2],r[3]))})).value,type:"choiceitem"};var t}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:0<r.length?r:void 0,allowCustomColors:!1},onAction:function(t){var r,o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,((r={})[n]=o,r))}}]}function Ha(e){return function(){var t=e.queryCommandValue("mceTableRowType");e.execCommand("mceTableRowType",!1,{type:"header"===t?"body":"header"})}}function qa(e){return function(){var t=e.queryCommandValue("mceTableColType");e.execCommand("mceTableColType",!1,{type:"th"===t?"td":"th"})}}function Ua(e){return ws.concat((0<(t=vs(Xi(e))).length?q.some({name:"class",type:"listbox",label:"Class",items:t}):q.none()).toArray());var t}function Va(e,t){var n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(vs(Wi(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}}function Ka(e){return function(t,n){var r=t.dom;return{setAttrib:function(t,o){e&&!o||r.setAttrib(n,t,o)},setStyle:function(t,o){e&&!o||r.setStyle(n,t,o)},setFormat:function(r,o){e&&!o||(""===o?t.formatter.remove(r,{value:null},n,!0):t.formatter.apply(r,{value:o},n))}}}}function Za(e){return function(t){return Re(t,"rgb")?e.toHex(t):t}}function Xa(e,t){var n=He.fromDom(t);return{borderwidth:qt(n,"border-width").getOr(""),borderstyle:qt(n,"border-style").getOr(""),bordercolor:qt(n,"border-color").map(Za(e)).getOr(""),backgroundcolor:qt(n,"background-color").map(Za(e)).getOr("")}}function Ga(e){var t=e[0];return A(e.slice(1),(function(e){A(Ue(t),(function(n){le(e,(function(e,r){var o=t[n];""!==o&&n===r&&o!==e&&(t[n]="")}))}))})),t}function Ya(e,t,n,r){return E(e,(function(e){return!m(n.formatter.matchNode(r,t+e))})).getOr("")}function Qa(e,t){var n=Vn.fromTable(e);return O(P(Vn.justCells(n),(function(e){return T(t,(function(t){return ae(e.element,t)}))})),(function(e){return{element:e.element.dom,column:Vn.getColumnAt(n,e.column).map((function(e){return e.element.dom}))}}))}function Ja(e,t,n,r){var o=r.getData();r.close(),e.undoManager.transact((function(){var r,i=e,u=t,a=n,c=fe(r=o,(function(e,t){return a[t]!==e}));0<ge(c)&&1<=u.length&&tn(u[0]).each((function(e){var t,n,o,a=Qa(e,u),l=0<ge(fe(c,(function(e,t){return"scope"!==t&&"celltype"!==t}))),s=Ze(c,"celltype");(l||Ze(c,"scope"))&&(t=i,n=r,o=1===a.length,A(a,(function(e){var r,i,u,a,c,l,s=e.element,f=o?xs.normal(t,s):xs.ifTruthy(t,s),d=e.column.map((function(e){return o?xs.normal(t,e):xs.ifTruthy(t,e)})).getOr(f),m=n;(r=f).setAttrib("scope",m.scope),r.setAttrib("class",m.class),r.setStyle("height",Xo(m.height)),d.setStyle("width",Xo(m.width)),Ui(t)&&((i=f).setFormat("tablecellbackgroundcolor",(u=n).backgroundcolor),i.setFormat("tablecellbordercolor",u.bordercolor),i.setFormat("tablecellborderstyle",u.borderstyle),i.setFormat("tablecellborderwidth",Xo(u.borderwidth))),o&&(Da(t,s),a=t,c=s,fs.each("top middle bottom".split(" "),(function(e){a.formatter.remove("valign"+e,{},c)}))),n.halign&&Pa(t,s,n.halign),!n.valign||(l=n.valign)&&t.formatter.apply("valign"+l,{},s)}))),s&&i.execCommand("mceTableCellType",!1,{type:r.celltype,no_events:!0}),Li(i,e.dom,{structure:s,style:l})})),e.focus()}))}function ec(e,t){var n,r,o,i,u,a=jc(t);0!==a.length&&(r=e,n=Ga(tn((o=a)[0]).map((function(e){return O(Qa(e,o),(function(e){return n=r,o=e.element,i=Ui(r),u=e.column,a=n.dom,c=u.getOr(o),Z({width:t(c,"width"),height:t(o,"height"),scope:a.getAttrib(o,"scope"),celltype:o.nodeName.toLowerCase(),class:a.getAttrib(o,"class",""),halign:Ss(n,o),valign:Cs(n,o)},i?Xa(a,o):{});function t(e,t){return a.getStyle(e,t)||a.getAttrib(e,t)}var n,o,i,u,a,c}))})).getOrDie()),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ua(e)},Va(e,"cell")]},u={type:"panel",items:[{type:"grid",columns:2,items:Ua(e)}]},e.windowManager.open({title:"Cell Properties",size:"normal",body:Ui(e)?i:u,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:h(Ja,e,a,n)}))}function tc(e){return Ts.concat((0<(t=vs(e.getParam("table_row_class_list",[],"array"))).length?q.some({name:"class",type:"listbox",label:"Class",items:t}):q.none()).toArray());var t}function nc(e,t,n,r){var o=r.getData();r.close(),e.undoManager.transact((function(){var r,i,u,a,c,l,s,f=e,d=t,m=n,g=fe(r=o,(function(e,t){return m[t]!==e}));0<ge(g)&&(i=Ze(g,"type"),(u=!i||1<ge(g))&&(a=f,c=r,l=m,s=1===d.length,A(d,(function(e){var t,n,r,o=s?xs.normal(a,e):xs.ifTruthy(a,e),i=c;(t=o).setAttrib("class",i.class),t.setStyle("height",Xo(i.height)),Vi(a)&&((n=o).setStyle("background-color",(r=c).backgroundcolor),n.setStyle("border-color",r.bordercolor),n.setStyle("border-style",r.borderstyle)),c.align!==l.align&&(Da(a,e),Pa(a,e,c.align))}))),i&&f.execCommand("mceTableRowType",!1,{type:r.type,no_events:!0}),tn(He.fromDom(d[0])).each((function(e){return Li(f,e.dom,{structure:i,style:u})}))),e.focus()}))}function rc(e){var t,n,r,o,i,u,a,c=(t=Yo(e),n=Mc.selected,o=(r=Lc(t)).bind((function(e){return tn(e)})).map(nn),It(r,o,(function(e,t){return P(t,(function(t){return T(qo(t.dom.cells),(function(t){return"1"===Et(t,n)||ae(t,e)}))}))})).getOr([]));0!==c.length&&(i=Ga(O(c,(function(t){return n=e,r=t.dom,o=Vi(e),u=n.dom,Z({height:u.getStyle(r,"height")||u.getAttrib(r,"height"),class:u.getAttrib(r,"class",""),type:tn(He.fromDom(i=r)).map((function(e){var t={selection:qo(i.cells)};return ls(e,t)})).getOr(""),align:Ss(n,r)},o?Xa(u,r):{});var n,r,o,i,u}))),u={type:"tabpanel",tabs:[{title:"General",name:"general",items:tc(e)},Va(e,"row")]},a={type:"panel",items:[{type:"grid",columns:2,items:tc(e)}]},e.windowManager.open({title:"Row Properties",size:"normal",body:Vi(e)?u:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i,onSubmit:h(nc,e,O(c,(function(e){return e.dom})),i)}))}function oc(e,t,n,r){var o=e.dom,i=r.getData(),u=fe(i,(function(e,t){return n[t]!==e}));r.close(),""===i.class&&delete i.class,e.undoManager.transact((function(){var n,r,a,c,l;t||(n=parseInt(i.cols,10)||1,r=parseInt(i.rows,10)||1,t=Ca(e,n,r,0,0)),0<ge(u)&&(function(e,t,n){var r,o=e.dom,i={},u={};if(i.class=n.class,u.height=Xo(n.height),o.getAttrib(t,"width")&&!Zi(e)?i.width=(r=n.width)?r.replace(/px$/,""):"":u.width=Xo(n.width),Zi(e)?(u["border-width"]=Xo(n.border),u["border-spacing"]=Xo(n.cellspacing)):(i.border=n.border,i.cellpadding=n.cellpadding,i.cellspacing=n.cellspacing),Zi(e)&&t.children)for(var a=0;a<t.children.length;a++)ks(o,t.children[a],{"border-width":Xo(n.border),padding:Xo(n.cellpadding)}),Ki(e)&&ks(o,t.children[a],{"border-color":n.bordercolor});Ki(e)&&(u["background-color"]=n.backgroundcolor,u["border-color"]=n.bordercolor,u["border-style"]=n.borderstyle),i.style=o.serializeStyle(Z(Z({},qi(e)),u)),o.setAttribs(t,Z(Z({},Hi(e)),i))}(e,t,i),((a=o.select("caption",t)[0])&&!i.caption||!a&&i.caption)&&e.execCommand("mceTableToggleCaption"),""===i.align?Da(e,t):Pa(e,t,i.align)),e.focus(),e.addVisual(),0<ge(u)&&(l=!(c=Ze(u,"caption"))||1<ge(u),Li(e,t,{structure:c,style:l}))}))}function ic(e,t){var n,r,o,i,u,a,c,l,s,f,d,m,g,p,v,b,y,w,x,S=e.dom,C=(o=Ki(r=e),l=qi(r),s=Hi(r),f=o?(i=r.dom,{borderstyle:pe(l,"border-style").getOr(""),bordercolor:Za(i)(pe(l,"border-color").getOr("")),backgroundcolor:Za(i)(pe(l,"background-color").getOr(""))}):{},Z(Z(Z(Z(Z(Z({},{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""}),l),s),f),(c=l["border-width"],Zi(r)&&c?{border:c}:pe(s,"border").fold((function(){return{}}),(function(e){return{border:e}})))),(u=pe(l,"border-spacing").or(pe(s,"cellspacing")).fold((function(){return{}}),(function(e){return{cellspacing:e}})),a=pe(l,"border-padding").or(pe(s,"cellpadding")).fold((function(){return{}}),(function(e){return{cellpadding:e}})),Z(Z({},u),a))));!1===t?(n=S.getParent(e.selection.getStart(),"table",e.getBody()))?(m=n,g=Ki(d=e),y=d.dom,w=Zi(d)?y.getStyle(m,"border-spacing")||y.getAttrib(m,"cellspacing"):y.getAttrib(m,"cellspacing")||y.getStyle(m,"border-spacing"),x=Zi(d)?Ra(y,m,"padding")||y.getAttrib(m,"cellpadding"):y.getAttrib(m,"cellpadding")||Ra(y,m,"padding"),C=Z({width:y.getStyle(m,"width")||y.getAttrib(m,"width"),height:y.getStyle(m,"height")||y.getAttrib(m,"height"),cellspacing:w,cellpadding:x,border:(p=y,b=qt(He.fromDom(v=m),"border-width"),Zi(d)&&b.isSome()?b.getOr(""):p.getAttrib(v,"border")||Ra(d.dom,v,"border-width")||Ra(d.dom,v,"border")),caption:!!y.select("caption",m)[0],class:y.getAttrib(m,"class",""),align:Ss(d,m)},g?Xa(y,m):{})):Ki(e)&&(C.borderstyle="",C.bordercolor="",C.backgroundcolor=""):(C.cols="1",C.rows="1",Ki(e)&&(C.borderstyle="",C.bordercolor="",C.backgroundcolor=""));var T=vs(Gi(e));0<T.length&&C.class&&(C.class=C.class.replace(/\s*mce\-item\-table\s*/g,""));var k,O,A,R,P={type:"grid",columns:2,items:(k=T,O=t?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],A=e.getParam("table_appearance_options",!0,"boolean")?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],R=0<k.length?[{type:"listbox",name:"class",label:"Class",items:k}]:[],O.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(A).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(R))},D=Ki(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[P]},Va(e,"table")]}:{type:"panel",items:[P]};e.windowManager.open({title:"Table Properties",size:"normal",body:D,onSubmit:h(oc,e,n,C),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:C})}function uc(e){return Ic(Yo(e),Zo(e))}function ac(e,t,n,r,i){function u(e){return tn(e,b)}function a(t){return Lc(Yo(n=e),Zo(n)).bind((function(e){return u(e).map((function(n){return t(n,e)}))}));var n}function s(t){e.focus()}function f(e,t){return void 0===t&&(t=!1),a((function(n,o){var i=Jo(r,n,o);e(n,i,t).each(s)}))}function d(){return a((function(t,n){var i,u,a,c=Jo(r,t,n),l=Wo(o,He.fromDom(e.getDoc()),q.none());return i=c,u=l,Ru(a=Vn.fromTable(t),i).bind((function(e){var t=Cu(B(mn(Su(a,u,!1)).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),(function(e){var t=P(e.cells,(function(e){return!e.isLocked}));return 0<t.length?[Z(Z({},e),{cells:t})]:[]})));return Lt(0<t.length,t)})).map((function(e){return O(e,(function(e){var t=ar(e.element);return A(e.cells,(function(e){var n=cr(e.element);bu(n,"colspan",e.colspan,1),bu(n,"rowspan",e.rowspan,1),Zn(t,n)})),t}))}))}))}function m(){return a((function(e,t){var n,o;return n=Jo(r,e,t),Pu(o=Vn.fromTable(e),n).map((function(e){var t,n,r=e[e.length-1],i=e[0].column,u=r.column+r.colspan,a=function(e,t,n){if(Vn.hasColumns(e)){var r=O(P(Vn.justColumns(e),(function(e){return e.column>=t&&e.column<n})),(function(e){var r=cr(e.element);return Aa(r,"span",n-t),r})),o=He.fromTag("colgroup");return Pn(o,r),[o]}return[]}(o,i,u),c=(t=i,n=u,O(o.all,(function(e){var r=O(P(e.cells,(function(e){return e.column>=t&&e.column<n})),(function(e){var r=cr(e.element);return Aa(r,"colspan",n-t),r})),o=He.fromTag("tr");return Pn(o,r),o})));return X(X([],a,!0),c,!0)}))}))}function g(t,n){return n().each((function(n){var o=O(n,cr);a((function(n,i){var u,a,c=Ho(He.fromDom(e.getDoc())),l=(u=o,a=c,{selection:Qo(r),clipboard:u,generators:a});t(n,l).each(s)}))}))}function p(e){return function(t,n){return pe(n,"type").each((function(t){f(e(t),n.no_events)}))}}var b=Zo(e);le({mceTableSplitCells:function(){return f(t.unmergeCells)},mceTableMergeCells:function(){return f(t.mergeCells)},mceTableInsertRowBefore:function(){return f(t.insertRowsBefore)},mceTableInsertRowAfter:function(){return f(t.insertRowsAfter)},mceTableInsertColBefore:function(){return f(t.insertColumnsBefore)},mceTableInsertColAfter:function(){return f(t.insertColumnsAfter)},mceTableDeleteCol:function(){return f(t.deleteColumn)},mceTableDeleteRow:function(){return f(t.deleteRow)},mceTableCutCol:function(){return m().each((function(e){i.setColumns(e),f(t.deleteColumn)}))},mceTableCutRow:function(){return d().each((function(e){i.setRows(e),f(t.deleteRow)}))},mceTableCopyCol:function(){return m().each((function(e){return i.setColumns(e)}))},mceTableCopyRow:function(){return d().each((function(e){return i.setRows(e)}))},mceTablePasteColBefore:function(){return g(t.pasteColsBefore,i.getColumns)},mceTablePasteColAfter:function(){return g(t.pasteColsAfter,i.getColumns)},mceTablePasteRowBefore:function(){return g(t.pasteRowsBefore,i.getRows)},mceTablePasteRowAfter:function(){return g(t.pasteRowsAfter,i.getRows)},mceTableDelete:function(){return uc(e).each((function(t){tn(t,b).filter(v(b)).each((function(t){var n,r=He.fromText("");kn(t,r),Xn(t),e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):((n=e.dom.createRng()).setStart(r.dom,0),n.setEnd(r.dom,0),e.selection.setRng(n),e.nodeChanged())}))}))},mceTableCellToggleClass:function(t,n){a((function(t){var o=jc(r),i=M(o,(function(t){return e.formatter.match("tablecellclass",{value:n},t.dom)}))?e.formatter.remove:e.formatter.apply;A(o,(function(e){return i("tablecellclass",{value:n},e.dom)})),Li(e,t.dom,cl)}))},mceTableToggleClass:function(t,n){a((function(t){e.formatter.toggle("tableclass",{value:n},t.dom),Li(e,t.dom,cl)}))},mceTableToggleCaption:function(){uc(e).each((function(t){tn(t,b).each((function(n){Ot(n,"caption").fold((function(){var t,r,o=He.fromTag("caption");Zn(o,He.fromText("Caption")),r=o,ct(t=n,0).fold((function(){Zn(t,r)}),(function(e){Tn(e,r)})),e.selection.setCursorLocation(o.dom,0)}),(function(r){et("caption")(t)&&ue("td",n).each((function(t){return e.selection.setCursorLocation(t.dom,0)})),Xn(r)})),Li(e,n.dom,ll)}))}))},mceTableSizingMode:function(t,n){return r=n,uc(e).each((function(t){vl(e)||hl(e)||Yi(e)||tn(t,b).each((function(t){"relative"!==r||bc(t)?"fixed"!==r||yc(t)?"responsive"!==r||wc(t)||wl(t):yl(t):bl(t),Go(t),Li(e,t.dom,ll)}))}));var r},mceTableCellType:p((function(e){return"th"===e?t.makeCellsHeader:t.unmakeCellsHeader})),mceTableColType:p((function(e){return"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader})),mceTableRowType:p((function(e){switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},(function(t,n){return e.addCommand(n,t)})),le({mceTableProps:h(ic,e,!1),mceTableRowProps:h(rc,e),mceTableCellProps:h(ec,e,r)},(function(t,n){return e.addCommand(n,(function(){return t()}))})),e.addCommand("mceInsertTable",(function(t,n){l(n)&&0<Ue(n).length?Ta(e,n.rows,n.columns,n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):ic(e,!0)})),e.addCommand("mceTableApplyCellStyle",(function(t,n){function o(e){return"tablecell"+e.toLowerCase().replace("-","")}var i,a;!l(n)||0!==(i=jc(r)).length&&(function(e){for(var t in e)if(Ve.call(e,t))return;return 1}(a=fe(n,(function(t,n){return e.formatter.has(o(n))&&c(t)})))||(le(a,(function(t,n){A(i,(function(r){xs.normal(e,r.dom).setFormat(o(n),t)}))})),u(i[0]).each((function(t){return Li(e,t.dom,cl)}))))}))}function cc(e,t){return tn(e,t).bind((function(t){var n=Jt(t);return N(n,(function(t){return ae(e,t)})).map((function(e){return{index:e,all:n}}))}))}function lc(e,t){var n=e.document.createRange();return n.selectNode(t.dom),n}function sc(e,t){var n=e.document.createRange();return Is(n,t),n}function fc(e,t,n){var r,o=e.document.createRange(),i=o;return t.fold((function(e){i.setStartBefore(e.dom)}),(function(e,t){i.setStart(e.dom,t)}),(function(e){i.setStartAfter(e.dom)})),r=o,n.fold((function(e){r.setEndBefore(e.dom)}),(function(e,t){r.setEnd(e.dom,t)}),(function(e){r.setEndAfter(e.dom)})),o}function dc(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i}function mc(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}function gc(e,t,n){return t(He.fromDom(n.startContainer),n.startOffset,He.fromDom(n.endContainer),n.endOffset)}function pc(e,t){var n,r,o,u=(n=e,t.match({domRange:function(e){return{ltr:i(e),rtl:q.none}},relative:function(e,t){return{ltr:G((function(){return fc(n,e,t)})),rtl:G((function(){return q.some(fc(n,t,e))}))}},exact:function(e,t,r,o){return{ltr:G((function(){return dc(n,e,t,r,o)})),rtl:G((function(){return q.some(dc(n,r,o,e,t))}))}}}));return(o=(r=u).ltr()).collapsed?r.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return Ls.rtl(He.fromDom(e.endContainer),e.endOffset,He.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return gc(0,Ls.ltr,o)})):gc(0,Ls.ltr,o)}function hc(e,t){return pc(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom,o),i.setEnd(t.dom,n),i}})}function vc(e,t){return{parent:i(q.from(e.dom.documentElement).map(He.fromDom).getOr(e)),view:i(e),origin:i(to(0,0)),isResizable:t}}function bc(e){return ho(e).exists((function(e){return kc.test(e)}))}function yc(e){return ho(e).exists((function(e){return Oc.test(e)}))}function wc(e){return ho(e).isNone()}function xc(){return{transformRow:u,transformCell:mu}}function Sc(e,t){function n(n){if(Ju(n))return Bl((i={element:n}).element)?e.colgroup(i):e.row(i);var o,i,u=(o=t(n),Fl(o.element)?e.col(o):e.cell(o));return r=q.some({item:n,replacement:u}),u}void 0===t&&(t=ea);var r=q.none();return{getOrInit:function(e,t){return r.fold((function(){return n(e)}),(function(r){return t(e,r.item)?r.replacement:n(e)}))}}}function Cc(e){return function(t){function n(n){var o=t.replace(n,e,"td"===e?{scope:null}:{});return r.push({item:n,sub:o}),o}var r=[];return{replaceOrInit:function(e,t){return Ju(e)||Fl(e)?e:(o=e,i=t,E(r,(function(e){return i(e.item,o)})).fold((function(){return n(e)}),(function(r){return t(e,r.item)?r.sub:n(e)})));var o,i}}}}function Tc(e){return{unmerge:function(t){var n=ta(t);return n.each((function(e){return Dt(t,"scope",e)})),function(){var r=e.cell({element:t,colspan:1,rowspan:1});return Ut(r,"width"),Ut(t,"width"),n.each((function(e){return Dt(r,"scope",e)})),r}},merge:function(e){return Ut(e[0],"width"),function(){var t=Mt(O(e,ta));if(0===t.length)return q.none();var n=t[0],r=["row","col"];return T(t,(function(e){return e!==n&&C(r,e)}))?q.none():q.from(n)}().fold((function(){return Ln(e[0],"scope")}),(function(t){return Dt(e[0],"scope",t+"group")})),i(e[0])}}}var kc=/(\d+(\.\d+)?)%/,Oc=/(\d+(\.\d+)?)px|em/,Ac=et("col"),Rc=i(kc),Pc=et("col"),Dc=function(e){return ho(e).fold((function(){return{width:n=Po(t=e,hr),pixelWidth:n,getWidths:function(e,n){return Ao(e,t,n)},getCellDelta:r=i(0),singleColumnWidth:i([0]),minCellWidth:r,setElementWidth:o,adjustTableWidth:o,isRelative:!0,label:"none"};var t,n,r}),(function(t){return n=e,r=t,(null!==Rc().exec(r)?Do:_o)(n);var n,r}))},_c=_o,Ec=Do,Nc=["img","br"],Fc=function(e,t){var n=function(e){for(var r=at(e),o=r.length-1;0<=o;o--){var i=r[o];if(t(i))return q.some(i);var u=n(i);if(u.isSome())return u}return q.none()};return n(e)},Bc={scope:["row","col"]},Mc={selected:"data-mce-selected",selectedSelector:"td[data-mce-selected],th[data-mce-selected]",firstSelected:"data-mce-first-selected",firstSelectedSelector:"td[data-mce-first-selected],th[data-mce-first-selected]",lastSelected:"data-mce-last-selected",lastSelectedSelector:"td[data-mce-last-selected],th[data-mce-last-selected]"},Ic=ei("th,td,caption"),Lc=ei("th,td"),jc=Qo,zc=Br([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),$c=Z({},zc),Wc=ai((function(e){return e<0})),Hc=ai(w),qc=Br([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Uc=Z(Z({},qc),{from:function(e){return ee(e,"%")?si("%",qc.percent,e):ee(e,"px")?si("px",qc.pixels,e):qc.invalid(e)}}),Vc=function(e){if(0===e.length)return e;var t,n,r=D(e,(function(e,t){var n=Uc.from(t).fold((function(){return{value:t,remainder:0}}),(function(e){return t=e,{value:(n=Math.floor(t))+"px",remainder:t-n};var t,n}),(function(e){return{value:e+"%",remainder:0}}));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0}),o=r.output;return o.slice(0,o.length-1).concat([(t=o[o.length-1],n=Math.round(r.remainder),Uc.from(t).fold(i(t),(function(e){return e+n+"px"}),(function(e){return e+n+"%"})))])},Kc=Uc.from,Zc=wi(["compare","extract","mutate","sink"]),Xc=wi(["element","start","stop","destroy"]),Gc=wi(["forceDrop","drop","move","delayDrop"]),Yc=function(e,t,n,r){e.dom.removeEventListener(t,n,r)},Qc=w,Jc=xi,el=Oi("ephox-dragster").resolve,tl=Zc({compare:function(e,t){return to(t.left-e.left,t.top-e.top)},extract:function(e){return q.some(to(e.x,e.y))},sink:function(e,t){var n,r,o,u=(n=t,r=Z({layerClass:el("blocker")},n),Dt(o=He.fromTag("div"),"role","presentation"),Wt(o,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ti(o,el("blocker")),Ti(o,r.layerClass),{element:i(o),destroy:function(){Xn(o)}}),a=Si(u.element(),"mousedown",e.forceDrop),c=Si(u.element(),"mouseup",e.drop),l=Si(u.element(),"mousemove",e.move),s=Si(u.element(),"mouseout",e.delayDrop);return Xc({element:u.element,start:function(e){Zn(e,u.element())},stop:function(){Xn(u.element())},destroy:function(){u.destroy(),c.unbind(),l.unbind(),s.unbind(),a.unbind()}})},mutate:function(e,t){e.mutate(t.left,t.top)}}),nl=function(e){return e.dom.contentEditable},rl=Oi("ephox-snooker").resolve,ol=rl("resizer-bar"),il=rl("resizer-rows"),ul=rl("resizer-cols"),al=rl("resizer-bar-dragging"),cl={structure:!1,style:!0},ll={structure:!0,style:!1},sl={structure:!0,style:!0},fl={"border-collapse":"collapse",width:"100%"},dl=k(5,(function(e){var t=e+1+"px";return{title:t,value:t}})),ml=O(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(function(e){return{title:e,value:e.toLowerCase()}})),gl={border:"1"},pl="preservetable",hl=function(e){return"fixed"===ji(e)||!1===zi(e)},vl=function(e){return"responsive"===ji(e)},bl=function(e){var t=xo(e);gi(e,q.some(t),q.none()),uu(e)},yl=function(e){var t=hr(e)+"px";gi(e,q.some(t),q.none()),uu(e)},wl=function(e){Ut(e,"width");var t=en(e);A(0<t.length?t:Jt(e),(function(e){Ut(e,"width"),uu(e)})),uu(e)},xl="bar-",Sl=function(e,t,n){return e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind((function(t){return Sl(e,t,n).orThunk((function(){return q.some(t)}))})):q.none()},Cl=function(e,t){var n=Sl(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return cu(n,lu(e,n));var r=e.property().children(n);return 0<r.length?Cl(e,r[r.length-1]):cu(n,lu(e,n))},Tl=Cl,kl=Qn(),Ol=et("th"),Al=function(e){var t=P(e,(function(e){return Ol(e.element)}));return 0===t.length?q.some("td"):t.length===e.length?q.some("th"):q.none()},Rl=pu,Pl=hu,Dl=vu,_l=function(e){return{isValue:w,isError:y,getOr:i(e),getOrThunk:i(e),getOrDie:i(e),or:function(t){return _l(e)},orThunk:function(t){return _l(e)},fold:function(t,n){return n(e)},map:function(t){return _l(t(e))},mapError:function(t){return _l(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return q.some(e)}}},El=function(e){return{isValue:y,isError:w,getOr:u,getOrThunk:function(e){return e()},getOrDie:function(){return t=String(e),function(){throw new Error(t)}();var t},or:u,orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return El(e)},mapError:function(t){return El(t(e))},each:o,bind:function(t){return El(e)},exists:y,forall:w,toOptional:q.none}},Nl={value:_l,error:El,fromOption:function(e,t){return e.fold((function(){return El(t)}),_l)}},Fl=et("col"),Bl=et("colgroup"),Ml=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Il=Qn(),Ll=sa("thead",!0),jl=sa("tbody",!1),zl=sa("tfoot",!1),$l=Cc("th"),Wl=Cc("td"),Hl=Ou((function(e,t,n,r){var o=t[0].row;return ca(D(la(t),(function(e,t){return{grid:Hu(e.grid,o,t.row+e.delta,n,r.getOrInit),delta:e.delta+1}}),{grid:e,delta:0}).grid,o,t[0].column)}),Ru,o,o,Sc),ql=Ou((function(e,t,n,r){var o=la(t),i=o[o.length-1],u=i.row+i.rowspan;return ca(D(o,(function(e,t){return Hu(e,u,t.row,n,r.getOrInit)}),e),u,t[0].column)}),Ru,o,o,Sc),Ul=Ou((function(e,t,n,r){var o=t.details,i=Qu(o),u=i[0].column;return ca(D(i,(function(e,t){return{grid:qu(e.grid,u,t.column+e.delta,n,r.getOrInit),delta:e.delta+1}}),{grid:e,delta:0}).grid,o[0].row,u)}),va(!0),ma,o,Sc),Vl=Ou((function(e,t,n,r){var o=t.details,i=o[o.length-1],u=i.column+i.colspan;return ca(D(Qu(o),(function(e,t){return qu(e,u,t.column,n,r.getOrInit)}),e),o[0].row,u)}),va(!1),ma,o,Sc),Kl=Ou((function(e,t,n,r){var o,i,u=Qu(t.details),a=(o=e,i=O(u,(function(e){return e.column})),B(o,(function(e){var t=e.cells,n=D(i,(function(e,t){return 0<=t&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e}),t);return 0<n.length?[we(e.element,n,e.section,e.isNew)]:[]}))),c=0<a.length?a[0].cells.length-1:0;return ca(a,u[0].row,Math.min(u[0].column,c))}),(function(e,t){return Pu(e,t).map((function(t){return{details:t,pixelDelta:-ha(e,t)}}))}),ma,ua,Sc),Zl=Ou((function(e,t,n,r){var o,i,u,a,c=la(t),l=(o=c[0].row,i=c[c.length-1].row,a=(u=mn(e)).rows,u.cols.concat(a.slice(0,o)).concat(a.slice(i+1))),s=0<l.length?l.length-1:0;return ca(l,Math.min(t[0].row,s),t[0].column)}),Ru,o,ua,Sc),Xl=Ou((function(e,t,n,r){return ca(Gu(e,O(Qu(t),(function(e){return e.column})),!0,n,r.replaceOrInit),t[0].row,t[0].column)}),Pu,o,o,$l),Gl=Ou((function(e,t,n,r){return ca(Gu(e,O(Qu(t),(function(e){return e.column})),!1,n,r.replaceOrInit),t[0].row,t[0].column)}),Pu,o,o,Wl),Yl=Ou(Ll,Pu,o,o,$l),Ql=Ou(jl,Pu,o,o,Wl),Jl=Ou(zl,Pu,o,o,Wl),es=Ou((function(e,t,n,r){return ca(Yu(e,t,n,r.replaceOrInit),t[0].row,t[0].column)}),Pu,o,o,$l),ts=Ou((function(e,t,n,r){return ca(Yu(e,t,n,r.replaceOrInit),t[0].row,t[0].column)}),Pu,o,o,Wl),ns=Ou((function(e,t,n,r){var o=t.cells;return oa(o),aa(function(e,t,n){var r=mn(e).rows;if(0===r.length)return e;for(var o=t.startRow;o<=t.finishRow;o++)for(var i=t.startCol;i<=t.finishCol;i++){var u=r[o],a=sn(u,i).isLocked;ln(u,i,ye(n(),!1,a))}return e}(e,t.bounds,r.merge(o)),q.from(o[0]))}),_u,da,o,Tc),rs=Ou((function(e,t,n,r){return aa(D(t,(function(e,t){return Nu(e,t,n,r.unmerge(t))}),e),q.from(t[0]))}),Eu,da,o,Tc),os=Ou((function(e,t,n,r){var o,i,u=(o=t.clipboard,i=t.generators,Su(Vn.fromTable(o),i,!0));return function(e,t,n,r,o){var i,u,a,c=hn(t),l=(i=e,u=c,a=dn(t[0]),{row:mn(t).cols.length+i.row,column:E(k(a-i.column,(function(e){return e+i.column})),(function(e){return M(u,(function(t){return t!==e}))})).getOr(a-1)}),s=mn(n).rows,f=zu(l,s,c);return function(e,t,n){if(e.row>=t.length||e.column>dn(t[0]))return Nl.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);var r=t.slice(e.row),o=r[0].cells.slice(e.column),i=dn(n[0]),u=n.length;return Nl.value({rowDelta:r.length-u,colDelta:o.length-i})}(l,t,s).map((function(e){var n=Z(Z({},e),{colDelta:e.colDelta-f.length}),i=ju(t,n,r),u=hn(i),a=zu(l,s,u);return function(e,t,n,r,o,i){for(var u,a,c,l,s,f=e.row,d=e.column,m=f+n.length,g=d+dn(n[0])+i.length,p=I(i,w),v=f;v<m;v++)for(var b,y,x,S=0,C=d;C<g;C++)p[C]?S++:(c=C,l=void 0,l=h(o,sn((u=t)[a=v],c).element),s=u[a],1<u.length&&1<dn(s)&&(0<c&&l(fn(s,c-1))||c<s.cells.length-1&&l(fn(s,c+1))||0<a&&l(fn(u[a-1],c))||a<u.length-1&&l(fn(u[a+1],c)))&&Nu(t,fn(t[v],C),o,r.cell),y=(b=sn(n[v-f],C-d-S)).element,x=r.replace(y),ln(t[v],C,ye(x,!0,b.isLocked)));return t}(l,i,s,r,o,a)}))}({row:t.row,column:t.column},e,u,t.generators,n).fold((function(){return aa(e,q.some(t.element))}),(function(e){return ca(e,t.row,t.column)}))}),(function(e,t){return Qt(t.element).bind((function(n){return Tu(e,n).map((function(e){return Z(Z({},e),{generators:t.generators,clipboard:t.clipboard})}))}))}),da,o,Sc),is=Ou((function(e,t,n,r){var o=mn(e).rows,i=t.cells[0].column,u=o[t.cells[0].row];return ca($u(i,e,fa(t.clipboard,t.generators,u),t.generators,n),t.cells[0].row,t.cells[0].column)}),ba(!0),o,o,Sc),us=Ou((function(e,t,n,r){var o=mn(e).rows,i=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,u=o[t.cells[0].row];return ca($u(i,e,fa(t.clipboard,t.generators,u),t.generators,n),t.cells[0].row,t.cells[0].column)}),ba(!1),o,o,Sc),as=Ou((function(e,t,n,r){var o=mn(e).rows,i=t.cells[0].row,u=o[i];return ca(Wu(i,e,fa(t.clipboard,t.generators,u),t.generators,n),t.cells[0].row,t.cells[0].column)}),Au,o,o,Sc),cs=Ou((function(e,t,n,r){var o=mn(e).rows,i=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,u=o[t.cells[0].row];return ca(Wu(i,e,fa(t.clipboard,t.generators,u),t.generators,n),t.cells[0].row,t.cells[0].column)}),Au,o,o,Sc),ls=function(e,t){var n=Vn.fromTable(e);return Ru(n,t).bind((function(e){var t=e[e.length-1],r=e[0].row,o=t.row+t.rowspan;return function(){var e=O(n.all.slice(r,o),(function(e){return du(e).type})),t=C(e,"header"),i=C(e,"footer");if(t||i){var u=C(e,"body");return!t||u||i?t||u||!i?q.none():q.some("footer"):q.some("header")}return q.some("body")}()})).getOr("")},ss={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},fs=tinymce.util.Tools.resolve("tinymce.util.Tools"),ds=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],ms=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,gs=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ps=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,hs=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,vs=function(e){return O(e,(function(e){var t=e.text||e.title;return ja(e)?{text:t,items:vs(e.menu)}:{text:t,value:e.value}}))},bs=function(e,t,n,r,o){return O(n,(function(n){var i,u,a,c,l=n.text||n.title;return ja(n)?{type:"nestedmenuitem",text:l,getSubmenuItems:function(){return bs(e,t,n.menu,r,o)}}:{text:l,type:"togglemenuitem",onAction:function(){return o(n.value)},onSetup:(i=e,u=t,a=r,c=n.value,function(e){function t(){function t(e){return i.formatter.match(a,{value:c},e.dom,r)}var o=jc(u);r?(e.setActive(!T(o,t)),n.set(i.formatter.formatChanged(a,(function(t){return e.setActive(!t)}),!0))):(e.setActive(M(o,t)),n.set(i.formatter.formatChanged(a,e.setActive,!1,{value:c})))}var n=Ia((function(e){return e.unbind()})),r=!te(c);return i.initialized?t():i.on("init",t),n.clear})}}))},ys=function(e){return B(e,(function(e){return ja(e)?[Z(Z({},e),{menu:ys(e.menu)})]:te(e.value)?[e]:[]}))},ws=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:ds}],xs={normal:Ka(!1),ifTruthy:Ka(!0)},Ss=h(Ya,["left","center","right"],"align"),Cs=h(Ya,["top","middle","bottom"],"valign"),Ts=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],ks=function(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)c(n)?e.setStyle(t,n,r):e.setStyle(t,n);else if(t.children)for(var o=0;o<t.children.length;o++)ks(e,t.children[o],n,r)},Os={remove_similar:!0,inherit:!1},As=Z({selector:"td,th"},Os),Rs={tablecellbackgroundcolor:Z({styles:{backgroundColor:"%value"}},As),tablecellverticalalign:Z({styles:{"vertical-align":"%value"}},As),tablecellbordercolor:Z({styles:{borderColor:"%value"}},As),tablecellclass:Z({classes:["%value"]},As),tableclass:Z({selector:"table",classes:["%value"]},Os),tablecellborderstyle:Z({styles:{borderStyle:"%value"}},As),tablecellborderwidth:Z({styles:{borderWidth:"%value"}},As)},Ps=Br([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Ds=Z(Z({},Ps),{none:function(e){return Ps.none(e=void 0===e?void 0:e)}}),_s=function(e,t,n,r,o){void 0===o&&(o=w);var i=1===r;if(!i&&n<=0)return Ds.first(e[0]);if(i&&n>=e.length-1)return Ds.last(e[e.length-1]);var u=n+r,a=e[u];return o(a)?Ds.middle(t,a):_s(e,t,u,r,o)},Es=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},Ns=Br([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Fs={before:Ns.before,on:Ns.on,after:Ns.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(u,u,u)}},Bs=Br([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ms={domRange:Bs.domRange,relative:Bs.relative,exact:Bs.exact,exactFromRange:function(e){return Bs.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){var t=e.match({domRange:function(e){return He.fromDom(e.startContainer)},relative:function(e,t){return Fs.getStart(e)},exact:function(e,t,n,r){return e}});return He.fromDom(nt(t).dom.defaultView)},range:Es},Is=function(e,t){return e.selectNodeContents(t.dom)},Ls=Br([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);function js(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}function zs(e,t){return t-e.left<e.right-t}function $s(e,t,n){var r=e.dom.createRange();return r.selectNode(t.dom),r.collapse(n),r}function Ws(e,t,n){var r=e.dom.createRange();r.selectNode(t.dom);var o=zs(r.getBoundingClientRect(),n);return(!0===o?Fo:Bo)(t).map((function(t){return $s(e,t,o)}))}function Hs(e,t,n){var r=zs(t.dom.getBoundingClientRect(),n);return q.some($s(e,t,r))}function qs(e,t){var n=Ge(e);return"input"===n?Fs.after(e):C(["br","img"],n)?0===t?Fs.before(e):Fs.after(e):Fs.on(e,t)}function Us(e,t){var n=e.fold(Fs.before,qs,Fs.after),r=t.fold(Fs.before,qs,Fs.after);return Ms.relative(n,r)}function Vs(e,t,n,r){var o=qs(e,t),i=qs(n,r);return Ms.relative(o,i)}function Ks(e){return q.from(e.getSelection())}function Zs(e,t){Ks(e).each((function(e){e.removeAllRanges(),e.addRange(t)}))}function Xs(e,t,n,r,o){Zs(e,dc(e,t,n,r,o))}function Gs(e,t){return pc(e,t).match({ltr:function(t,n,r,o){Xs(e,t,n,r,o)},rtl:function(t,n,r,o){Ks(e).each((function(i){if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom,n,r.dom,o);else if(i.extend)try{a=r,c=o,(u=i).collapse(t.dom,n),u.extend(a.dom,c)}catch(i){Xs(e,r,o,t,n)}else Xs(e,r,o,t,n);var u,a,c}))}})}function Ys(e,t,n,r,o){Gs(e,Vs(t,n,r,o))}function Qs(e,t,n){Gs(e,Us(t,n))}function Js(e){if(0<e.rangeCount){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return q.some(Es(He.fromDom(t.startContainer),t.startOffset,He.fromDom(n.endContainer),n.endOffset))}return q.none()}function ef(e){if(null===e.anchorNode||null===e.focusNode)return Js(e);var t,n,r,o,i,u,a,c,l,s,f,d=He.fromDom(e.anchorNode),m=He.fromDom(e.focusNode);return t=d,u=n=e.anchorOffset,a=r=m,c=o=e.focusOffset,(l=tt(i=t).dom.createRange()).setStart(i.dom,u),l.setEnd(a.dom,c),s=l,f=ae(t,r)&&n===o,s.collapsed&&!f?q.some(Es(d,e.anchorOffset,m,e.focusOffset)):Js(e)}function tf(e,t,n){Zs(e,((n=void 0===n||n)?sc:lc)(e,t))}function nf(e){return Ks(e).filter((function(e){return 0<e.rangeCount})).bind(ef).map((function(e){return Ms.exact(e.start,e.soffset,e.finish,e.foffset)}))}function rf(e,t,n){return If(e,t,(o=Ri,cc(r=n,void 0).fold((function(){return Ds.none(r)}),(function(e){return _s(e.all,r,e.index,1,o)}))));var r,o}function of(e,t){var n=hc(e,t);return Es(He.fromDom(n.startContainer),n.startOffset,He.fromDom(n.endContainer),n.endOffset)}function uf(e,t){return{item:e,mode:t}}function af(e,t,n,r){return void 0===r&&(r=Nf),e.property().parent(t).map((function(e){return uf(e,r)}))}function cf(e){return function(t){return 0===e.property().children(t).length}}function lf(e,t){return Kf(Xf,e,cf(Xf),t)}function sf(e,t){return Zf(Xf,e,cf(Xf),t)}function ff(e){return Rt(e,"tr")}function df(e){return"br"===Ge(e)}function mf(e,t){return{left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}}function gf(e,t){return{left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}}function pf(e,t,n){return{left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}}function hf(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function vf(e,t){return q.some(e.getRect(t))}function bf(e,t,n){return mt(t)?vf(e,t).map(hf):gt(t)?(r=e,o=t,(0<=(i=n)&&i<Eo(o)?r.getRangedRect(o,i,o,i+1):0<i?r.getRangedRect(o,i-1,o,i):q.none()).map(hf)):q.none();var r,o,i}function yf(e,t){return mt(t)?vf(e,t).map(hf):gt(t)?e.getRangedRect(t,0,t,Eo(t)).map(hf):q.none()}function wf(e,t,n){return Ct((function(e,t){return t(e)}),Tt,t,na,void 0).fold(y,(function(t){return yf(e,t).exists((function(e){return(t=n).left<(r=e).left||Math.abs(r.right-t.left)<1||t.left>r.right;var t,r}))}))}function xf(e,t,n){var r,o=e.move(n,5),i=nd(t,e,n,o,100).getOr(o),u=i,a=t;return((r=e).point(u)>a.getInnerHeight()?q.some(r.point(u)-a.getInnerHeight()):r.point(u)<0?q.some(-r.point(u)):q.none()).fold((function(){return t.situsFromPoint(i.left,e.point(i))}),(function(n){return t.scrollBy(0,n),t.situsFromPoint(i.left,e.point(i)-n)}))}function Sf(e,t,n,r,o){return Rt(r,"td,th",t).bind((function(r){return Rt(r,"table",t).bind((function(i){return l=i,Tt(o,(function(e){return rt(e).exists((function(e){return ae(e,l)}))}),void 0).isSome()?(u=s=e,a=f=t,c=d=n,u.getSelection().bind((function(e){return function(e,t,n,r){var o,i,u,a,c,l,s;return(df(t)?(o=e,(u=r).traverse(i=t).orThunk((function(){return Jf(i,u.gather,o)})).map(u.relative)):(a=e,c=r,ct(l=t,s=n).filter(df).orThunk((function(){return ct(l,s-1).filter(df)})).bind((function(e){return c.traverse(e).fold((function(){return Jf(e,c.gather,a).map(c.relative)}),(function(e){return rt(t=e).bind((function(e){var n=at(e);return Qf(n,t).map((function(r){return{parent:e,children:n,element:t,index:r}}))})).map((function(e){return Fs.on(e.parent,e.index)}));var t}))})))).map((function(e){return{start:e,finish:e}}))}(a,e.finish,e.foffset,c).fold((function(){return q.some(cu(e.finish,e.foffset))}),(function(t){var n=u.fromSitus(t),r=Yf.verify(u,e.finish,e.foffset,n.finish,n.foffset,c.failure,a);return Yf.cata(r,(function(e){return q.none()}),(function(){return q.none()}),(function(e){return q.some(cu(e,0))}),(function(e){return q.some(cu(e,Eo(e)))}))}))})).bind((function(e){return od(s,f,e.element,e.offset,d,20).map(s.fromSitus)})).bind((function(e){return Rt(e.finish,"td,th",t).map((function(t){return{start:r,finish:t,range:e}}))}))):q.none();var u,a,c,l,s,f,d}))}))}function Cf(e,t,n,r,o,i){return We().browser.isIE()?q.none():i(r,t).orThunk((function(){return Sf(e,t,n,r,o).map((function(e){var t=e.range;return jf(q.some($f(t.start,t.soffset,t.finish,t.foffset)),!0)}))}))}function Tf(e,t){return Rt(e,"tr",t).bind((function(e){return Rt(e,"table",t).bind((function(n){var r=dt(n,"tr");return ae(e,r[0])?Kf(Xf,n,(function(e){return Bo(e).isSome()}),t).map((function(e){var t=Eo(e);return jf(q.some($f(e,t,e,t)),!0)})):q.none()}))}))}function kf(e,t){return Rt(e,"tr",t).bind((function(e){return Rt(e,"table",t).bind((function(n){var r=dt(n,"tr");return ae(e,r[r.length-1])?Zf(Xf,n,(function(e){return Fo(e).isSome()}),t).map((function(e){return jf(q.some($f(e,0,e,0)),!0)})):q.none()}))}))}function Of(e,t,n,r,o,i,u){return Sf(e,n,r,o,i).bind((function(e){return Wf(t,n,e.start,e.finish,u)}))}function Af(e,t){return Rt(e,"td,th",t)}function Rf(e){return function(t){return t===e}}function Pf(e){return 37<=e&&e<=40}function Df(e){return{elementFromPoint:function(t,n){return He.fromPoint(He.fromDom(e.document),t,n)},getRect:function(e){return e.dom.getBoundingClientRect()},getRangedRect:function(t,n,r,o){var i,u,a,c=Ms.exact(t,n,r,o);return 0<(u=0<(a=(i=hc(e,c)).getClientRects()).length?a[0]:i.getBoundingClientRect()).width||0<u.height?q.some(u).map(mc):q.none()},getSelection:function(){return nf(e).map((function(t){return of(e,t)}))},fromSitus:function(t){var n=Ms.relative(t.start,t.finish);return of(e,n)},situsFromPoint:function(t,n){return r=t,o=n,i=He.fromDom(e.document),Bf(i,r,o).map((function(e){return Es(He.fromDom(e.startContainer),e.startOffset,He.fromDom(e.endContainer),e.endOffset)})).map((function(e){return zf(e.start,e.soffset,e.finish,e.foffset)}));var r,o,i},clearSelection:function(){Ks(e).each((function(e){return e.removeAllRanges()}))},collapseSelection:function(t){void 0===t&&(t=!1),nf(e).each((function(n){return n.fold((function(e){return e.collapse(t)}),(function(n,r){var o=t?n:r;Qs(e,o,o)}),(function(n,r,o,i){var u=t?n:o,a=t?r:i;Ys(e,u,a,u,a)}))}))},setSelection:function(t){Ys(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:function(t,n){Qs(e,t,n)},selectNode:function(t){tf(e,t,!1)},selectContents:function(t){tf(e,t)},getInnerHeight:function(){return e.innerHeight},getScrollY:function(){var t=He.fromDom(e.document),n=void 0!==t?t.dom:document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return to(r,o).top},scrollBy:function(t,n){var r,o=t,i=n,u=He.fromDom(e.document);(r=(void 0!==u?u.dom:document).defaultView)&&r.scrollBy(o,i)}}}function _f(e,t){return{rows:e,cols:t}}function Ef(e){return!1===ki(He.fromDom(e.target),"ephox-snooker-resizer-bar")}function Nf(e,t,n,r){return void 0===r&&(r=Hf),n.sibling(e,t).map((function(e){return uf(e,r)}))}Ls.ltr,Ls.rtl;var Ff=function(e,t,n,r){return gt(t)?(i=t,u=n,a=r,(c=(o=e).dom.createRange()).selectNode(i.dom),W(c.getClientRects(),(function(e){return js(e,u,a)?q.some(e):q.none()})).map((function(e){return function(e,t,n,r,o){function i(n){var r=e.dom.createRange();return r.setStart(t.dom,n),r.collapse(!0),r}var u=En(t).length,a=function(e,t,n,r){if(0===r)return 0;if(e===n)return r-1;for(var o=n,u=1;u<r;u++){var a=i(u).getBoundingClientRect(),c=Math.abs(e-a.left);if(t<=a.bottom){if(t<a.top||o<c)return u-1;o=c}}return 0}(n,r,o.right,u);return i(a)}(o,i,u,a,e)}))):(s=t,f=n,d=r,m=(l=e).dom.createRange(),W(at(s),(function(e){return m.selectNode(e.dom),js(m.getBoundingClientRect(),f,d)?Ff(l,e,f,d):q.none()})));var o,i,u,a,c,l,s,f,d,m},Bf=document.caretPositionFromPoint?function(e,t,n){var r,o;return q.from(null===(o=(r=e.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(r,t,n)).bind((function(t){if(null===t.offsetNode)return q.none();var n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),q.some(n)}))}:document.caretRangeFromPoint?function(e,t,n){var r,o;return q.from(null===(o=(r=e.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(r,t,n))}:function(e,t,n){return He.fromPoint(e,t,n).bind((function(r){function o(){return n=e,i=t,(0===at(o=r).length?Hs:Ws)(n,o,i);var n,o,i}return 0===at(r).length?o():function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom);var i=o.getBoundingClientRect();return function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom);var i=o.getBoundingClientRect(),u=Math.max(i.left,Math.min(i.right,n)),a=Math.max(i.top,Math.min(i.bottom,r));return Ff(e,t,u,a)}(e,t,Math.max(i.left,Math.min(i.right,n)),Math.max(i.top,Math.min(i.bottom,r)))}(e,r,t,n).orThunk(o)}))},Mf=tinymce.util.Tools.resolve("tinymce.util.VK"),If=function(e,t,n){return n.fold(q.none,q.none,(function(e,t){return Fo(t).map((function(e){return n=Ms.exact(e,0,e,0),r=Ms.getWin(n).dom,o=n.match({domRange:function(e){var t=He.fromDom(e.startContainer),n=He.fromDom(e.endContainer);return Vs(t,e.startOffset,n,e.endOffset)},relative:Us,exact:Vs}),pc(r,o).match({ltr:t,rtl:t});function t(e,t,n,o){return dc(r,e,t,n,o)}var n,r,o}))}),(function(n){return e.execCommand("mceTableInsertRowAfter"),rf(e,t,n)}))},Lf=["table","li","dl"],jf=function(e,t){return{selection:e,kill:t}},zf=function(e,t,n,r){return{start:Fs.on(e,t),finish:Fs.on(n,r)}},$f=zf,Wf=function(e,t,n,r,o){return ae(n,r)?q.none():tr(n,r,t).bind((function(t){var r=t.boxes.getOr([]);return 1<r.length?(o(e,r,t.start,t.finish),q.some(jf(q.some($f(n,0,n,Eo(n))),!0))):q.none()}))},Hf=function(e,t,n,r){void 0===r&&(r=Hf);var o=e.property().children(t);return n.first(o).map((function(e){return uf(e,r)}))},qf=[{current:af,next:Nf,fallback:q.none()},{current:Nf,next:Hf,fallback:q.some(af)},{current:Hf,next:Hf,fallback:q.some(Nf)}],Uf=function(e,t,n,r,o){return E(o=void 0===o?qf:o,(function(e){return e.current===n})).bind((function(n){return n.current(e,t,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return Uf(e,t,n,r)}))}))}))},Vf=function(e,t,n,r,o,i){return Uf(e,t,r,o).bind((function(t){return i(t.item)?q.none():n(t.item)?q.some(t.item):Vf(e,t.item,n,t.mode,o,i)}))},Kf=function(e,t,n,r){return Vf(e,t,n,Nf,{sibling:function(e,t){return e.query().prevSibling(t)},first:function(e){return 0<e.length?q.some(e[e.length-1]):q.none()}},r)},Zf=function(e,t,n,r){return Vf(e,t,n,Nf,{sibling:function(e,t){return e.query().nextSibling(t)},first:function(e){return 0<e.length?q.some(e[0]):q.none()}},r)},Xf=Qn(),Gf=Br([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Yf=Z(Z({},Gf),{verify:function(e,t,n,r,o,i,u){return Rt(r,"td,th",u).bind((function(n){return Rt(t,"td,th",u).map((function(t){return ae(n,t)?ae(r,n)&&Eo(n)===o?i(t):Gf.none("in same cell"):Jn(ff,[n,t]).fold((function(){return o=n,u=(r=e).getRect(t),(a=r.getRect(o)).right>u.left&&a.left<u.right?Gf.success():i(t);var r,o,u,a}),(function(e){return i(t)}))}))})).getOr(Gf.none("default"))},cata:function(e,t,n,r,o){return e.fold(t,n,r,o)}}),Qf=function(e,t){return N(e,h(ae,t))},Jf=function(e,t,n){return t(e,n).bind((function(e){return gt(e)&&0===En(e).trim().length?Jf(e,t,n):q.some(e)}))},ed=Br([{none:[]},{retry:["caret"]}]),td={point:function(e){return e.bottom},adjuster:function(e,t,n,r,o){var i=mf(o,5);return Math.abs(n.bottom-r.bottom)<1||n.top>o.bottom?ed.retry(i):n.top===o.bottom?ed.retry(mf(o,1)):wf(e,t,o)?ed.retry(pf(i,5,0)):ed.none()},move:mf,gather:sf},nd=function(e,t,n,r,o){return 0===o?q.some(r):(u=e,a=r.left,c=t.point(r),u.elementFromPoint(a,c).filter((function(e){return"table"===Ge(e)})).isSome()?(i=o-1,nd(e,t,n,t.move(r,5),i)):e.situsFromPoint(r.left,t.point(r)).bind((function(i){return i.start.fold(q.none,(function(i){return yf(e,i).bind((function(u){return t.adjuster(e,i,u,n,r).fold(q.none,(function(r){return nd(e,t,n,r,o-1)}))})).orThunk((function(){return q.some(r)}))}),q.none)})));var i,u,a,c},rd={tryUp:h(xf,{point:function(e){return e.top},adjuster:function(e,t,n,r,o){var i=gf(o,5);return Math.abs(n.top-r.top)<1||n.bottom<o.top?ed.retry(i):n.bottom===o.top?ed.retry(gf(o,1)):wf(e,t,o)?ed.retry(pf(i,5,0)):ed.none()},move:gf,gather:lf}),tryDown:h(xf,td),ieTryUp:function(e,t){return e.situsFromPoint(t.left,t.top-5)},ieTryDown:function(e,t){return e.situsFromPoint(t.left,t.bottom+5)},getJumpSize:i(5)},od=function(e,t,n,r,o,i){return 0===i?q.none():ad(e,t,n,r,o).bind((function(u){var a=e.fromSitus(u),c=Yf.verify(e,n,r,a.finish,a.foffset,o.failure,t);return Yf.cata(c,(function(){return q.none()}),(function(){return q.some(u)}),(function(u){return ae(n,u)&&0===r?id(e,n,r,gf,o):od(e,t,u,0,o,i-1)}),(function(u){return ae(n,u)&&r===Eo(u)?id(e,n,r,mf,o):od(e,t,u,Eo(u),o,i-1)}))}))},id=function(e,t,n,r,o){return bf(e,t,n).bind((function(t){return ud(e,o,r(t,rd.getJumpSize()))}))},ud=function(e,t,n){var r=We().browser;return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?t.otherRetry(e,n):r.isIE()?t.ieRetry(e,n):q.none()},ad=function(e,t,n,r,o){return bf(e,n,r).bind((function(t){return ud(e,o,t)}))},cd={traverse:ut,gather:sf,relative:Fs.before,otherRetry:rd.tryDown,ieRetry:rd.ieTryDown,failure:Yf.failedDown},ld={traverse:it,gather:lf,relative:Fs.before,otherRetry:rd.tryUp,ieRetry:rd.ieTryUp,failure:Yf.failedUp},sd=Rf(38),fd=Rf(40),dd={isBackward:Rf(37),isForward:Rf(39)},md={isBackward:Rf(39),isForward:Rf(37)},gd=tinymce.util.Tools.resolve("tinymce.Env");function pd(e,t,n){var r=function(e,t,n){function r(t){Ln(t,e.selected),Ln(t,e.firstSelected),Ln(t,e.lastSelected)}function o(t){Dt(t,e.selected,"1")}function i(e){u(e),n()}function u(t){A(dt(t,e.selectedSelector+","+e.firstSelectedSelector+","+e.lastSelectedSelector),r)}return{clearBeforeUpdate:u,clear:i,selectRange:function(n,r,u,a){i(n),A(r,o),Dt(u,e.firstSelected,"1"),Dt(a,e.lastSelected,"1"),t(r,u,a)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}}(Mc,(function(t,r,i){n.targets().each((function(n){tn(r).each((function(u){var a,c,l,s=nu(e),f=Wo(o,He.fromDom(e.getDoc()),s),d=(a=n,c=f,Ru(l=Vn.fromTable(u),a).map((function(e){var t,n,r=Su(l,c,!1);return{upOrLeftCells:B(Cu(r.slice(0,(t=e)[t.length-1].row+1)),(function(e){return O(e.cells.slice(0,t[t.length-1].column+1),(function(e){return e.element}))})),downOrRightCells:B(Cu(r.slice((n=e)[0].row+n[0].rowspan-1,r.length)),(function(e){return O(e.cells.slice(n[0].column+n[0].colspan-1,e.cells.length),(function(e){return e.element}))}))}})));e.fire("TableSelectionChange",{cells:t,start:r,finish:i,otherCells:d})}))}))}),(function(){e.fire("TableSelectionClear")}));return e.on("init",(function(n){var i,u,a,c,l,s,f,d,m,g,p,v,b,y,w,x,S=e.getWin(),C=Uo(e),T=Zo(e),k=(i=Df(S),{clearstate:(p=i,v=C,b=T,y=r,w=La(),(u={clearstate:x=w.clear,mousedown:function(e){y.clear(v),Af(e.target,b).each(w.set)},mouseover:function(e){P(e)},mouseup:function(e){P(e),x()}}).clearstate),mousedown:u.mousedown,mouseover:u.mouseover,mouseup:u.mouseup}),O=(g=Df(S),{keydown:function(e,t,n,r,o,i){var u=e.raw,a=u.which,c=!0===u.shiftKey;return nr(f,m.selectedSelector).fold((function(){return Pf(a)&&!c&&m.clearBeforeUpdate(f),fd(a)&&c?h(Of,g,f,d,cd,r,t,m.selectRange):sd(a)&&c?h(Of,g,f,d,ld,r,t,m.selectRange):fd(a)?h(Cf,g,d,cd,r,t,kf):sd(a)?h(Cf,g,d,ld,r,t,Tf):q.none}),(function(e){function t(t){return function(){return W(t,(function(t){return n=t.rows,r=t.cols,o=f,or(e,n,r,(i=m).firstSelectedSelector,i.lastSelectedSelector).map((function(e){return i.clearBeforeUpdate(o),i.selectRange(o,e.boxes,e.start,e.finish),e.boxes}));var n,r,o,i})).fold((function(){return rr(f,m.firstSelectedSelector,m.lastSelectedSelector).map((function(e){var t=fd(a)||i.isForward(a)?Fs.after:Fs.before;return g.setRelativeSelection(Fs.on(e.first,0),t(e.table)),m.clear(f),jf(q.none(),!0)}))}),(function(e){return q.some(jf(q.none(),!0))}))}}return fd(a)&&c?t([_f(1,0)]):sd(a)&&c?t([_f(-1,0)]):i.isBackward(a)&&c?t([_f(0,-1),_f(-1,0)]):i.isForward(a)&&c?t([_f(0,1),_f(1,0)]):Pf(a)&&!c?R:q.none}))()},keyup:function(e,t,n,r,o){return nr(f,m.selectedSelector).fold((function(){var i,u,a,c,l,s=e.raw,g=s.which;return!0===s.shiftKey&&Pf(g)?(i=f,u=d,l=m.selectRange,ae(a=t,c=r)&&n===o?q.none():Rt(a,"td,th",u).bind((function(e){return Rt(c,"td,th",u).bind((function(t){return Wf(i,u,e,t,l)}))}))):q.none()}),q.none)}}),A=(a=f=C,c=d=T,l=m=r,s=Df(S),function(e,t){l.clearBeforeUpdate(a),tr(e,t,c).each((function(e){var n=e.boxes.getOr([]);l.selectRange(a,n,e.start,e.finish),s.selectContents(t),s.collapseSelection()}))});function R(){return m.clear(f),q.none()}function P(e){w.on((function(t){y.clearBeforeUpdate(v),Af(e.target,b).each((function(n){tr(t,n,b).each((function(t){var r,o,i,u=t.boxes.getOr([]);1===u.length?(r=u[0],o="false"===nl(r),i=Bt(Ai(e.target),r,ae),o&&i&&(y.selectRange(v,u,r,r),p.selectContents(r))):1<u.length&&(y.selectRange(v,u,t.start,t.finish),p.selectContents(n))}))}))}))}function D(t,n){!0===t.raw.shiftKey&&(n.kill&&t.kill(),n.selection.each((function(t){var n=Ms.relative(t.start,t.finish),r=hc(S,n);e.selection.setRng(r)})))}function _(e){return 0===e.button}e.on("TableSelectorChange",(function(e){return A(e.start,e.finish)}));var E,N,F=(E=Ma(He.fromDom(C)),N=Ma(0),{touchEnd:function(e){var t,n,r=He.fromDom(e.target);"td"!==Ge(r)&&"th"!==Ge(r)||(t=E.get(),n=N.get(),ae(t,r)&&e.timeStamp-n<300&&(e.preventDefault(),A(r,r))),E.set(r),N.set(e.timeStamp)}});e.on("dragstart",(function(e){k.clearstate()})),e.on("mousedown",(function(e){_(e)&&Ef(e)&&k.mousedown(Jc(e))})),e.on("mouseover",(function(e){var t;(void 0===(t=e).buttons||gd.browser.isEdge()&&0===t.buttons||0!=(1&t.buttons))&&Ef(e)&&k.mouseover(Jc(e))})),e.on("mouseup",(function(e){_(e)&&Ef(e)&&k.mouseup(Jc(e))})),e.on("touchend",F.touchEnd),e.on("keyup",(function(t){var n,r,o,i=Jc(t);i.raw.shiftKey&&Pf(i.raw.which)&&(n=e.selection.getRng(),r=He.fromDom(n.startContainer),o=He.fromDom(n.endContainer),O.keyup(i,r,n.startOffset,o,n.endOffset).each((function(e){D(i,e)})))})),e.on("keydown",(function(n){var r=Jc(n);t().each((function(e){return e.hideBars()}));var o=e.selection.getRng(),i=He.fromDom(o.startContainer),u=He.fromDom(o.endContainer),a=wr(dd,md)(He.fromDom(e.selection.getStart()));O.keydown(r,i,o.startOffset,u,o.endOffset,a).each((function(e){D(r,e)})),t().each((function(e){return e.showBars()}))})),e.on("NodeChange",(function(){var t=e.selection;Jn(tn,[He.fromDom(t.getStart()),He.fromDom(t.getEnd())]).fold((function(){return r.clear(C)}),o)}))})),{clear:r.clear}}function hd(e,t){function n(e){return g.forall((function(t){return!t[e]}))}function r(){return Ic(Yo(e),Zo(e)).bind((function(n){return It(tn(n),Ic(He.fromDom(e.selection.getEnd()),Zo(e)).bind(tn),(function(e,r){return ae(e,r)?p(n)?q.some({element:o=n,mergable:q.none(),unmergable:q.none(),selection:[o]}):q.some(Jo(t,e,n)):q.none();var o})).bind(u)}))}function o(e){return tn(e.element).map((function(t){var n=Vn.fromTable(t),r=_(Ru(n,e).getOr([]),(function(e,t){return t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e}),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:_u(n,e).isSome(),unmergeable:Eu(n,e).isSome(),locked:r}}))}function i(){d.set(G(r)()),g=d.get().bind(o),A(m.get(),(function(e){return e()}))}function a(e){return e(),m.set(m.get().concat([e])),function(){m.set(P(m.get(),(function(t){return t!==e})))}}function c(e,t){return a((function(){return d.get().fold((function(){e.setDisabled(!0)}),(function(n){e.setDisabled(t(n))}))}))}function l(e,t,n){return a((function(){return d.get().fold((function(){e.setDisabled(!0),e.setActive(!1)}),(function(r){e.setDisabled(t(r)),e.setActive(n(r))}))}))}function s(e){return g.exists((function(t){return t.locked[e]}))}function f(t,n){return function(r){return l(r,(function(e){return p(e.element)}),(function(){return e.queryCommandValue(t)===n}))}}var d=Ma(q.none()),m=Ma([]),g=q.none(),p=et("caption"),h=f("mceTableRowType","header"),v=f("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",i),{onSetupTable:function(e){return c(e,(function(e){return!1}))},onSetupCellOrRow:function(e){return c(e,(function(e){return p(e.element)}))},onSetupColumn:function(e){return function(t){return c(t,(function(t){return p(t.element)||s(e)}))}},onSetupPasteable:function(e){return function(t){return c(t,(function(t){return p(t.element)||e().isNone()}))}},onSetupPasteableColumn:function(e,t){return function(n){return c(n,(function(n){return p(n.element)||e().isNone()||s(t)}))}},onSetupMergeable:function(e){return c(e,(function(e){return n("mergeable")}))},onSetupUnmergeable:function(e){return c(e,(function(e){return n("unmergeable")}))},resetTargets:i,onSetupTableWithCaption:function(t){return l(t,y,(function(t){return tn(t.element,Zo(e)).exists((function(e){return Ot(e,"caption").isSome()}))}))},onSetupTableRowHeaders:h,onSetupTableColumnHeaders:v,targets:d.get}}Kr.add("table",(function(e){var t,n,r,u,a,l,s,f,d,m,g,p,h=(t=function(){return Uo(e)},n=function(){return Lc(Yo(e),Zo(e))},r=Mc.selectedSelector,{get:function(){return Wr(t(),r).fold((function(){return n().fold(qr,Vr)}),(function(e){return Ur(e)}))}}),v=hd(e,h),b=function(e){function t(e){return"TABLE"===e.nodeName}function n(t){return iu(e,t)}function r(){return(eu(e)?li:ci)()}var o,u,a=q.none(),l=q.none(),s=q.none();return e.on("init",(function(){var t,o,u,f,d,m,g,p,h,v,b,y,w,x,S=(o=au,(t=e).inline?(m=Uo(t),Wt(p=He.fromTag("div"),{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Zn(xt(He.fromDom(document)),p),g=o,{parent:i(p),view:i(m),origin:i(to(0,0)),isResizable:g}):vc(He.fromDom(t.getDoc()),o));s=q.some(S),d=e.getParam("object_resizing",!0),(c(d)?"table"===d:d)&&e.getParam("table_resize_bars",!0,"boolean")&&(u=r(),h=u,v=n,b=ro,y=io,w=Bi(S),x=vi({beforeResize:hi(["table","type"]),afterResize:hi(["table","type"]),startDrag:hi([])}),w.events.adjustHeight.bind((function(e){var t=e.table;x.trigger.beforeResize(t,"row");var n,r,o,i,u,a,c,l,s,f=b.delta(e.delta,t);n=t,r=f,o=e.row,i=b,l=O(Ro(c=Vn.fromTable(n),n,i,yo,(function(e){return e.getOrThunk($n)})),(function(e,t){return o===t?Math.max(r+e,$n()):e})),u=l,s=O(Vn.justCells(c),(function(e){var t=ni(e.row,e.row+e.rowspan,u);return{element:e.element,height:t,rowspan:e.rowspan}})),A((a=l,O(c.all,(function(e,t){return{element:e.element,height:a[t]}}))),(function(e){mo(e.element,e.height)})),A(s,(function(e){mo(e.element,e.height)})),mo(n,D(l,(function(e,t){return e+t}),0)),x.trigger.afterResize(t,"row")})),w.events.startAdjust.bind((function(e){x.trigger.startDrag()})),w.events.adjustWidth.bind((function(e){var t=e.table;x.trigger.beforeResize(t,"col");var n=y.delta(e.delta,t),r=v(t);oi(t,n,e.column,h,r),x.trigger.afterResize(t,"col")})),(f={on:w.on,off:w.off,hideBars:w.hideBars,showBars:w.showBars,destroy:w.destroy,events:x.registry}).on(),f.events.startDrag.bind((function(t){a=q.some(e.selection.getRng())})),f.events.beforeResize.bind((function(t){var n,r=t.table.dom,o=e,i=Vo(n=r),u=Ko(r),a=xl+t.type;o.fire("ObjectResizeStart",{target:n,width:i,height:u,origin:a})})),f.events.afterResize.bind((function(t){var n,r,o,i,u,c=t.table,l=c.dom;Go(c),a.each((function(t){e.selection.setRng(t),e.focus()})),n=e,o=Vo(r=l),i=Ko(l),u=xl+t.type,n.fire("ObjectResized",{target:r,width:o,height:i,origin:u}),e.undoManager.add()})),l=q.some(f))})),e.on("ObjectResizeStart",(function(n){var r,i,a,c,l=n.target;t(l)&&(r=He.fromDom(l),A(e.dom.select(".mce-clonedresizable"),(function(t){e.dom.addClass(t,"mce-"+Ji(e)+"-columns")})),!yc(r)&&hl(e)?yl(r):!bc(r)&&Yi(e)&&bl(r),wc(r)&&Re(n.origin,xl)&&bl(r),o=n.width,u=vl(e)?"":(c=(i=e).dom.getStyle(a=l,"width")||i.dom.getAttrib(a,"width"),q.from(c).filter(te).getOr("")))})),e.on("ObjectResized",(function(i){var a,c,l,s,f,d,m,g,p,h,v=i.target;t(v)&&(a=He.fromDom(v),c=i.origin,Re(c,"corner-")&&(l=a,s=i.width,h=ee(c,"e"),""===u&&bl(l),s!==o&&""!==u?($t(l,"width",u),f=r(),d=n(l),m=eu(e)||h?pi(l).columns-1:0,oi(l,s-o,m,f,d)):/^(\d+(\.\d+)?)%$/.test(u)&&$t(l,"width",s*parseFloat(u.replace("%",""))/o+"%"),/^(\d+(\.\d+)?)px$/.test(u)&&(p=Vn.fromTable(g=l),Vn.hasColumns(p)||A(Jt(g),(function(e){$t(e,"width",Ht(e,"width")),Ln(e,"width")})))),Go(a),Li(e,a.dom,cl))})),e.on("SwitchMode",(function(){l.each((function(t){e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),{lazyResize:function(){return l},lazyWire:function(){return s.getOr(vc(He.fromDom(e.getBody()),au))},destroy:function(){l.each((function(e){e.destroy()})),s.each((function(t){var n=t;e.inline&&Xn(n.parent())}))}}}(e),y=pd(e,b.lazyResize,v),x=function(e,t,n){function r(e){return"table"===Ge(Uo(e))}function i(n,r,o,i,a){return function(c,l,s){void 0===s&&(s=!1),Go(c);var f=i(),d=He.fromDom(e.getDoc()),m=Wo(o,d,u),g={sizing:iu(e,c),resize:(tu(e)?ci:li)(),section:function(t){switch(Qi(e)){case"section":return Rl();case"sectionCells":return Pl();case"cells":return Dl();default:return function(e,t){switch(W(Vn.fromTable(e).all,(function(e){var t=du(e);return"header"===t.type?q.from(t.subType):q.none()})).getOr("section")){case"section":return pu();case"sectionCells":return hu();case"cells":return vu()}}(t)}}(c)};return r(c)?n(f,c,l,m,g).bind((function(n){A(n.newRows,(function(t){Mi(e,t.dom)})),A(n.newCells,(function(t){Ii(e,t.dom)}));var r,o=(r=c,n.cursor.fold((function(){return z(Jt(r)).filter(wt).map((function(n){t.clear(r);var o=e.dom.createRng();return o.selectNode(n.dom),e.selection.setRng(o),Dt(n,"data-mce-selected","1"),o}))}),(function(n){var o=Tl(kl,n),i=e.dom.createRng();return i.setStart(o.element.dom,o.offset),i.setEnd(o.element.dom,o.offset),e.selection.setRng(i),t.clear(r),q.some(i)})));return wt(c)&&(Go(c),s||Li(e,c.dom,a)),o.map((function(e){return{rng:e,effect:a}}))})):q.none()}}var u=nu(e),a=tu(e)?o:su;return{deleteRow:i(Zl,(function(t){return!1===r(e)||1<pi(t).rows}),o,n,ll),deleteColumn:i(Kl,(function(t){return!1===r(e)||1<pi(t).columns}),o,n,ll),insertRowsBefore:i(Hl,w,o,n,ll),insertRowsAfter:i(ql,w,o,n,ll),insertColumnsBefore:i(Ul,w,a,n,ll),insertColumnsAfter:i(Vl,w,a,n,ll),mergeCells:i(ns,w,o,n,ll),unmergeCells:i(rs,w,o,n,ll),pasteColsBefore:i(is,w,o,n,ll),pasteColsAfter:i(us,w,o,n,ll),pasteRowsBefore:i(as,w,o,n,ll),pasteRowsAfter:i(cs,w,o,n,ll),pasteCells:i(os,w,o,n,sl),makeCellsHeader:i(es,w,o,n,ll),unmakeCellsHeader:i(ts,w,o,n,ll),makeColumnsHeader:i(Xl,w,o,n,ll),unmakeColumnsHeader:i(Gl,w,o,n,ll),makeRowsHeader:i(Yl,w,o,n,ll),makeRowsBody:i(Ql,w,o,n,ll),makeRowsFooter:i(Jl,w,o,n,ll),getTableRowType:ls,getTableCellType:wa,getTableColType:ya}}(e,y,b.lazyWire),S=(u=La(),a=La(),{getRows:u.get,setRows:function(e){e.fold(u.clear,u.set),a.clear()},clearRows:u.clear,getColumns:a.get,setColumns:function(e){e.fold(a.clear,a.set),u.clear()},clearColumns:a.clear});return ac(e,x,0,h,S),m=x,g=h,p=Zo(d=e),le({mceTableRowType:function(){return T(m.getTableRowType)},mceTableCellType:function(){return T(m.getTableCellType)},mceTableColType:function(){return T(m.getTableColType)}},(function(e,t){return d.addQueryValueHandler(t,e)})),ti(e,h,x),function(e,t,n,r){function o(t){return function(){return e.execCommand(t)}}function u(t){e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})}var a={text:"Table properties",onSetup:n.onSetupTable,onAction:o("mceTableProps")},c={text:"Delete table",icon:"table-delete-table",onSetup:n.onSetupTable,onAction:o("mceTableDelete")};e.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:o("mceTableInsertRowBefore"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:o("mceTableInsertRowAfter"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:o("mceTableDeleteRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:o("mceTableRowProps"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:o("mceTableCutRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:o("mceTableCopyRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:o("mceTablePasteRowBefore"),onSetup:n.onSetupPasteable(r.getRows)}),e.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:o("mceTablePasteRowAfter"),onSetup:n.onSetupPasteable(r.getRows)});var l={type:"nestedmenuitem",text:"Row",getSubmenuItems:i("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};e.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:o("mceTableInsertColBefore"),onSetup:n.onSetupColumn("onFirst")}),e.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:o("mceTableInsertColAfter"),onSetup:n.onSetupColumn("onLast")}),e.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:o("mceTableDeleteCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:o("mceTableCutCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:o("mceTableCopyCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:o("mceTablePasteColBefore"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onFirst")}),e.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:o("mceTablePasteColAfter"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onLast")});var s={type:"nestedmenuitem",text:"Column",getSubmenuItems:i("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};e.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:o("mceTableCellProps"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:o("mceTableMergeCells"),onSetup:n.onSetupMergeable}),e.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:o("mceTableSplitCells"),onSetup:n.onSetupUnmergeable});var f={type:"nestedmenuitem",text:"Cell",getSubmenuItems:i("tablecellprops tablemergecells tablesplitcells")};!1===e.getParam("table_grid",!0,"boolean")?e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:o("mceInsertTable")}):e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:u}]}}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:o("mceInsertTable")}),e.ui.registry.addMenuItem("tableprops",a),e.ui.registry.addMenuItem("deletetable",c),e.ui.registry.addNestedMenuItem("row",l),e.ui.registry.addNestedMenuItem("column",s),e.ui.registry.addNestedMenuItem("cell",f),e.ui.registry.addContextMenu("table",{update:function(){return n.resetTargets(),n.targets().fold(i(""),(function(e){return"caption"===Ge(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}});var d=ys(Gi(e));0!==d.length&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return bs(e,t,d,"tableclass",(function(t){return e.execCommand("mceTableToggleClass",!1,t)}))},onSetup:n.onSetupTable});var m=ys(Xi(e));0!==m.length&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return bs(e,t,m,"tablecellclass",(function(t){return e.execCommand("mceTableCellToggleClass",!1,t)}))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return bs(e,t,ds,"tablecellverticalalign",za(e,"vertical-align"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return bs(e,t,$i(e),"tablecellborderwidth",za(e,"border-width"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return bs(e,t,Wi(e),"tablecellborderstyle",za(e,"border-style"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:o("mceTableToggleCaption"),onSetup:n.onSetupTableWithCaption}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return Wa(e,ru(e),"background-color")},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return Wa(e,ou(e),"border-color")},onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:Ha(e),onSetup:n.onSetupTableRowHeaders}),e.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:qa(e),onSetup:n.onSetupTableColumnHeaders})}(e,h,v,S),function(e,t,n,r){function o(t){return function(){return e.execCommand(t)}}e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable | cell row column | advtablesort | tableprops deletetable")}}),e.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:o("mceTableProps"),icon:"table",onSetup:n.onSetupTable}),e.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:o("mceTableDelete"),icon:"table-delete-table",onSetup:n.onSetupTable}),e.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:o("mceTableCellProps"),icon:"table-cell-properties",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:o("mceTableMergeCells"),icon:"table-merge-cells",onSetup:n.onSetupMergeable}),e.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:o("mceTableSplitCells"),icon:"table-split-cells",onSetup:n.onSetupUnmergeable}),e.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:o("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:o("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:o("mceTableDeleteRow"),icon:"table-delete-row",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:o("mceTableRowProps"),icon:"table-row-properties",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:o("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:n.onSetupColumn("onFirst")}),e.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:o("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:n.onSetupColumn("onLast")}),e.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:o("mceTableDeleteCol"),icon:"table-delete-column",onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:o("mceTableCutRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:o("mceTableCopyRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:o("mceTablePasteRowBefore"),onSetup:n.onSetupPasteable(r.getRows)}),e.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:o("mceTablePasteRowAfter"),onSetup:n.onSetupPasteable(r.getRows)}),e.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:o("mceTableCutCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:o("mceTableCopyCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:o("mceTablePasteColBefore"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onFirst")}),e.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:o("mceTablePasteColAfter"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onLast")}),e.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:o("mceInsertTable"),icon:"table"});var i=ys(Gi(e));0!==i.length&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:$a(e,t,i,"tableclass",(function(t){return e.execCommand("mceTableToggleClass",!1,t)})),onSetup:n.onSetupTable});var u=ys(Xi(e));0!==u.length&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:$a(e,t,u,"tablecellclass",(function(t){return e.execCommand("mceTableCellToggleClass",!1,t)})),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:$a(e,t,ds,"tablecellverticalalign",za(e,"vertical-align")),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:$a(e,t,$i(e),"tablecellborderwidth",za(e,"border-width")),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:$a(e,t,Wi(e),"tablecellborderstyle",za(e,"border-style")),onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:o("mceTableToggleCaption"),icon:"table-caption",onSetup:n.onSetupTableWithCaption}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(t){return t(Wa(e,ru(e),"background-color"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(t){return t(Wa(e,ou(e),"border-color"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:Ha(e),onSetup:n.onSetupTableRowHeaders}),e.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:qa(e),onSetup:n.onSetupTableColumnHeaders})}(e,h,v,S),0<(f=(s=e).getParam("table_toolbar","tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol")).length&&s.ui.registry.addContextToolbar("table",{predicate:function(e){return s.dom.is(e,"table")&&s.getBody().contains(e)},items:f,scope:"node",position:"node"}),e.on("PreInit",(function(){e.serializer.addTempAttr(Mc.firstSelected),e.serializer.addTempAttr(Mc.lastSelected),e.formatter.register(Rs)})),e.getParam("table_tab_navigation",!0,"boolean")&&e.on("keydown",(function(t){var n,r,o,i,u=e,a=y;(n=t).keyCode===Mf.TAB&&(r=Uo(u),o=function(e){var t=Ge(e);return ae(e,r)||C(Lf,t)},i=u.selection.getRng(),Qt(He.fromDom(n.shiftKey?i.startContainer:i.endContainer),o).each((function(e){n.preventDefault(),tn(e,o).each(a.clear),u.selection.collapse(n.shiftKey),(n.shiftKey?function(e,t,n){return If(e,t,(o=Ri,cc(r=n,void 0).fold((function(){return Ds.none()}),(function(e){return _s(e.all,r,e.index,-1,o)}))));var r,o}:rf)(u,o,e).each((function(e){u.selection.setRng(e)}))})))})),e.on("remove",(function(){b.destroy()})),{insertTable:(l=e,function(e,t,n){var r=Ta(l,t,e,n=void 0===n?{}:n,"Invalid values for insertTable - rows and columns values are required to insert a table.");return l.undoManager.add(),r}),setClipboardRows:Oa(S.setRows),getClipboardRows:ka(S.getRows),setClipboardCols:Oa(S.setColumns),getClipboardCols:ka(S.getColumns),resizeHandler:b,selectionTargets:v};function T(e){return Lc(Yo(d)).bind((function(t){return tn(t,p).map((function(n){var r=Jo(g,n,t);return e(n,r)}))})).getOr("")}}))}()},73106:function(e,t,n){n(41943)},41943:function(){!function(){"use strict";var e,t,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(e){return function(t){return typeof t===e}},o=function(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}}("string"),i=r("boolean"),u=r("number"),a=function(){},c=function(e){return function(){return e}},l=function(e){return e},s=c(!1),f=c(!0),d=function(){return m},m={fold:function(e,t){return e()},isSome:s,isNone:f,getOr:t=l,getOrThunk:e=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:c(null),getOrUndefined:c(void 0),or:t,orThunk:e,map:d,each:a,bind:d,exists:s,forall:f,filter:function(){return d()},toArray:function(){return[]},toString:c("none()")},g=function(e){var t=c(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:f,isNone:s,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return g(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:m},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},p=function(e){return null==e?m:g(e)},h=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},v=Object.keys,b=function(e,t){for(var n=v(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}};"undefined"!=typeof window?window:Function("return this;")();var y,w=function(e){return e.dom.nodeValue},x=(y=3,function(e){return function(e){return e.dom.nodeType}(e)===y}),S=function(e,t,n){!function(e,t,n){if(!(o(n)||i(n)||u(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)},C=function(e,t){e.dom.removeAttribute(t)},T=function(e,t){var n=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n}(e,t);return void 0===n||""===n?[]:n.split(" ")},k=function(e){return void 0!==e.dom.classList},O=function(e,t){return function(e,t,n){var r=T(e,t).concat([n]);return S(e,t,r.join(" ")),!0}(e,"class",t)},A=function(e,t){return function(e,t,n){var r=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}(T(e,t),(function(e){return e!==n}));return r.length>0?S(e,t,r.join(" ")):C(e,t),!1}(e,"class",t)},R=function(e){var t=k(e)?e.dom.classList:function(e){return T(e,"class")}(e);0===t.length&&C(e,"class")},P=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},D={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return P(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return P(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return P(n)},fromDom:P,fromPoint:function(e,t,n){return p(e.dom.elementFromPoint(t,n)).map(P)}},_={"":"nbsp","":"shy"},E=function(e,t){var n="";return b(e,(function(e,t){n+=t})),new RegExp("["+n+"]",t?"g":"")},N=E(_),F=E(_,!0),B=function(e){var t="";return b(e,(function(e){t&&(t+=","),t+="span.mce-"+e})),t}(_),M="mce-nbsp",I=function(e){return'<span data-mce-bogus="1" class="mce-'+_[e]+'">'+e+"</span>"},L=function(e){var t=w(e);return x(e)&&void 0!==t&&N.test(t)},j=function(e,t){var n=[],r=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}(e.dom.childNodes,D.fromDom);return h(r,(function(e){t(e)&&(n=n.concat([e])),n=n.concat(j(e,t))})),n},z=function(e){return"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap")},$=function(e,t){var n=j(D.fromDom(t),L);h(n,(function(t){var n,r,o=t.dom.parentNode;if(z(o))n=D.fromDom(o),r=M,k(n)?n.dom.classList.add(r):O(n,r);else{for(var i=e.dom.encode(w(t)).replace(F,I),u=e.dom.create("div",null,i),a=void 0;a=u.lastChild;)e.dom.insertAfter(a,t.dom);e.dom.remove(t.dom)}}))},W=function(e,t){var n=e.dom.select(B,t);h(n,(function(t){var n,r;z(t)?(n=D.fromDom(t),r=M,k(n)?n.dom.classList.remove(r):A(n,r),R(n)):e.dom.remove(t,!0)}))},H=function(e){var t=e.getBody(),n=e.selection.getBookmark(),r=function(e,t){for(;e.parentNode;){if(e.parentNode===t)return e;e=e.parentNode}}(e.selection.getNode(),t);W(e,r=void 0!==r?r:t),$(e,r),e.selection.moveToBookmark(n)},q=function(e,t){!function(e,t){e.fire("VisualChars",{state:t})}(e,t.get());var n=e.getBody();!0===t.get()?$(e,n):W(e,n)},U=function(e,t){e.addCommand("mceVisualChars",(function(){!function(e,t){t.set(!t.get());var n=e.selection.getBookmark();q(e,t),e.selection.moveToBookmark(n)}(e,t)}))},V=tinymce.util.Tools.resolve("tinymce.util.Delay"),K=function(e,t){return function(n){n.setActive(t.get());var r=function(e){return n.setActive(e.state)};return e.on("VisualChars",r),function(){return e.off("VisualChars",r)}}};n.add("visualchars",(function(e){var t=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}(function(e){return e.getParam("visualchars_default_state",!1)}(e));return U(e,t),function(e,t){var n=function(){return e.execCommand("mceVisualChars")};e.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:K(e,t)}),e.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:K(e,t)})}(e,t),function(e,t){var n=V.debounce((function(){H(e)}),300);(function(e){return!1!==e.getParam("forced_root_block")})(e)&&e.on("keydown",(function(r){!0===t.get()&&(13===r.keyCode?H(e):n())})),e.on("remove",n.stop)}(e,t),function(e,t){e.on("init",(function(){q(e,t)}))}(e,t),function(e){return{isEnabled:function(){return e.get()}}}(t)}))}()},25234:function(){!function(){"use strict";function e(e){return function(t){return typeof t===e}}function t(e){return function(){return e}}function n(e){return e}function r(){return s}var o,i=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=e("boolean"),a=e("number"),c=t(!(o="string")),l=t(!0),s={fold:function(e,t){return e()},isSome:c,isNone:l,getOr:n,getOrThunk:f,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:t(null),getOrUndefined:t(void 0),or:n,orThunk:f,map:r,each:function(){},bind:r,exists:c,forall:l,filter:function(){return s},toArray:function(){return[]},toString:t("none()")};function f(e){return e()}function d(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function m(e,t){for(var n=p(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}var g=function(e){function n(){return i}function r(t){return t(e)}var o=t(e),i={fold:function(t,n){return n(e)},isSome:l,isNone:c,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:n,orThunk:n,map:function(t){return g(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:s},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},p=Object.keys;function h(e){return e.dom.nodeValue}function v(e,t,n){!function(e,t,n){if(!(function(e){return n=typeof(t=e),(null===t?"null":"object"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n)===o;var t,n}(n)||u(n)||a(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)}function b(e,t){e.dom.removeAttribute(t)}function y(e,t){var n,r=null===(n=e.dom.getAttribute(t))?void 0:n;return void 0===r||""===r?[]:r.split(" ")}function w(e){return void 0!==e.dom.classList}function x(e,t){var n="";return m(e,(function(e,t){n+=t})),new RegExp("["+n+"]",t?"g":"")}function S(e){return'<span data-mce-bogus="1" class="mce-'+F[e]+'">'+e+"</span>"}function C(e){var t=h(e);return E(e)&&void 0!==t&&B.test(t)}function T(e){return"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap")}function k(e,t){d(j(N.fromDom(t),C),(function(t){var n,r,o,i,u,a=t.dom.parentNode;if(T(a))n=N.fromDom(a),r=L,w(n)?n.dom.classList.add(r):(i=r,u=y(o=n,"class").concat([i]),v(o,"class",u.join(" ")));else{for(var c,l=e.dom.encode(h(t)).replace(M,S),s=e.dom.create("div",null,l);c=s.lastChild;)e.dom.insertAfter(c,t.dom);e.dom.remove(t.dom)}}))}function O(e,t){d(e.dom.select(I,t),(function(t){var n,r,o;T(t)?(n=N.fromDom(t),r=L,w(n)?n.dom.classList.remove(r):function(e,t){return r=t,0<(o=function(e){for(var t=[],n=0,o=e.length;n<o;n++){var i=e[n];i!==r&&t.push(i)}return t}(y(n=e,"class"))).length?v(n,"class",o.join(" ")):b(n,"class"),0;var n,r,o}(n,r),0===(w(o=n)?o.dom.classList:y(o,"class")).length&&b(o,"class")):e.dom.remove(t,!0)}))}function A(e){var t=e.getBody(),n=e.selection.getBookmark(),r=function(e,t){for(;e.parentNode;){if(e.parentNode===t)return e;e=e.parentNode}}(e.selection.getNode(),t);O(e,r=void 0!==r?r:t),k(e,r),e.selection.moveToBookmark(n)}function R(e,t){var n=e,r=t.get();n.fire("VisualChars",{state:r});var o=e.getBody();(!0===t.get()?k:O)(e,o)}function P(e,t){return function(n){function r(e){return n.setActive(e.state)}return n.setActive(t.get()),e.on("VisualChars",r),function(){return e.off("VisualChars",r)}}}function D(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}}"undefined"!=typeof window||Function("return this;")();var _,E=function(e){return 3===e.dom.nodeType},N={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return D(n.childNodes[0])},fromTag:function(e,t){return D((t||document).createElement(e))},fromText:function(e,t){return D((t||document).createTextNode(e))},fromDom:D,fromPoint:function(e,t,n){return(null==(r=e.dom.elementFromPoint(t,n))?s:g(r)).map(D);var r}},F={"":"nbsp","":"shy"},B=x(F),M=x(F,!0),I=(_="",m(F,(function(e){_&&(_+=","),_+="span.mce-"+e})),_),L="mce-nbsp",j=function(e,t){var n=[];return d(function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}(e.dom.childNodes,N.fromDom),(function(e){n=(n=t(e)?n.concat([e]):n).concat(j(e,t))})),n},z=tinymce.util.Tools.resolve("tinymce.util.Delay");i.add("visualchars",(function(e){var t,n,r,o,i,u,a,c,l,s,f=(t=e.getParam("visualchars_default_state",!1),n=t,{get:function(){return n},set:function(e){n=e}});function d(){return r.execCommand("mceVisualChars")}return function(e,t){e.addCommand("mceVisualChars",(function(){!function(e,t){t.set(!t.get());var n=e.selection.getBookmark();R(e,t),e.selection.moveToBookmark(n)}(e,t)}))}(e,f),(r=e).ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:d,onSetup:P(r,o=f)}),r.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:d,onSetup:P(r,o)}),i=e,u=f,a=z.debounce((function(){A(i)}),300),!1!==i.getParam("forced_root_block")&&i.on("keydown",(function(e){!0===u.get()&&(13===e.keyCode?A(i):a())})),i.on("remove",a.stop),l=f,(c=e).on("init",(function(){R(c,l)})),s=f,{isEnabled:function(){return s.get()}}}))}()},43356:function(e,t,n){n(43562)},43562:function(){!function(){"use strict";var e,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return e},r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o="[-'\\.]",i="[:]",u="[+*/,;;]",a="[0-9---------------------------------]",c="\\r",l="\\n",s="[\v\f\u2028\u2029]",f="[------------------------------------------------------------------------------------------------------]",d="[----\ufeff-]",m="[-------]",g="[=_--<>]",p="[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]",h=0,v=1,b=2,y=3,w=4,x=5,S=6,C=7,T=8,k=9,O=10,A=11,R=12,P=13,D=[new RegExp("[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),new RegExp(o),new RegExp(i),new RegExp(u),new RegExp(a),new RegExp(c),new RegExp(l),new RegExp(s),new RegExp(f),new RegExp(d),new RegExp(m),new RegExp(g),new RegExp("@")],_=new RegExp("^"+p+"$"),E=D,N=P,F=function(e){for(var t=N,n=E.length,r=0;r<n;++r){var o=E[r];if(o&&o.test(e)){t=r;break}}return t},B=function(e){var t,n;return function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}(e,(t=F,n={},function(e){if(n[e])return n[e];var r=t(e);return n[e]=r,r}))},M=function(e,t){var n=e[t],r=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===h&&r===h)return!1;var o=e[t+2];if(n===h&&(r===b||r===v||r===R)&&o===h)return!1;var i=e[t-1];return(n!==b&&n!==v&&r!==R||r!==h||i!==h)&&((n!==w&&n!==h||r!==w&&r!==h)&&((n!==y&&n!==v||r!==w||i!==w)&&((n!==w||r!==y&&r!==v||o!==w)&&(n!==T&&n!==k&&i!==T&&i!==k&&r!==T&&r!==k&&((n!==x||r!==S)&&(n===C||n===x||n===S||(r===C||r===x||r===S||(n!==O||r!==O)&&((r!==A||n!==h&&n!==w&&n!==O&&n!==A)&&((n!==A||r!==h&&r!==w&&r!==O)&&n!==R)))))))))},I=/^\s+$/,L=_,j=function(e){return"http"===e||"https"===e},z=function(e,t){var n=function(e,t){var n;for(n=t;n<e.length&&!I.test(e[n]);n++);return n}(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},$=function(e,t,n){n=r(r({},{includeWhitespace:!1,includePunctuation:!1}),n);for(var o=[],i=[],u=0;u<e.length;u++){var a=t(e[u]);"\ufeff"!==a&&(o.push(e[u]),i.push(a))}return function(e,t,n,r){for(var o=[],i=[],u=0;u<n.length;++u)if(i.push(e[u]),M(n,u)){var a=t[u];if((r.includeWhitespace||!I.test(a))&&(r.includePunctuation||!L.test(a))){var c=u-i.length+1,l=u+1,s=t.slice(c,l).join("");if(j(s)){var f=z(t,u),d=e.slice(l,f);Array.prototype.push.apply(i,d),u=f}o.push(i)}i=[]}return o}(o,i,B(i),n)},W=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),H=function(e,t){for(var n=t.getBlockElements(),r=t.getShortEndedElements(),o=function(e){return n[e.nodeName]||r[e.nodeName]},i=[],u="",a=new W(e,e);e=a.next();)3===e.nodeType?u+=e.data.replace(/\uFEFF/g,""):o(e)&&u.length&&(i.push(u),u="");return u.length&&i.push(u),i},q=function(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},U=function(e,t){var r=function(e){return e.replace(/\u200B/g,"")}(H(e,t).join("\n"));return $(r.split(""),n).length},V=function(e,t){var n=H(e,t).join("");return q(n)},K=function(e,t){var n=H(e,t).join("").replace(/\s/g,"");return q(n)},Z=function(e,t){return function(){return t(e.getBody(),e.schema)}},X=function(e,t){return function(){return t(e.selection.getRng().cloneContents(),e.schema)}},G=function(e){return Z(e,U)},Y=function(e,t){e.addCommand("mceWordCount",(function(){return function(e,t){e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})}(e,t)}))},Q=tinymce.util.Tools.resolve("tinymce.util.Delay"),J=function(e,t){!function(e,t){e.fire("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})}(e,t)};void 0===e&&(e=300),t.add("wordcount",(function(t){var n=function(e){return{body:{getWordCount:G(e),getCharacterCount:Z(e,V),getCharacterCountWithoutSpaces:Z(e,K)},selection:{getWordCount:X(e,U),getCharacterCount:X(e,V),getCharacterCountWithoutSpaces:X(e,K)},getCount:G(e)}}(t);return Y(t,n),function(e){var t=function(){return e.execCommand("mceWordCount")};e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t})}(t),function(e,t,n){var r=Q.debounce((function(){return J(e,t)}),n);e.on("init",(function(){J(e,t),Q.setEditorTimeout(e,(function(){e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",r)}),0)}))}(t,n,e),n}))}()},79339:function(){!function(){"use strict";function e(e){return e}function t(e){for(var t=v,n=h.length,r=0;r<n;++r){var o=h[r];if(o&&o.test(e)){t=r;break}}return t}function n(e,t){for(var n,r=t.getBlockElements(),o=t.getShortEndedElements(),i=[],u="",a=new x(e,e);e=a.next();)3===e.nodeType?u+=e.data.replace(/\uFEFF/g,""):(r[(n=e).nodeName]||o[n.nodeName])&&u.length&&(i.push(u),u="");return u.length&&i.push(u),i}function r(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}function o(t,r){var o=n(t,r).join("\n").replace(/\u200B/g,"");return w(o.split(""),e).length}function i(e,t){return r(n(e,t).join(""))}function u(e,t){return r(n(e,t).join("").replace(/\s/g,""))}function a(e,t){return function(){return t(e.getBody(),e.schema)}}function c(e,t){return function(){return t(e.selection.getRng().cloneContents(),e.schema)}}function l(e){return a(e,o)}function s(e,t){var n=t;e.fire("wordCountUpdate",{wordCount:{words:n.body.getWordCount(),characters:n.body.getCharacterCount(),charactersWithoutSpaces:n.body.getCharacterCountWithoutSpaces()}})}var f,d=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},g=[new RegExp("[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),new RegExp("[-'\\.]"),new RegExp("[:]"),new RegExp("[+*/,;;]"),new RegExp("[0-9---------------------------------]"),new RegExp("\\r"),new RegExp("\\n"),new RegExp("[\v\f\u2028\u2029]"),new RegExp("[------------------------------------------------------------------------------------------------------]"),new RegExp("[----\ufeff-]"),new RegExp("[-------]"),new RegExp("[=_--<>]"),new RegExp("@")],p=new RegExp("^[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]$"),h=g,v=13,b=/^\s+$/,y=p,w=function(e,n,r){r=m(m({},{includeWhitespace:!1,includePunctuation:!1}),r);for(var o=[],i=[],u=0;u<e.length;u++){var a=n(e[u]);"\ufeff"!==a&&(o.push(e[u]),i.push(a))}var c,l,s=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}(i,(c=t,l={},function(e){if(l[e])return l[e];var t=c(e);return l[e]=t}));return function(e,t,n,r){for(var o,i,u,a,c,l,s,f,d,m=[],g=[],p=0;p<n.length;++p)g.push(e[p]),function(e,t){var n=e[t],r=e[t+1];if(!(t<0||t>e.length-1&&0!==t||0===n&&0===r)){var o=e[t+2];if(0!==n||2!==r&&1!==r&&12!==r||0!==o){var i=e[t-1];return(2!==n&&1!==n&&12!==r||0!==r||0!==i)&&(4!==n&&0!==n||4!==r&&0!==r)&&(3!==n&&1!==n||4!==r||4!==i)&&(4!==n||3!==r&&1!==r||4!==o)&&8!==n&&9!==n&&8!==i&&9!==i&&8!==r&&9!==r&&(5!==n||6!==r)&&(7===n||5===n||6===n||7===r||5===r||6===r||(10!==n||10!==r)&&(11!==r||0!==n&&4!==n&&10!==n&&11!==n)&&(11!==n||0!==r&&4!==r&&10!==r)&&12!==n)}}}(n,p)&&(o=t[p],!r.includeWhitespace&&b.test(o)||!r.includePunctuation&&y.test(o)||(i=p-g.length+1,"http"!==(a=t.slice(i,u=p+1).join(""))&&"https"!==a||(f=p,d=function(e){for(var t=f+1;t<e.length&&!b.test(e[t]);t++);return t}(s=t),c="://"===s.slice(f+1,d).join("").substr(0,3)?d:f,l=e.slice(u,c),Array.prototype.push.apply(g,l),p=c),m.push(g)),g=[]);return m}(o,i,s,r)},x=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),S=tinymce.util.Tools.resolve("tinymce.util.Delay");void 0===f&&(f=300),d.add("wordcount",(function(e){var t,n,r,d,m,g,p,h={body:{getWordCount:l(e),getCharacterCount:a(e,i),getCharacterCountWithoutSpaces:a(e,u)},selection:{getWordCount:c(e,o),getCharacterCount:c(e,i),getCharacterCountWithoutSpaces:c(e,u)},getCount:l(e)};function v(){return t.execCommand("mceWordCount")}return p=h,(g=e).addCommand("mceWordCount",(function(){var e=p;g.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(e.body.getWordCount()),String(e.selection.getWordCount())],["Characters (no spaces)",String(e.body.getCharacterCountWithoutSpaces()),String(e.selection.getCharacterCountWithoutSpaces())],["Characters",String(e.body.getCharacterCount()),String(e.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})})),(t=e).ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:v}),t.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:v}),n=e,r=h,d=f,m=S.debounce((function(){return s(n,r)}),d),n.on("init",(function(){s(n,r),S.setEditorTimeout(n,(function(){n.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",m)}),0)})),h}))}()}}]);
//# sourceMappingURL=tinymce_plugins.6d4319de7e80f0b88152.min.js.map