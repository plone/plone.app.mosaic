{"version":3,"file":"chunks/96870.f7f28a30b26f9fbf4613.min.js","mappings":"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AGvBtF,EAAKqC,KAAKkD,aA1K1B,kD,kEA+KA,WACQ1F,KAAKwC,QACuB,IAAxBxC,KAAKD,QAAQwD,SAEbvD,KAAKC,IAAIoE,IAAIrE,KAAKwC,KAAKiD,cACvBvF,GAAAA,CAAE,IAAMF,KAAKwD,QAAQmC,SACrB3F,KAAKC,IAAIS,QAEbV,KAAKwC,KAAKoD,UACV5F,KAAKwC,UAAOyB,M,mFA1THpE,I,sBCPrB,IAAIgG,EAAM,CACT,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,OAAQ,CACP,KACA,OAED,UAAW,CACV,KACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,OAAQ,CACP,KACA,OAED,UAAW,CACV,KACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,UAAW,CACV,KACA,OAED,aAAc,CACb,KACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,QAAS,CACR,MACA,OAED,WAAY,CACX,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,OAAQ,CACP,KACA,OAED,UAAW,CACV,KACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,OAAQ,CACP,KACA,OAED,UAAW,CACV,KACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,OAAQ,CACP,KACA,OAED,UAAW,CACV,KACA,OAED,UAAW,CACV,KACA,OAED,aAAc,CACb,KACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,OAAQ,CACP,KACA,OAED,UAAW,CACV,KACA,OAED,OAAQ,CACP,MACA,OAED,UAAW,CACV,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,OAED,UAAW,CACV,MACA,OAED,aAAc,CACb,MACA,QAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAMX,EAAIE,GAAM9C,EAAKuD,EAAI,GAC7B,OAAOR,EAAoBK,EAAEG,EAAI,IAAIJ,MAAK,WACzC,OAAOJ,EAAoBS,EAAExD,EAAI,OAGnC6C,EAAoBY,KAAO,WAAa,OAAOC,OAAOD,KAAKb,IAC3DC,EAAoB7C,GAAK,MACzB2D,EAAOC,QAAUf","sources":["webpack://plone-mosaic/./node_modules/@plone/mockup/src/pat/tinymce/tinymce--implementation.js","webpack://plone-mosaic/./node_modules/tinymce-i18n/langs5/ lazy ^\\.\\/.*$ namespace object"],"sourcesContent":["import $ from \"jquery\";\nimport I18n from \"../../core/i18n\";\nimport _t from \"../../core/i18n-wrapper\";\nimport utils from \"../../core/utils\";\n\nlet LinkModal = null;\n\nexport default class TinyMCE {\n    constructor(el, options) {\n        this.$el = $(el);\n        this.options = options;\n    }\n    addLinkClicked() {\n        var self = this;\n        if (self.linkModal === null) {\n            var $el = $(\"<div/>\").insertAfter(self.$el);\n            var linkTypes = [\"internal\", \"upload\", \"external\", \"email\", \"anchor\"];\n            if (!self.options.upload) {\n                linkTypes.splice(1, 1);\n            }\n            self.linkModal = new LinkModal(\n                $el,\n                $.extend(true, {}, self.options, {\n                    tinypattern: self,\n                    linkTypes: linkTypes,\n                })\n            );\n            self.linkModal.show();\n        } else {\n            self.linkModal.reinitialize();\n            self.linkModal.show();\n        }\n    }\n    addImageClicked() {\n        var self = this;\n        if (self.imageModal === null) {\n            var linkTypes = [\"image\", \"uploadImage\", \"externalImage\"];\n            if (!self.options.upload) {\n                linkTypes.splice(1, 1);\n            }\n            var options = $.extend(true, {}, self.options, {\n                tinypattern: self,\n                linkTypes: linkTypes,\n                initialLinkType: \"image\",\n                text: {\n                    insertHeading: _t(\"Insert Image\"),\n                },\n                relatedItems: {\n                    selectableTypes: self.options.imageTypes,\n                },\n            });\n            var $el = $(\"<div/>\").insertAfter(self.$el);\n            self.imageModal = new LinkModal($el, options);\n            self.imageModal.show();\n        } else {\n            self.imageModal.reinitialize();\n            self.imageModal.show();\n        }\n    }\n    generateUrl(data) {\n        var self = this;\n        var part = data[self.options.linkAttribute];\n        return self.options.prependToUrl + part + self.options.appendToUrl;\n    }\n    generateImageUrl(data, scale_name) {\n        var self = this;\n        var url = self.generateUrl(data);\n        if (scale_name) {\n            url =\n                url +\n                self.options.prependToScalePart +\n                scale_name +\n                self.options.appendToScalePart;\n        } else {\n            url = url + self.options.appendToOriginalScalePart;\n        }\n        return url;\n    }\n    stripGeneratedUrl(url) {\n        // to get original attribute back\n        var self = this;\n        url = url.split(self.options.prependToScalePart, 2)[0];\n        if (self.options.prependToUrl) {\n            var parts = url.split(self.options.prependToUrl, 2);\n            if (parts.length === 2) {\n                url = parts[1];\n            }\n        }\n        if (self.options.appendToUrl) {\n            url = url.split(self.options.appendToUrl)[0];\n        }\n        return url;\n    }\n    getScaleFromUrl(url) {\n        var self = this;\n        var split = url.split(self.options.prependToScalePart);\n        if (split.length !== 2) {\n            // not valid scale, screw it\n            return null;\n        }\n        if (self.options.appendToScalePart) {\n            url = split[1].split(self.options.appendToScalePart)[0];\n        } else {\n            url = split[1];\n        }\n        if (url.indexOf(\"/image_\") !== -1) {\n            url = url.split(\"/image_\")[1];\n        }\n        return url;\n    }\n    async initLanguage(call_back) {\n        var self = this;\n        var i18n = new I18n();\n        var lang = i18n.currentLanguage;\n        if (lang !== \"en\" && self.options.tiny.language !== \"en\") {\n            try {\n                await import(`tinymce-i18n/langs5/${lang}`);\n            } catch (e) {\n                try {\n                    // expected lang not available, let's fallback to closest one\n                    if (lang.split(\"_\") > 1) {\n                        lang = lang.split(\"_\")[0];\n                    } else if (lang.split(\"-\") > 1) {\n                        lang = lang.split(\"-\")[0];\n                    } else {\n                        lang = lang + \"_\" + lang.toUpperCase();\n                    }\n                    await import(`tinymce-i18n/langs5/${lang}`);\n                } catch {\n                    console.log(\"Could not load TinyMCE language:\", lang);\n                }\n            }\n            call_back();\n        } else {\n            call_back();\n        }\n    }\n    async init() {\n        import(\"./tinymce.scss\");\n        import(\"tinymce/skins/ui/oxide/content.css\");\n        import(\"tinymce/skins/ui/oxide/skin.css\");\n\n        // tinyMCE Plugins\n        const tinymce = (await import(\"tinymce/tinymce\")).default;\n        await import(\"tinymce/plugins/advlist\");\n        await import(\"tinymce/plugins/anchor\");\n        await import(\"tinymce/plugins/autolink\");\n        await import(\"tinymce/plugins/autoresize\");\n        await import(\"tinymce/plugins/autosave\");\n        await import(\"tinymce/plugins/bbcode\");\n        await import(\"tinymce/plugins/charmap\");\n        await import(\"tinymce/plugins/code\");\n        await import(\"tinymce/plugins/colorpicker\");\n        await import(\"tinymce/plugins/contextmenu\");\n        await import(\"tinymce/plugins/directionality\");\n        await import(\"tinymce/plugins/emoticons\");\n        await import(\"tinymce/plugins/fullscreen\");\n        await import(\"tinymce/plugins/hr\");\n        await import(\"tinymce/plugins/image\");\n        await import(\"tinymce/plugins/importcss\");\n        await import(\"tinymce/plugins/insertdatetime\");\n        await import(\"tinymce/plugins/legacyoutput\");\n        await import(\"tinymce/plugins/link\");\n        await import(\"tinymce/plugins/lists\");\n        await import(\"tinymce/plugins/media\");\n        await import(\"tinymce/plugins/nonbreaking\");\n        await import(\"tinymce/plugins/noneditable\");\n        await import(\"tinymce/plugins/pagebreak\");\n        await import(\"tinymce/plugins/paste\");\n        await import(\"tinymce/plugins/preview\");\n        await import(\"tinymce/plugins/print\");\n        await import(\"tinymce/plugins/save\");\n        await import(\"tinymce/plugins/searchreplace\");\n        await import(\"tinymce/plugins/spellchecker\");\n        await import(\"tinymce/plugins/tabfocus\");\n        await import(\"tinymce/plugins/table\");\n        await import(\"tinymce/plugins/template\");\n        await import(\"tinymce/plugins/textcolor\");\n        await import(\"tinymce/plugins/textpattern\");\n        await import(\"tinymce/plugins/visualblocks\");\n        await import(\"tinymce/plugins/visualchars\");\n        await import(\"tinymce/plugins/wordcount\");\n        await import(\"tinymce/themes/silver\");\n\n        await import(\"tinymce/icons/default\");\n\n        LinkModal = (await import(\"./js/links\")).default;\n\n        var self = this;\n        self.linkModal = self.imageModal = self.uploadModal = self.pasteModal = null;\n        // tiny needs an id in order to initialize. Creat it if not set.\n        var id = utils.setId(self.$el);\n\n        if (\n            self.options.pictureVariants &&\n            typeof self.options.pictureVariants === \"string\"\n        ) {\n            self.options.pictureVariants = JSON.parse(self.options.pictureVariants);\n        }\n\n        var tinyOptions = self.options.tiny;\n        if (self.options.inline === true) {\n            self.options.tiny.inline = true;\n        }\n        self.tinyId = self.options.inline ? id + \"-editable\" : id; // when displaying TinyMCE inline, a separate div is created.\n        tinyOptions.selector = \"#\" + self.tinyId;\n        tinyOptions.addLinkClicked = function () {\n            self.addLinkClicked.apply(self, []);\n        };\n        tinyOptions.addImageClicked = function (file) {\n            self.addImageClicked.apply(self, [file]);\n        };\n        // XXX: disabled skin means it wont load css files which we already\n        // include in widgets.min.css\n        tinyOptions.skin = false;\n\n        tinyOptions.init_instance_callback = function (editor) {\n            if (self.tiny === undefined || self.tiny === null) {\n                self.tiny = editor;\n            }\n        };\n\n        self.initLanguage(function () {\n            if (typeof self.options.folderTypes === \"string\") {\n                self.options.folderTypes = self.options.folderTypes.split(\",\");\n            }\n\n            if (typeof self.options.imageTypes === \"string\") {\n                self.options.imageTypes = self.options.imageTypes.split(\",\");\n            }\n\n            if (self.options.inline === true) {\n                // create a div, which will be made content-editable by TinyMCE and\n                // copy contents from textarea to it. Then hide textarea.\n                self.$el.after(\n                    '<div id=\"' + self.tinyId + '\">' + self.$el.val() + \"</div>\"\n                );\n                self.$el.hide();\n            }\n\n            if (\n                tinyOptions.importcss_file_filter &&\n                typeof tinyOptions.importcss_file_filter.indexOf === \"function\" &&\n                tinyOptions.importcss_file_filter.indexOf(\",\") !== -1\n            ) {\n                // need a custom function to check now\n                var files = tinyOptions.importcss_file_filter.split(\",\");\n\n                tinyOptions.importcss_file_filter = function (value) {\n                    for (var i = 0; i < files.length; i++) {\n                        if (value.indexOf(files[i]) !== -1) {\n                            return true;\n                        }\n                    }\n                    return false;\n                };\n            }\n\n            if (\n                tinyOptions.importcss_selector_filter &&\n                tinyOptions.importcss_selector_filter.length\n            ) {\n                tinyOptions.importcss_selector_filter = new RegExp(\n                    tinyOptions.importcss_selector_filter\n                );\n            }\n\n            if (tinyOptions.importcss_groups && tinyOptions.importcss_groups.length) {\n                for (var i = 0; i < tinyOptions.importcss_groups.length; i++) {\n                    if (\n                        tinyOptions.importcss_groups[i].filter &&\n                        tinyOptions.importcss_groups[i].filter.length\n                    ) {\n                        tinyOptions.importcss_groups[i].filter = new RegExp(\n                            tinyOptions.importcss_groups[i].filter\n                        );\n                    }\n                }\n            }\n\n            /* If TinyMCE is rendered inside of a modal, set an ID on\n             * .plone-modal-dialog and use that as the ui_container\n             * setting for TinyMCE to anchor it there. This ensures that\n             * sub-menus are displayed relative to the modal rather than\n             * the document body.\n             * Generate a random id and append it, because there might be\n             * more than one TinyMCE in the DOM.\n             */\n            var modal_container = self.$el.parents(\".plone-modal-dialog\");\n\n            if (modal_container.length > 0) {\n                var random_id = Math.random().toString(36).substring(2, 15);\n                modal_container.attr(\"id\", \"tiny-ui-container-\" + random_id);\n                tinyOptions[\"ui_container\"] = \"#tiny-ui-container-\" + random_id;\n            }\n            tinymce.init(tinyOptions);\n            self.tiny = tinymce.get(self.tinyId);\n\n            /* tiny really should be doing this by default\n             * but this fixes overlays not saving data */\n            var $form = self.$el.parents(\"form\");\n            $form.on(\"submit\", function () {\n                if (self.options.inline === true) {\n                    // save back from contenteditable to textarea\n                    self.$el.val(self.tiny.getContent());\n                } else {\n                    // normal case\n                    self.tiny.save();\n                }\n            });\n        });\n    }\n    destroy() {\n        if (this.tiny) {\n            if (this.options.inline === true) {\n                // destroy also inline editable\n                this.$el.val(this.tiny.getContent());\n                $(\"#\" + this.tinyId).remove();\n                this.$el.show();\n            }\n            this.tiny.destroy();\n            this.tiny = undefined;\n        }\n    }\n}\n","var map = {\n\t\"./ar\": [\n\t\t62542,\n\t\t68285\n\t],\n\t\"./ar.js\": [\n\t\t62542,\n\t\t68285\n\t],\n\t\"./bg_BG\": [\n\t\t95219,\n\t\t68285\n\t],\n\t\"./bg_BG.js\": [\n\t\t95219,\n\t\t68285\n\t],\n\t\"./bn_BD\": [\n\t\t35041,\n\t\t68285\n\t],\n\t\"./bn_BD.js\": [\n\t\t35041,\n\t\t68285\n\t],\n\t\"./ca\": [\n\t\t37582,\n\t\t68285\n\t],\n\t\"./ca.js\": [\n\t\t37582,\n\t\t68285\n\t],\n\t\"./cs\": [\n\t\t33240,\n\t\t68285\n\t],\n\t\"./cs.js\": [\n\t\t33240,\n\t\t68285\n\t],\n\t\"./cy\": [\n\t\t1124,\n\t\t68285\n\t],\n\t\"./cy.js\": [\n\t\t1124,\n\t\t68285\n\t],\n\t\"./da\": [\n\t\t29298,\n\t\t68285\n\t],\n\t\"./da.js\": [\n\t\t29298,\n\t\t68285\n\t],\n\t\"./de\": [\n\t\t57322,\n\t\t68285\n\t],\n\t\"./de.js\": [\n\t\t57322,\n\t\t68285\n\t],\n\t\"./el\": [\n\t\t2298,\n\t\t68285\n\t],\n\t\"./el.js\": [\n\t\t2298,\n\t\t68285\n\t],\n\t\"./eo\": [\n\t\t79749,\n\t\t68285\n\t],\n\t\"./eo.js\": [\n\t\t79749,\n\t\t68285\n\t],\n\t\"./es\": [\n\t\t17431,\n\t\t68285\n\t],\n\t\"./es.js\": [\n\t\t17431,\n\t\t68285\n\t],\n\t\"./es_ES\": [\n\t\t36321,\n\t\t68285\n\t],\n\t\"./es_ES.js\": [\n\t\t36321,\n\t\t68285\n\t],\n\t\"./es_MX\": [\n\t\t74774,\n\t\t68285\n\t],\n\t\"./es_MX.js\": [\n\t\t74774,\n\t\t68285\n\t],\n\t\"./et\": [\n\t\t34998,\n\t\t68285\n\t],\n\t\"./et.js\": [\n\t\t34998,\n\t\t68285\n\t],\n\t\"./eu\": [\n\t\t14612,\n\t\t68285\n\t],\n\t\"./eu.js\": [\n\t\t14612,\n\t\t68285\n\t],\n\t\"./fa\": [\n\t\t58489,\n\t\t68285\n\t],\n\t\"./fa.js\": [\n\t\t58489,\n\t\t68285\n\t],\n\t\"./fa_IR\": [\n\t\t80875,\n\t\t68285\n\t],\n\t\"./fa_IR.js\": [\n\t\t80875,\n\t\t68285\n\t],\n\t\"./fi\": [\n\t\t75211,\n\t\t68285\n\t],\n\t\"./fi.js\": [\n\t\t75211,\n\t\t68285\n\t],\n\t\"./fr_FR\": [\n\t\t9933,\n\t\t68285\n\t],\n\t\"./fr_FR.js\": [\n\t\t9933,\n\t\t68285\n\t],\n\t\"./gl\": [\n\t\t96999,\n\t\t68285\n\t],\n\t\"./gl.js\": [\n\t\t96999,\n\t\t68285\n\t],\n\t\"./he_IL\": [\n\t\t63635,\n\t\t68285\n\t],\n\t\"./he_IL.js\": [\n\t\t63635,\n\t\t68285\n\t],\n\t\"./hr\": [\n\t\t79219,\n\t\t68285\n\t],\n\t\"./hr.js\": [\n\t\t79219,\n\t\t68285\n\t],\n\t\"./hu_HU\": [\n\t\t45723,\n\t\t68285\n\t],\n\t\"./hu_HU.js\": [\n\t\t45723,\n\t\t68285\n\t],\n\t\"./hy\": [\n\t\t18279,\n\t\t68285\n\t],\n\t\"./hy.js\": [\n\t\t18279,\n\t\t68285\n\t],\n\t\"./id\": [\n\t\t10119,\n\t\t68285\n\t],\n\t\"./id.js\": [\n\t\t10119,\n\t\t68285\n\t],\n\t\"./it\": [\n\t\t77018,\n\t\t68285\n\t],\n\t\"./it.js\": [\n\t\t77018,\n\t\t68285\n\t],\n\t\"./it_IT\": [\n\t\t17648,\n\t\t68285\n\t],\n\t\"./it_IT.js\": [\n\t\t17648,\n\t\t68285\n\t],\n\t\"./ja\": [\n\t\t92901,\n\t\t68285\n\t],\n\t\"./ja.js\": [\n\t\t92901,\n\t\t68285\n\t],\n\t\"./kab\": [\n\t\t67061,\n\t\t68285\n\t],\n\t\"./kab.js\": [\n\t\t67061,\n\t\t68285\n\t],\n\t\"./kk\": [\n\t\t22331,\n\t\t68285\n\t],\n\t\"./kk.js\": [\n\t\t22331,\n\t\t68285\n\t],\n\t\"./ko_KR\": [\n\t\t57798,\n\t\t68285\n\t],\n\t\"./ko_KR.js\": [\n\t\t57798,\n\t\t68285\n\t],\n\t\"./ku\": [\n\t\t2125,\n\t\t68285\n\t],\n\t\"./ku.js\": [\n\t\t2125,\n\t\t68285\n\t],\n\t\"./lt\": [\n\t\t31472,\n\t\t68285\n\t],\n\t\"./lt.js\": [\n\t\t31472,\n\t\t68285\n\t],\n\t\"./nb_NO\": [\n\t\t15016,\n\t\t68285\n\t],\n\t\"./nb_NO.js\": [\n\t\t15016,\n\t\t68285\n\t],\n\t\"./nl\": [\n\t\t59170,\n\t\t68285\n\t],\n\t\"./nl.js\": [\n\t\t59170,\n\t\t68285\n\t],\n\t\"./pl\": [\n\t\t92178,\n\t\t68285\n\t],\n\t\"./pl.js\": [\n\t\t92178,\n\t\t68285\n\t],\n\t\"./pt_BR\": [\n\t\t75867,\n\t\t68285\n\t],\n\t\"./pt_BR.js\": [\n\t\t75867,\n\t\t68285\n\t],\n\t\"./pt_PT\": [\n\t\t63746,\n\t\t68285\n\t],\n\t\"./pt_PT.js\": [\n\t\t63746,\n\t\t68285\n\t],\n\t\"./ro\": [\n\t\t4026,\n\t\t68285\n\t],\n\t\"./ro.js\": [\n\t\t4026,\n\t\t68285\n\t],\n\t\"./ro_RO\": [\n\t\t97674,\n\t\t68285\n\t],\n\t\"./ro_RO.js\": [\n\t\t97674,\n\t\t68285\n\t],\n\t\"./ru\": [\n\t\t45002,\n\t\t68285\n\t],\n\t\"./ru.js\": [\n\t\t45002,\n\t\t68285\n\t],\n\t\"./sk\": [\n\t\t87242,\n\t\t68285\n\t],\n\t\"./sk.js\": [\n\t\t87242,\n\t\t68285\n\t],\n\t\"./sl\": [\n\t\t85000,\n\t\t68285\n\t],\n\t\"./sl.js\": [\n\t\t85000,\n\t\t68285\n\t],\n\t\"./sl_SI\": [\n\t\t1379,\n\t\t68285\n\t],\n\t\"./sl_SI.js\": [\n\t\t1379,\n\t\t68285\n\t],\n\t\"./sv_SE\": [\n\t\t88616,\n\t\t68285\n\t],\n\t\"./sv_SE.js\": [\n\t\t88616,\n\t\t68285\n\t],\n\t\"./ta\": [\n\t\t74719,\n\t\t68285\n\t],\n\t\"./ta.js\": [\n\t\t74719,\n\t\t68285\n\t],\n\t\"./ta_IN\": [\n\t\t67569,\n\t\t68285\n\t],\n\t\"./ta_IN.js\": [\n\t\t67569,\n\t\t68285\n\t],\n\t\"./th_TH\": [\n\t\t87753,\n\t\t68285\n\t],\n\t\"./th_TH.js\": [\n\t\t87753,\n\t\t68285\n\t],\n\t\"./tr\": [\n\t\t57035,\n\t\t68285\n\t],\n\t\"./tr.js\": [\n\t\t57035,\n\t\t68285\n\t],\n\t\"./tr_TR\": [\n\t\t17666,\n\t\t68285\n\t],\n\t\"./tr_TR.js\": [\n\t\t17666,\n\t\t68285\n\t],\n\t\"./uk\": [\n\t\t4697,\n\t\t68285\n\t],\n\t\"./uk.js\": [\n\t\t4697,\n\t\t68285\n\t],\n\t\"./vi\": [\n\t\t62312,\n\t\t68285\n\t],\n\t\"./vi.js\": [\n\t\t62312,\n\t\t68285\n\t],\n\t\"./zh_CN\": [\n\t\t24577,\n\t\t68285\n\t],\n\t\"./zh_CN.js\": [\n\t\t24577,\n\t\t68285\n\t],\n\t\"./zh_TW\": [\n\t\t62222,\n\t\t68285\n\t],\n\t\"./zh_TW.js\": [\n\t\t62222,\n\t\t68285\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 7 | 16);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 38531;\nmodule.exports = webpackAsyncContext;"],"names":["i","LinkModal","TinyMCE","el","options","this","$el","$","self","linkModal","insertAfter","linkTypes","upload","splice","tinypattern","show","reinitialize","imageModal","initialLinkType","text","insertHeading","_t","relatedItems","selectableTypes","imageTypes","data","part","linkAttribute","prependToUrl","appendToUrl","scale_name","url","generateUrl","prependToScalePart","appendToScalePart","appendToOriginalScalePart","split","parts","length","indexOf","call_back","i18n","I18n","lang","currentLanguage","tiny","language","toUpperCase","console","log","tinymce","default","uploadModal","pasteModal","id","utils","pictureVariants","JSON","parse","tinyOptions","inline","tinyId","selector","addLinkClicked","apply","addImageClicked","file","skin","init_instance_callback","editor","undefined","initLanguage","folderTypes","after","val","hide","importcss_file_filter","files","value","importcss_selector_filter","RegExp","importcss_groups","filter","modal_container","parents","random_id","Math","random","toString","substring","attr","init","get","on","getContent","save","remove","destroy","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","t","keys","Object","module","exports"],"sourceRoot":""}